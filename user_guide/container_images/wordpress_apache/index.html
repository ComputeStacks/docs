<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Migrate from Wordpress Apache to LiteSpeed"><link rel="shortcut icon" href=../../../images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.4.0"><title>Wordpress (Apache)</title><link rel=stylesheet href=../../../assets/stylesheets/main.fe0cca5b.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.a46bcfb3.min.css><meta name=theme-color content=#2196f3><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><style>
        .git-revision-date-localized-plugin-iso_date { display: none }
        @media print {
           .git-revision-date-localized-plugin-iso_date { display: inline } 
           .git-revision-date-localized-plugin-timeago { display: none } 
        }
        </style></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#migrate-from-apache-to-litespeed class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../../.. title="ComputeStacks Documentation" class="md-header-nav__button md-logo" aria-label="ComputeStacks Documentation"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><path class=fa-secondary d="M96 0H32A32 32 0 0 0 0 32v64h128V32A32 32 0 0 0 96 0zM0 384h128V128H0zm0 96a32 32 0 0 0 32 32h64a32 32 0 0 0 32-32v-64H0zm513.62-17.78L401.08 42.71l-60.26 16.14 112.35 418.8c.11.39.2.79.29 1.18l60.29-16.15c-.04-.15-.09-.3-.13-.46zM160 480a32 32 0 0 0 32 32h64a32 32 0 0 0 32-32v-64H160zM256 0h-64a32 32 0 0 0-32 32v64h124.79l-8-29.65a23.94 23.94 0 0 1 11.17-27V32A32 32 0 0 0 256 0zm-96 384h128V128H160z"/><path class=fa-primary d="M0 416h128v-32H0zm0-288h128V96H0zm575.17 317.65L460.39 17.78a23.89 23.89 0 0 0-29.18-17h-.09L415.73 5a24 24 0 0 0-16.9 29.36l114.79 427.86a23.89 23.89 0 0 0 29.18 17h.09l15.38-4.22a24 24 0 0 0 16.9-29.35zM160 416h128v-32H160zM338.39 49.78a23.89 23.89 0 0 0-29.18-17h-.09L293.73 37a24 24 0 0 0-16.9 29.36l8 29.65H160v32h128V108l103.62 386.22a23.89 23.89 0 0 0 29.18 17h.09l15.38-4.22a24 24 0 0 0 16.9-29.33z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> ComputeStacks Documentation </span> <span class="md-header-nav__topic md-ellipsis"> Wordpress (Apache) </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../../admin_guide/ class=md-tabs__link> Admin guide </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> User guide </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="ComputeStacks Documentation" class="md-nav__button md-logo" aria-label="ComputeStacks Documentation"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><path class=fa-secondary d="M96 0H32A32 32 0 0 0 0 32v64h128V32A32 32 0 0 0 96 0zM0 384h128V128H0zm0 96a32 32 0 0 0 32 32h64a32 32 0 0 0 32-32v-64H0zm513.62-17.78L401.08 42.71l-60.26 16.14 112.35 418.8c.11.39.2.79.29 1.18l60.29-16.15c-.04-.15-.09-.3-.13-.46zM160 480a32 32 0 0 0 32 32h64a32 32 0 0 0 32-32v-64H160zM256 0h-64a32 32 0 0 0-32 32v64h124.79l-8-29.65a23.94 23.94 0 0 1 11.17-27V32A32 32 0 0 0 256 0zm-96 384h128V128H160z"/><path class=fa-primary d="M0 416h128v-32H0zm0-288h128V96H0zm575.17 317.65L460.39 17.78a23.89 23.89 0 0 0-29.18-17h-.09L415.73 5a24 24 0 0 0-16.9 29.36l114.79 427.86a23.89 23.89 0 0 0 29.18 17h.09l15.38-4.22a24 24 0 0 0 16.9-29.35zM160 416h128v-32H160zM338.39 49.78a23.89 23.89 0 0 0-29.18-17h-.09L293.73 37a24 24 0 0 0-16.9 29.36l8 29.65H160v32h128V108l103.62 386.22a23.89 23.89 0 0 0 29.18 17h.09l15.38-4.22a24 24 0 0 0 16.9-29.33z"/></svg> </a> ComputeStacks Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Overview class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Admin guide <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Admin guide" data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Admin guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin_guide/ title=Overview class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> Billing <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Billing data-md-level=2> <label class=md-nav__title for=nav-2-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Billing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin_guide/billing/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../admin_guide/billing/billing_plans/ title="Billing Plans" class=md-nav__link> Billing Plans </a> </li> <li class=md-nav__item> <a href=../../../admin_guide/billing/integrations/ title="Invoicing & Payments" class=md-nav__link> Invoicing & Payments </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-3 type=checkbox id=nav-2-3> <label class=md-nav__link for=nav-2-3> Cluster management <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Cluster management" data-md-level=2> <label class=md-nav__title for=nav-2-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Cluster management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin_guide/cluster_management/change_region_name/ title="Rename Region" class=md-nav__link> Rename Region </a> </li> <li class=md-nav__item> <a href=../../../admin_guide/cluster_management/cs_database/ title="Controller Database" class=md-nav__link> Controller Database </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> Getting started <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Getting started" data-md-level=2> <label class=md-nav__title for=nav-2-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin_guide/getting_started/architecture_overview/ title=Architecture class=md-nav__link> Architecture </a> </li> <li class=md-nav__item> <a href=../../../admin_guide/getting_started/onprem-demo/ title="OnPrem Demo" class=md-nav__link> OnPrem Demo </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-5 type=checkbox id=nav-2-5> <label class=md-nav__link for=nav-2-5> Integrations <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Integrations data-md-level=2> <label class=md-nav__title for=nav-2-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin_guide/integrations/cpanel_plugin/ title=cPanel class=md-nav__link> cPanel </a> </li> <li class=md-nav__item> <a href=../../../admin_guide/integrations/webhooks/ title=Webhooks class=md-nav__link> Webhooks </a> </li> <li class=md-nav__item> <a href=../../../admin_guide/integrations/whmcs_plugin/ title=WHMCS class=md-nav__link> WHMCS </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> User guide <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="User guide" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> User guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../backups/ title=Backups class=md-nav__link> Backups </a> </li> <li class=md-nav__item> <a href=../../developer-tools/ title="Developer Tools" class=md-nav__link> Developer Tools </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4 checked> <label class=md-nav__link for=nav-3-4> Container images <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Container images" data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Container images </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../elastic-search/ title=ElasticSearch class=md-nav__link> ElasticSearch </a> </li> <li class=md-nav__item> <a href=../redis/ title=Redis class=md-nav__link> Redis </a> </li> <li class=md-nav__item> <a href=../whmcs/ title="WHMCS Image" class=md-nav__link> WHMCS Image </a> </li> <li class=md-nav__item> <a href=../wordpress/ title=Wordpress class=md-nav__link> Wordpress </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Wordpress (Apache) <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="Wordpress (Apache)" class="md-nav__link md-nav__link--active"> Wordpress (Apache) </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#preflight class=md-nav__link> Preflight </a> </li> <li class=md-nav__item> <a href=#migration class=md-nav__link> Migration </a> <nav class=md-nav aria-label=Migration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#migrate-database class=md-nav__link> Migrate Database </a> </li> <li class=md-nav__item> <a href=#migrate-wordpress-data class=md-nav__link> Migrate wordpress data </a> <nav class=md-nav aria-label="Migrate wordpress data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#before-moving-data class=md-nav__link> Before Moving Data </a> </li> <li class=md-nav__item> <a href=#perform-migration class=md-nav__link> Perform Migration </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-5 type=checkbox id=nav-3-5> <label class=md-nav__link for=nav-3-5> Core concepts <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Core concepts" data-md-level=2> <label class=md-nav__title for=nav-3-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Core concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../core-concepts/mail/ title="Sending Mail" class=md-nav__link> Sending Mail </a> </li> <li class=md-nav__item> <a href=../../core-concepts/ssh/ title="SSH & File Access" class=md-nav__link> SSH & File Access </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-6 type=checkbox id=nav-3-6> <label class=md-nav__link for=nav-3-6> How to <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="How to" data-md-level=2> <label class=md-nav__title for=nav-3-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> How to </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../how-to/building-images/ title="Building Images" class=md-nav__link> Building Images </a> </li> <li class=md-nav__item> <a href=../../how-to/clone-project/ title="Clone a project" class=md-nav__link> Clone a project </a> </li> <li class=md-nav__item> <a href=../../how-to/moving/ title="Migrate Existing Application" class=md-nav__link> Migrate Existing Application </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-7 type=checkbox id=nav-3-7> <label class=md-nav__link for=nav-3-7> Third party <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Third party" data-md-level=2> <label class=md-nav__title for=nav-3-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Third party </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../third-party/cloudflare/ title=Cloudflare class=md-nav__link> Cloudflare </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#preflight class=md-nav__link> Preflight </a> </li> <li class=md-nav__item> <a href=#migration class=md-nav__link> Migration </a> <nav class=md-nav aria-label=Migration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#migrate-database class=md-nav__link> Migrate Database </a> </li> <li class=md-nav__item> <a href=#migrate-wordpress-data class=md-nav__link> Migrate wordpress data </a> <nav class=md-nav aria-label="Migrate wordpress data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#before-moving-data class=md-nav__link> Before Moving Data </a> </li> <li class=md-nav__item> <a href=#perform-migration class=md-nav__link> Perform Migration </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=migrate-from-apache-to-litespeed>Migrate from Apache to LiteSpeed<a class=headerlink href=#migrate-from-apache-to-litespeed title="Permanent link">&para;</a></h1> <p>Our <a href=../wordpress/ >default Wordpress installation</a> now uses the <a href=https://openlitespeed.org target=_blank>Open LiteSpeed</a>. This guide will aid in your transition to our new image.</p> <p>Due to changes in the volume structure between the images, a normal upgrade is not possible. Instead, this guide will walk you through migrating your data from your old container, to your new litespeed-based wordpress container.</p> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>Before migrating to the new image, be sure to understand a few important changes:</p> <ol> <li>The webserver will be moved from Apache to <a href=https://openlitespeed.org target=_blank>OpenLiteSpeed</a>. While all widely used <code>.htaccess</code> directives are supported, you may find that some lesser-used rules may not function. Please consult the Open Litespeed documentation if you find that your site is not behaving as expected.</li> <li><em>Caching:</em> We recommend that you use <a href=https://wordpress.org/plugins/litespeed-cache/ target=_blank>Litespeed&rsquo;s own Wordpress caching plugin</a>. This is designed to work best with the Open Litespeed web server and will be the most stable for your site. The Litespeed caching plugin supports many common caching techniques including page caching, css/js minification and optimization, image optimization, and object caching through redis or memcached. However, we have had success using the W3T Caching plugin with browser caching disabled (this is handled by Litespeed).</li> <li>You will find that there is now a web administrator. You can use this to make configuration changes to the litespeed webserver; these changes are persisted on a separate volume attached to your container.</li> </ol> <h2 id=preflight>Preflight<a class=headerlink href=#preflight title="Permanent link">&para;</a></h2> <ol> <li>If you&rsquo;re using horizontal scaling, scale your service back to 1 container.</li> <li>Take a backup of both your database and wordpress containers.</li> <li>If you have any caching plugins enabled, clear their cache and disable them.</li> </ol> <h2 id=migration>Migration<a class=headerlink href=#migration title="Permanent link">&para;</a></h2> <p>The migration process is fairly simple, and involves creating a new wordpress &amp; database container with the litespeed image and migrating your wordpress data over.</p> <ul> <li>Create a new Wordpress Litespeed container and it&rsquo;s associated MariaDB 10.3 container.</li> <li>Stop both the existing Wordpress container, and the new wordpress container.</li> </ul> <h3 id=migrate-database>Migrate Database<a class=headerlink href=#migrate-database title="Permanent link">&para;</a></h3> <div class="admonition tip"> <p>This is current as of v5.2. In a future CS update, you will be able to do an in-place container upgrade of the database</p> </div> <p>Perform a mysql dump on your existing database, and migrate it to the new database container.</p> <h3 id=migrate-wordpress-data>Migrate wordpress data<a class=headerlink href=#migrate-wordpress-data title="Permanent link">&para;</a></h3> <h4 id=before-moving-data>Before Moving Data<a class=headerlink href=#before-moving-data title="Permanent link">&para;</a></h4> <p>Locate and take note of the <code>SFTP Volume Paths</code> under the SFTP/SSH credentials section within ComputeStacks.</p> <p>The <strong><em>new</em></strong> container should be in the form of: <code>/home/sftpuser/apps/&lt;service-name&gt;/wordpress</code></p> <p>The <strong><em>old</em></strong> container should be in the form of: <code>/home/sftpuser/apps/&lt;service-name&gt;/Wordpress</code></p> <p>There is a difference in folder structure between the new and old wordpress containers. Be sure that when you&rsquo;re copying files, you&rsquo;re copying from the website root of one site to another.</p> <div class="admonition tip"> <p>In the following examples, we are assuming that the web root of both containers are:</p> <p>NEW: <code>/home/sftpuser/apps/&lt;service-name&gt;/wordpress/html/wordpress/</code></p> <p>OLD: <code>/home/sftpuser/apps/&lt;service-name&gt;/Wordpress/</code></p> </div> <h4 id=perform-migration>Perform Migration<a class=headerlink href=#perform-migration title="Permanent link">&para;</a></h4> <div class="admonition danger"> <p>SSH Into the SFTP Container of the <em><strong>NEW</strong></em> Wordpress container you just created.</p> </div> <ol> <li>Delete the default wordpress installation <div class=highlight><pre><span></span><code>rm -rf /home/sftpuser/apps/&lt;service-name&gt;/wordpress/html/wordpress/
</code></pre></div></li> <li> <p>Now determine if this SFTP container is also in use by old wordpress site by trying to <code>cd</code> to the SFTP volume path of the OLD wordpress container. IF that exists, proceed to 2(a), otherwise use 2(b).</p> <details class=example><summary>(A) Local rsync: old site to new volume</summary><p>Data is available in the same SFTP/SSH container</p> <div class=highlight><pre><span></span><code>rsync -aP /home/sftpuser/apps/&lt;old-service-name&gt;/Wordpress/ /home/sftpuser/apps/&lt;new-service-name&gt;/wordpress/html/wordpress/
</code></pre></div> </details> <details class=example><summary>(B) Remote rsync: old site to new volume</summary><p>For this, you will need the IP, port, and password of the old sftp container.</p> <div class=highlight><pre><span></span><code>rsync -e <span class=s1>&#39;ssh -p &lt;port-of-old-sftp-container&gt;&#39;</span> -aP sftpuser@&lt;ip-of-old-sftp-container&gt;:/home/sftpuser/apps/&lt;old-service-name&gt;/Wordpress/ /home/sftpuser/apps/&lt;new-service-name&gt;/wordpress/html/wordpress/
</code></pre></div> </details> </li> <li> <p>Modify <code>wp-config.php</code> using vim or nano and update the IP address &amp; password of the database. The database name should be the same.</p> </li> <li> <p>Adjust file permissions of the new wordpress site</p> </li> </ol> <div class=highlight><pre><span></span><code><span class=nb>cd</span> /home/sftpuser/apps/&lt;new-service-name&gt;/wordpress/html/wordpress/ <span class=se>\</span>
find . -type d -exec chmod <span class=m>755</span> <span class=o>{}</span> <span class=se>\;</span> 
find . -type f -exec chmod <span class=m>644</span> <span class=o>{}</span> <span class=se>\;</span>
</code></pre></div> <ol> <li>Start the new wordpress container</li> <li>Edit the domain in the project and point the domain to the new service &amp; ingress rule (port 80).</li> <li>Verify your site is working and re-enable caching (preferably with the the <a href=https://wordpress.org/plugins/litespeed-cache/ >Litespeed Caching Plugin</a>)</li> <li>(optional) Scale out horizontally</li> <li>(optional) Delete the old wordpress apache container and the old database container</li> </ol> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h2> <details class=question><summary>The site does not load, or displays a blank white page</summary><p>This may be caused by incorrect file/folder permissions that Litespeed requires. You can quickly reset everything by running the following commands from the SFTP container:</p> <div class=highlight><pre><span></span><code><span class=nb>cd</span> ~/apps/new-litespeed-container/webroot/
find . -type d -exec chmod <span class=m>755</span> <span class=o>{}</span> <span class=se>\;</span>
find . -type f -exec chmod <span class=m>644</span> <span class=o>{}</span> <span class=se>\;</span>
</code></pre></div> <p><em>Note: Both <code>find</code> commands may take some time to run depending on how many files &amp; folders you have in your site.</em></p> </details> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2020-07-21T19:29:57+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2020-07-21</span> </small> </div> </article> </div> </div> </main> <!-- Override https://github.com/squidfunk/mkdocs-material/blob/master/material/partials/footer.html --> <script>
window.belcoConfig = {
  shopId: 'qMeM9TQt8D5dQSc3j'
};
</script> <script>!function(n,o){var e=window.belcoFunction||"Belco";window[e]||(window[e]=function(n){if(void 0===window[e][n])throw new Error("Unknown method");return window[e][n].apply(window[e],Array.prototype.slice.call(arguments,1))}),window[e]._q=[];for(var i=["init","sync","track","page","open","close","toggle","on","once","off","anonymousId","customer","reset","sendMessage"],t=function(n){return function(){var o=Array.prototype.slice.call(arguments);return o.unshift(n),window[e]._q.push(o),window[e]}},w=0;w<i.length;w++){var r=i[w];window[e][r]=t(r)}window[e].load=function(e){if(!n.getElementById("belco-js")){var i=n.createElement(o);i.async=!0,i.id="belco-js",i.type="text/javascript",i.src="//cdn.belco.io/v2/widget.js",i.onload=function(n){"function"==typeof e&&e(n)};var t=n.getElementsByTagName(o)[0];t.parentNode.insertBefore(i,t)}},window.belcoConfig&&window[e].load(function(){window[e]("init",window.belcoConfig)})}(document,"script");</script> </div> <script src=../../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../../assets/javascripts/bundle.b39636ac.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ["instant", "tabs"],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src=https://cdnjs.cloudflare.com/ajax/libs/timeago.js/4.0.0-beta.2/timeago.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/timeago.js/4.0.0-beta.2/timeago.locales.min.js></script> <script>
            var nodes = document.querySelectorAll('.timeago');
            var locale = nodes[0].getAttribute('locale');
            timeago.render(nodes, locale);
          </script> </body> </html>