{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"ComputeStacks Documentation \u00b6 ComputeStacks is a commercial container orchestration and hosting platform for service providers. View our current API Documentation . Visit our Forum Access our free online demo . Schedule a call for a guided demo and to see our backend interface. Frequently Asked Questions \u00b6 Architecture Overview How To Install View our Pricing Understanding our Billing System and WHMCS integration. ComputeStacks SSH Access We will be connecting from the following IP Addresses: 192.155.86.87 2600:3c01::f03c:92ff:feaa:fc7e ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDl6+KP0+AK14bBdS0s+hIey/Jg7l9ijNSTrIn/99lA+ CS-support","title":"Home"},{"location":"#computestacks-documentation","text":"ComputeStacks is a commercial container orchestration and hosting platform for service providers. View our current API Documentation . Visit our Forum Access our free online demo . Schedule a call for a guided demo and to see our backend interface.","title":"ComputeStacks Documentation"},{"location":"#frequently-asked-questions","text":"Architecture Overview How To Install View our Pricing Understanding our Billing System and WHMCS integration. ComputeStacks SSH Access We will be connecting from the following IP Addresses: 192.155.86.87 2600:3c01::f03c:92ff:feaa:fc7e ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDl6+KP0+AK14bBdS0s+hIey/Jg7l9ijNSTrIn/99lA+ CS-support","title":"Frequently Asked Questions"},{"location":"changelog/","text":"Change Log \u00b6 v6.3.2 \u00b6 Sep 8, 2021 [FEATURE] Additional container resource limits. Open file limits, pid limits, and disk IOPS limits. v6.3.0 \u00b6 Aug 26, 2021 [FEATURE] Optionally delete stopped containers from container nodes. This also includes an option to override that setting on a per-image, or per-container service (admin only). [FEATURE] Choose whether or not to bill for stopped containers. [FEATURE] Option to stop billing when a user is suspended. [FEATURE] Admins can now manually pull (update) a global image on all nodes. [FEATURE] New admin api endpoint to show allocated resources within a region. [CHANGE] Include project details in email notifications. [FIX] Resolve issue that prevented creating products with the admin api. [FIX] Display correct sftp container IP address in admin interface. [FIX] Allow setting daily retention setting for backups. v6.2.7 \u00b6 Aug 6, 2021 [FEATURE] Display billing module connection status on settings page. [FIX] CPU and Memory were swapped on the admin dashboard. [FIX] Missing error message when adding ingress rule without a port. [FIX] When updating the billing module, the current module would not be selected. v6.2.6 \u00b6 July 27, 2021 [FEATURE] Ability to organize packages by groups [CHANGE] Include user\u2019s aggregated total unprocessed usage in all user api endpoints. [CHANGE] Refresh package list UI [CHANGE] Additional search options for the admin users api. v6.2.5 \u00b6 July 11, 2021 [CHANGE] Added ingress rules to container api. v6.2.4 \u00b6 June 30, 2021 [CHANGE] Include project info in the api call to list container services. [CHANGE] You can now view and edit existing SSL certificates. (Previously you had to upload a complete new bundle) [FIX] Resolve issue that may have prevented some old ssl certificates from being cleaned up. [FIX] Resolve usage aggregation error when a product was removed from a billing plan, but a service was still active. Same issue also affected the auto-scaling UI. v6.2.3 \u00b6 June 21, 2021 [FEATURE] Support resyncing sftp containers in both admin and end-user interface. [FIX] Error that prevented certain products from being added to a billing plan. [FIX] Reset SFTP password via api. [FIX] Backup restore api. v6.2.2 \u00b6 June 8, 2021 [FEATURE] Support for adding a logo to email templates. [FIX] Resolve issue that would not place scaled containers on the node that had their volume. [FIX] Resolve issue with phpMyAdmin accessing it\u2019s configuration from the controller. [FIX] Various bug fixes. v6.2.1 \u00b6 May 25, 2021 [FIX] Correctly recover ssh containers. [FIX] Bug when viewing environmental vars for a service. v6.2.0 \u00b6 May 14, 2021 [FEATURE] Ability to disable SSH containers at a per-project level (via the API only, and only at creation). [FEATURE] Support for creating public IP networks. [FEATURE] Manage settings for a service after it\u2019s deployed (previously only possible with images). [FEATURE] Full ingress rule management (previously only available via the API) [FEATURE] U2F Security Keys have been upgraded to WebAuth (FIDO 2). [FEATURE] Ability to prevent overcommitting cpu or memory on a node. [FEATURE] Place containers within an AZ or node based on the allocated resources, rather than just the quantity of containers. [FEATURE] Support for excluding directories from backups by using: echo \u201cSignature: 8a477f597d28d172789f06886806bc55\u201d > CACHEDIR.TAG [CHANGE] Important: Any container that bypasses the load balancer will now be billed for all data sent from that container, including inter-project bandwidth. [CHANGE] Updated Container Service layout [CHANGE] Switch to fluentd for container log aggregation on each node. [FIX] Resolved issue that prevented correct amount of swap from being applied to containers.","title":"Change Log"},{"location":"changelog/#change-log","text":"","title":"Change Log"},{"location":"changelog/#v632","text":"Sep 8, 2021 [FEATURE] Additional container resource limits. Open file limits, pid limits, and disk IOPS limits.","title":"v6.3.2"},{"location":"changelog/#v630","text":"Aug 26, 2021 [FEATURE] Optionally delete stopped containers from container nodes. This also includes an option to override that setting on a per-image, or per-container service (admin only). [FEATURE] Choose whether or not to bill for stopped containers. [FEATURE] Option to stop billing when a user is suspended. [FEATURE] Admins can now manually pull (update) a global image on all nodes. [FEATURE] New admin api endpoint to show allocated resources within a region. [CHANGE] Include project details in email notifications. [FIX] Resolve issue that prevented creating products with the admin api. [FIX] Display correct sftp container IP address in admin interface. [FIX] Allow setting daily retention setting for backups.","title":"v6.3.0"},{"location":"changelog/#v627","text":"Aug 6, 2021 [FEATURE] Display billing module connection status on settings page. [FIX] CPU and Memory were swapped on the admin dashboard. [FIX] Missing error message when adding ingress rule without a port. [FIX] When updating the billing module, the current module would not be selected.","title":"v6.2.7"},{"location":"changelog/#v626","text":"July 27, 2021 [FEATURE] Ability to organize packages by groups [CHANGE] Include user\u2019s aggregated total unprocessed usage in all user api endpoints. [CHANGE] Refresh package list UI [CHANGE] Additional search options for the admin users api.","title":"v6.2.6"},{"location":"changelog/#v625","text":"July 11, 2021 [CHANGE] Added ingress rules to container api.","title":"v6.2.5"},{"location":"changelog/#v624","text":"June 30, 2021 [CHANGE] Include project info in the api call to list container services. [CHANGE] You can now view and edit existing SSL certificates. (Previously you had to upload a complete new bundle) [FIX] Resolve issue that may have prevented some old ssl certificates from being cleaned up. [FIX] Resolve usage aggregation error when a product was removed from a billing plan, but a service was still active. Same issue also affected the auto-scaling UI.","title":"v6.2.4"},{"location":"changelog/#v623","text":"June 21, 2021 [FEATURE] Support resyncing sftp containers in both admin and end-user interface. [FIX] Error that prevented certain products from being added to a billing plan. [FIX] Reset SFTP password via api. [FIX] Backup restore api.","title":"v6.2.3"},{"location":"changelog/#v622","text":"June 8, 2021 [FEATURE] Support for adding a logo to email templates. [FIX] Resolve issue that would not place scaled containers on the node that had their volume. [FIX] Resolve issue with phpMyAdmin accessing it\u2019s configuration from the controller. [FIX] Various bug fixes.","title":"v6.2.2"},{"location":"changelog/#v621","text":"May 25, 2021 [FIX] Correctly recover ssh containers. [FIX] Bug when viewing environmental vars for a service.","title":"v6.2.1"},{"location":"changelog/#v620","text":"May 14, 2021 [FEATURE] Ability to disable SSH containers at a per-project level (via the API only, and only at creation). [FEATURE] Support for creating public IP networks. [FEATURE] Manage settings for a service after it\u2019s deployed (previously only possible with images). [FEATURE] Full ingress rule management (previously only available via the API) [FEATURE] U2F Security Keys have been upgraded to WebAuth (FIDO 2). [FEATURE] Ability to prevent overcommitting cpu or memory on a node. [FEATURE] Place containers within an AZ or node based on the allocated resources, rather than just the quantity of containers. [FEATURE] Support for excluding directories from backups by using: echo \u201cSignature: 8a477f597d28d172789f06886806bc55\u201d > CACHEDIR.TAG [CHANGE] Important: Any container that bypasses the load balancer will now be billed for all data sent from that container, including inter-project bandwidth. [CHANGE] Updated Container Service layout [CHANGE] Switch to fluentd for container log aggregation on each node. [FIX] Resolved issue that prevented correct amount of swap from being applied to containers.","title":"v6.2.0"},{"location":"admin_api/","text":"Admin API \u00b6 Our Administrator API is intentionally limited in what it can do. Anything that can be done by the user, should be. Please see our user API Documentation . When building your custom integration, you will need acquire the user\u2019s API credentials in order to perform most API actions. There are two ways to do this: Store API credentials for the user locally in your application Use OAuth to gain temporary access only when the user specifically approves it (recommended) . A note about types DateTime will be returned as a String Decimal when referring to prices will be returned as a String .","title":"Overview"},{"location":"admin_api/#admin-api","text":"Our Administrator API is intentionally limited in what it can do. Anything that can be done by the user, should be. Please see our user API Documentation . When building your custom integration, you will need acquire the user\u2019s API credentials in order to perform most API actions. There are two ways to do this: Store API credentials for the user locally in your application Use OAuth to gain temporary access only when the user specifically approves it (recommended) . A note about types DateTime will be returned as a String Decimal when referring to prices will be returned as a String .","title":"Admin API"},{"location":"admin_api/latest/billing/","text":"Billing \u00b6","title":"Overview"},{"location":"admin_api/latest/billing/#billing","text":"","title":"Billing"},{"location":"admin_api/latest/billing/billing_plans/","text":"Billing Plans \u00b6 List All Billing Plans \u00b6 GET /api/admin/billing_plans Schema billing_plans : Array id : Integer name : String user_groups : Array id : Integer name : String created_at : DateTime updated_at : DateTime created_at : DateTime updated_at : DateTime View Billing Plan \u00b6 GET /api/admin/billing_plans/{id} Schema billing_plans : Array id : Integer name : String user_groups : Array id : Integer name : String created_at : DateTime updated_at : DateTime created_at : DateTime updated_at : DateTime billing_resources : Array id : Integer external_id : String product : Object id : Integer label : String resource_kind : String - package, resource unit : Integer unit_type : String - GB, MB, Core, etc\u2026 external_id : String package : Object id : Integer cpu : Number memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer backup : Integer billing_phases : Array id : Integer phase_type : String - trial, discount, or final duration_unit : for trial, discount only - hours, days, months, years duration_qty : for trial, discount only - how many units of duration_unit. billing_resource_prices : Array id : Integer currency : String - 3-letter currency (USD, EUR) max_qty : Number - set to null for unlimited. Otherwise, this is the max qty for the price. (used with tiered pricing) price : Number regions : Array id : Integer name : String Create Billing Plan \u00b6 POST /api/admin/billing_plans Schema billing_plan name : String user_group_ids : Array - optionally link to user groups. clone : Integer - the ID of another billing plan to clone Update Billing Plan \u00b6 PATCH /api/admin/billing_plans/{id} Schema billing_plan name : String user_group_ids : Array - Omit this field if you do not want to change existing values. Delete Billing Plan \u00b6 DELETE /api/admin/billing_plans/{id} This will fail if this is currently assigned to any user groups.","title":"Billing Plans"},{"location":"admin_api/latest/billing/billing_plans/#billing-plans","text":"","title":"Billing Plans"},{"location":"admin_api/latest/billing/billing_plans/#list-all-billing-plans","text":"GET /api/admin/billing_plans Schema billing_plans : Array id : Integer name : String user_groups : Array id : Integer name : String created_at : DateTime updated_at : DateTime created_at : DateTime updated_at : DateTime","title":"List All Billing Plans"},{"location":"admin_api/latest/billing/billing_plans/#view-billing-plan","text":"GET /api/admin/billing_plans/{id} Schema billing_plans : Array id : Integer name : String user_groups : Array id : Integer name : String created_at : DateTime updated_at : DateTime created_at : DateTime updated_at : DateTime billing_resources : Array id : Integer external_id : String product : Object id : Integer label : String resource_kind : String - package, resource unit : Integer unit_type : String - GB, MB, Core, etc\u2026 external_id : String package : Object id : Integer cpu : Number memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer backup : Integer billing_phases : Array id : Integer phase_type : String - trial, discount, or final duration_unit : for trial, discount only - hours, days, months, years duration_qty : for trial, discount only - how many units of duration_unit. billing_resource_prices : Array id : Integer currency : String - 3-letter currency (USD, EUR) max_qty : Number - set to null for unlimited. Otherwise, this is the max qty for the price. (used with tiered pricing) price : Number regions : Array id : Integer name : String","title":"View Billing Plan"},{"location":"admin_api/latest/billing/billing_plans/#create-billing-plan","text":"POST /api/admin/billing_plans Schema billing_plan name : String user_group_ids : Array - optionally link to user groups. clone : Integer - the ID of another billing plan to clone","title":"Create Billing Plan"},{"location":"admin_api/latest/billing/billing_plans/#update-billing-plan","text":"PATCH /api/admin/billing_plans/{id} Schema billing_plan name : String user_group_ids : Array - Omit this field if you do not want to change existing values.","title":"Update Billing Plan"},{"location":"admin_api/latest/billing/billing_plans/#delete-billing-plan","text":"DELETE /api/admin/billing_plans/{id} This will fail if this is currently assigned to any user groups.","title":"Delete Billing Plan"},{"location":"admin_api/latest/billing/phases/","text":"Phases \u00b6 List All Billing Phases \u00b6 GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases Schema billing_phases : Array id : Integer billing_resource_id : Integer phase_type : String duration_unit : String duration_qty : Integer created_at : DateTime updated_at : DateTime View Billing Phase \u00b6 GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{id} Schema billing_phase : Object id : Integer billing_resource_id : Integer phase_type : String duration_unit : String duration_qty : Integer created_at : DateTime updated_at : DateTime Update Billing Phase \u00b6 PATCH /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{id} Schema billing_phase : Object phase_type : String duration_unit : String duration_qty : Integer Create Billing Phase \u00b6 POST /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases Schema billing_phase : Object phase_type : String duration_unit : String duration_qty : Integer Delete Billing Phase \u00b6 DELETE /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{id}","title":"Billing Phases"},{"location":"admin_api/latest/billing/phases/#phases","text":"","title":"Phases"},{"location":"admin_api/latest/billing/phases/#list-all-billing-phases","text":"GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases Schema billing_phases : Array id : Integer billing_resource_id : Integer phase_type : String duration_unit : String duration_qty : Integer created_at : DateTime updated_at : DateTime","title":"List All Billing Phases"},{"location":"admin_api/latest/billing/phases/#view-billing-phase","text":"GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{id} Schema billing_phase : Object id : Integer billing_resource_id : Integer phase_type : String duration_unit : String duration_qty : Integer created_at : DateTime updated_at : DateTime","title":"View Billing Phase"},{"location":"admin_api/latest/billing/phases/#update-billing-phase","text":"PATCH /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{id} Schema billing_phase : Object phase_type : String duration_unit : String duration_qty : Integer","title":"Update Billing Phase"},{"location":"admin_api/latest/billing/phases/#create-billing-phase","text":"POST /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases Schema billing_phase : Object phase_type : String duration_unit : String duration_qty : Integer","title":"Create Billing Phase"},{"location":"admin_api/latest/billing/phases/#delete-billing-phase","text":"DELETE /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{id}","title":"Delete Billing Phase"},{"location":"admin_api/latest/billing/prices/","text":"Prices \u00b6 List All Prices \u00b6 GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices Schema billing_resource_prices : Array id : Integer billing_phase_id : Integer billing_resource_id : Integer currency : String max_qty : Decimal price : Decimal regions : Array id : Integer name : String created_at : DateTime updated_at : DateTime View Price \u00b6 GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices/{id} Schema billing_resource_price : Object id : Integer billing_phase_id : Integer billing_resource_id : Integer currency : String max_qty : Decimal price : Decimal regions : Array id : Integer name : String created_at : DateTime updated_at : DateTime Update Price \u00b6 PATCH /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices/{id} Schema billing_resource_price : Object currency : String max_qty : Decimal price : Decimal region_ids : Array Create Price \u00b6 POST /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices Schema billing_resource_price : Object currency : String max_qty : Decimal price : Decimal region_ids : Array Delete Price \u00b6 DELETE /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices/{id}","title":"Resource Prices"},{"location":"admin_api/latest/billing/prices/#prices","text":"","title":"Prices"},{"location":"admin_api/latest/billing/prices/#list-all-prices","text":"GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices Schema billing_resource_prices : Array id : Integer billing_phase_id : Integer billing_resource_id : Integer currency : String max_qty : Decimal price : Decimal regions : Array id : Integer name : String created_at : DateTime updated_at : DateTime","title":"List All Prices"},{"location":"admin_api/latest/billing/prices/#view-price","text":"GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices/{id} Schema billing_resource_price : Object id : Integer billing_phase_id : Integer billing_resource_id : Integer currency : String max_qty : Decimal price : Decimal regions : Array id : Integer name : String created_at : DateTime updated_at : DateTime","title":"View Price"},{"location":"admin_api/latest/billing/prices/#update-price","text":"PATCH /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices/{id} Schema billing_resource_price : Object currency : String max_qty : Decimal price : Decimal region_ids : Array","title":"Update Price"},{"location":"admin_api/latest/billing/prices/#create-price","text":"POST /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices Schema billing_resource_price : Object currency : String max_qty : Decimal price : Decimal region_ids : Array","title":"Create Price"},{"location":"admin_api/latest/billing/prices/#delete-price","text":"DELETE /api/admin/billing_plans/{billing_plan_id}/billing_resources/{billing_resource_id}/billing_phases/{billing_phase_id}/billing_resource_prices/{id}","title":"Delete Price"},{"location":"admin_api/latest/billing/products/","text":"Products \u00b6 List Products \u00b6 GET /api/admin/products Schema products : Array id : Integer label : String resource_kind : String - backup,bandwidth,cpu,ipaddr,memory,storage,local_disk (only for non-packages) unit : Integer - (only for non-packages) unit_type : String - (only for non-packages) group : String package : Object id : Integer cpu : Decimal - CPU Cores (supports fractional cores as decimal) memory : String - MB memory_swap : Integer - Amount of memory (MB) allowed to swap to disk. memory_swappiness : Integer between 1 and 100 (default 60). bandwidth : Integer - Included bandwidth (GB) storage : Integer - Volume Storage (GB) local_disk : Integer - Temporary / Local Disk storage (GB) backup : Integer - Included backup storage (GB) created_at : DateTime updated_at : DateTime View Product \u00b6 GET /api/admin/products/{id} Schema product : Object id : Integer label : String resource_kind : String - backup,bandwidth,cpu,ipaddr,memory,storage,local_disk (only for non-packages) unit : Integer - (only for non-packages) unit_type : String - (only for non-packages) group : String package : Object id : Integer cpu : Decimal - CPU Cores (supports fractional cores as decimal) memory : String - MB memory_swap : Integer - Amount of memory (MB) allowed to swap to disk. memory_swappiness : Integer between 1 and 100 (default 60). bandwidth : Integer - Included bandwidth (GB) storage : Integer - Volume Storage (GB) local_disk : Integer - Temporary / Local Disk storage (GB) backup : Integer - Included backup storage (GB) created_at : DateTime updated_at : DateTime Update Product \u00b6 PATCH /api/admin/products/{id} Be aware that updating a package through this will completly delete the package, and re-create it with the values you provide. Be sure to supply all values for the package. To only update the product, and not the package, omit the package_attributes object. Schema product : Object label : String resource_kind : String - backup,bandwidth,cpu,ipaddr,memory,storage,local_disk (only for non-packages) unit : Integer - (only for non-packages) unit_type : String - (only for non-packages) group : String (optional) package_attributes : Object cpu : Decimal - CPU Cores (supports fractional cores as decimal) memory : String - MB memory_swap : Integer - Amount of memory (MB) allowed to swap to disk. memory_swappiness : Integer between 1 and 100 (default 60). bandwidth : Integer - Included bandwidth (GB) storage : Integer - Volume Storage (GB) local_disk : Integer - Temporary / Local Disk storage (GB) backup : Integer - Included backup storage (GB) Create Product \u00b6 POST /api/admin/products Be sure to add products to billing plans and create price rules. Create Product Schema product : Object label : String resource_kind : String - backup,bandwidth,cpu,ipaddr,memory,storage,local_disk (only for non-packages) unit : Integer - (only for non-packages) unit_type : String - (only for non-packages) group : String (optional) package_attributes : Object cpu : Decimal - CPU Cores (supports fractional cores as decimal) memory : String - MB memory_swap : Integer - Amount of memory (MB) allowed to swap to disk. memory_swappiness : Integer between 1 and 100 (default 60). bandwidth : Integer - Included bandwidth (GB) storage : Integer - Volume Storage (GB) local_disk : Integer - Temporary / Local Disk storage (GB) backup : Integer - Included backup storage (GB) Example: Create New Package { \"product\" : { \"label\" : \"example\" , \"package_attributes\" : { \"cpu\" : \"1.0\" , \"memory\" : 1024 } } } Delete Product \u00b6 DELETE /api/admin/products/{id}","title":"Products"},{"location":"admin_api/latest/billing/products/#products","text":"","title":"Products"},{"location":"admin_api/latest/billing/products/#list-products","text":"GET /api/admin/products Schema products : Array id : Integer label : String resource_kind : String - backup,bandwidth,cpu,ipaddr,memory,storage,local_disk (only for non-packages) unit : Integer - (only for non-packages) unit_type : String - (only for non-packages) group : String package : Object id : Integer cpu : Decimal - CPU Cores (supports fractional cores as decimal) memory : String - MB memory_swap : Integer - Amount of memory (MB) allowed to swap to disk. memory_swappiness : Integer between 1 and 100 (default 60). bandwidth : Integer - Included bandwidth (GB) storage : Integer - Volume Storage (GB) local_disk : Integer - Temporary / Local Disk storage (GB) backup : Integer - Included backup storage (GB) created_at : DateTime updated_at : DateTime","title":"List Products"},{"location":"admin_api/latest/billing/products/#view-product","text":"GET /api/admin/products/{id} Schema product : Object id : Integer label : String resource_kind : String - backup,bandwidth,cpu,ipaddr,memory,storage,local_disk (only for non-packages) unit : Integer - (only for non-packages) unit_type : String - (only for non-packages) group : String package : Object id : Integer cpu : Decimal - CPU Cores (supports fractional cores as decimal) memory : String - MB memory_swap : Integer - Amount of memory (MB) allowed to swap to disk. memory_swappiness : Integer between 1 and 100 (default 60). bandwidth : Integer - Included bandwidth (GB) storage : Integer - Volume Storage (GB) local_disk : Integer - Temporary / Local Disk storage (GB) backup : Integer - Included backup storage (GB) created_at : DateTime updated_at : DateTime","title":"View Product"},{"location":"admin_api/latest/billing/products/#update-product","text":"PATCH /api/admin/products/{id} Be aware that updating a package through this will completly delete the package, and re-create it with the values you provide. Be sure to supply all values for the package. To only update the product, and not the package, omit the package_attributes object. Schema product : Object label : String resource_kind : String - backup,bandwidth,cpu,ipaddr,memory,storage,local_disk (only for non-packages) unit : Integer - (only for non-packages) unit_type : String - (only for non-packages) group : String (optional) package_attributes : Object cpu : Decimal - CPU Cores (supports fractional cores as decimal) memory : String - MB memory_swap : Integer - Amount of memory (MB) allowed to swap to disk. memory_swappiness : Integer between 1 and 100 (default 60). bandwidth : Integer - Included bandwidth (GB) storage : Integer - Volume Storage (GB) local_disk : Integer - Temporary / Local Disk storage (GB) backup : Integer - Included backup storage (GB)","title":"Update Product"},{"location":"admin_api/latest/billing/products/#create-product","text":"POST /api/admin/products Be sure to add products to billing plans and create price rules. Create Product Schema product : Object label : String resource_kind : String - backup,bandwidth,cpu,ipaddr,memory,storage,local_disk (only for non-packages) unit : Integer - (only for non-packages) unit_type : String - (only for non-packages) group : String (optional) package_attributes : Object cpu : Decimal - CPU Cores (supports fractional cores as decimal) memory : String - MB memory_swap : Integer - Amount of memory (MB) allowed to swap to disk. memory_swappiness : Integer between 1 and 100 (default 60). bandwidth : Integer - Included bandwidth (GB) storage : Integer - Volume Storage (GB) local_disk : Integer - Temporary / Local Disk storage (GB) backup : Integer - Included backup storage (GB) Example: Create New Package { \"product\" : { \"label\" : \"example\" , \"package_attributes\" : { \"cpu\" : \"1.0\" , \"memory\" : 1024 } } }","title":"Create Product"},{"location":"admin_api/latest/billing/products/#delete-product","text":"DELETE /api/admin/products/{id}","title":"Delete Product"},{"location":"admin_api/latest/billing/resources/","text":"Resources \u00b6 List All Resources \u00b6 GET /api/admin/billing_plans/{billing_plan_id}/billing_resources Schema billing_resources : Array id : Integer billing_plan_id : Integer external_id : String product_id : Integer created_at : DateTime updated_at : DateTime View Billing Resource \u00b6 GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{id} Schema billing_resource : Object id : Integer billing_plan_id : Integer external_id : String product_id : Integer created_at : DateTime updated_at : DateTime Edit Billing Resource \u00b6 PATCH /api/admin/billing_plans/{billing_plan_id}/billing_resources/{id} Schema billing_resource : Object billing_plan_id : Integer external_id : String product_id : Integer Create Billing Resource \u00b6 POST /api/admin/billing_plans/{billing_plan_id}/billing_resources Schema billing_resource : Object external_id : String product_id : Integer Delete Billing Resource \u00b6 DELETE /api/admin/billing_plans/{billing_plan_id}/billing_resources/{id}","title":"Billing Resources"},{"location":"admin_api/latest/billing/resources/#resources","text":"","title":"Resources"},{"location":"admin_api/latest/billing/resources/#list-all-resources","text":"GET /api/admin/billing_plans/{billing_plan_id}/billing_resources Schema billing_resources : Array id : Integer billing_plan_id : Integer external_id : String product_id : Integer created_at : DateTime updated_at : DateTime","title":"List All Resources"},{"location":"admin_api/latest/billing/resources/#view-billing-resource","text":"GET /api/admin/billing_plans/{billing_plan_id}/billing_resources/{id} Schema billing_resource : Object id : Integer billing_plan_id : Integer external_id : String product_id : Integer created_at : DateTime updated_at : DateTime","title":"View Billing Resource"},{"location":"admin_api/latest/billing/resources/#edit-billing-resource","text":"PATCH /api/admin/billing_plans/{billing_plan_id}/billing_resources/{id} Schema billing_resource : Object billing_plan_id : Integer external_id : String product_id : Integer","title":"Edit Billing Resource"},{"location":"admin_api/latest/billing/resources/#create-billing-resource","text":"POST /api/admin/billing_plans/{billing_plan_id}/billing_resources Schema billing_resource : Object external_id : String product_id : Integer","title":"Create Billing Resource"},{"location":"admin_api/latest/billing/resources/#delete-billing-resource","text":"DELETE /api/admin/billing_plans/{billing_plan_id}/billing_resources/{id}","title":"Delete Billing Resource"},{"location":"admin_api/latest/container_services/","text":"Container Services \u00b6 List All Container Services \u00b6 GET /api/admin/container_services add ?all=true to include same data as in end-user api, plus the project and user objects from the schema below. Schema container_services : Array id : Integer name : String label : String created_at : DateTime updated_at : DateTime project : Object id : Integer name : String user id : Integer full_name : String email : String external_id : String labels : Object Get Container Service \u00b6 GET /api/admin/container_services/{id} Will return the same schema as the end-user api.","title":"Container Services"},{"location":"admin_api/latest/container_services/#container-services","text":"","title":"Container Services"},{"location":"admin_api/latest/container_services/#list-all-container-services","text":"GET /api/admin/container_services add ?all=true to include same data as in end-user api, plus the project and user objects from the schema below. Schema container_services : Array id : Integer name : String label : String created_at : DateTime updated_at : DateTime project : Object id : Integer name : String user id : Integer full_name : String email : String external_id : String labels : Object","title":"List All Container Services"},{"location":"admin_api/latest/container_services/#get-container-service","text":"GET /api/admin/container_services/{id} Will return the same schema as the end-user api.","title":"Get Container Service"},{"location":"admin_api/latest/images/","text":"Images \u00b6 Please see the end-user api for more details. List all images \u00b6 GET /api/admin/container_images null user == public (system) image. View an image \u00b6 GET /api/admin/container_images/{id} null user == public (system) image. Manually Pull Container Image \u00b6 This is only necessary for images that do not belong to a user (public images) . User\u2019s custom images that they have configured in ComputeStacks are automatically pulled on each rebuild . POST /api/admin/container_images/{id}/pull","title":"Overview"},{"location":"admin_api/latest/images/#images","text":"Please see the end-user api for more details.","title":"Images"},{"location":"admin_api/latest/images/#list-all-images","text":"GET /api/admin/container_images null user == public (system) image.","title":"List all images"},{"location":"admin_api/latest/images/#view-an-image","text":"GET /api/admin/container_images/{id} null user == public (system) image.","title":"View an image"},{"location":"admin_api/latest/images/#manually-pull-container-image","text":"This is only necessary for images that do not belong to a user (public images) . User\u2019s custom images that they have configured in ComputeStacks are automatically pulled on each rebuild . POST /api/admin/container_images/{id}/pull","title":"Manually Pull Container Image"},{"location":"admin_api/latest/images/collaborations/","text":"Image Collaborators \u00b6 List All Collaborators \u00b6 GET /api/admin/container_images/{container-image-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String View Collaborator \u00b6 GET /api/admin/container_images/{container-image-id}/collaborators/{id} Schema collaboration : Object id : String image : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Create Collaborator Request \u00b6 POST /api/admin/container_images/{container-image-id}/collaborators Schema collaborator : Object user_email : String skip_confirmation : Boolean - Add and activate without email notification.","title":"Collaborations"},{"location":"admin_api/latest/images/collaborations/#image-collaborators","text":"","title":"Image Collaborators"},{"location":"admin_api/latest/images/collaborations/#list-all-collaborators","text":"GET /api/admin/container_images/{container-image-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String","title":"List All Collaborators"},{"location":"admin_api/latest/images/collaborations/#view-collaborator","text":"GET /api/admin/container_images/{container-image-id}/collaborators/{id} Schema collaboration : Object id : String image : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaborator"},{"location":"admin_api/latest/images/collaborations/#create-collaborator-request","text":"POST /api/admin/container_images/{container-image-id}/collaborators Schema collaborator : Object user_email : String skip_confirmation : Boolean - Add and activate without email notification.","title":"Create Collaborator Request"},{"location":"admin_api/latest/infrastructure/","text":"Infrastructure \u00b6 Please be aware that there are differences with our internal naming conventions with what you see in the user interface (UI). Internal Name Name Displayed In Controller Location Region Region Availability Zone","title":"Overview"},{"location":"admin_api/latest/infrastructure/#infrastructure","text":"Please be aware that there are differences with our internal naming conventions with what you see in the user interface (UI). Internal Name Name Displayed In Controller Location Region Region Availability Zone","title":"Infrastructure"},{"location":"admin_api/latest/infrastructure/locations/","text":"Locations \u00b6 List All Locations \u00b6 GET /api/admin/locations Schema locations : Array id : Integer name : String fill_strategy : String - least or full . Full will fill to the fill_to variable on the region (AZ). created_at : DateTime updated_at : DateTime View Location \u00b6 GET /api/admin/locations/{id} Schema location : Object id : Integer name : String fill_strategy : String - least or full . Full will fill to the fill_to variable on the region (AZ). created_at : DateTime updated_at : DateTime Update Location \u00b6 PATCH /api/admin/locations/{id} Schema location : Object name : String fill_strategy : String - least or full . Full will fill to the fill_to variable on the region (AZ). Create Location \u00b6 POST /api/admin/locations Schema location : Object name : String fill_strategy : String - least or full . Full will fill to the fill_to variable on the region (AZ). Delete Location \u00b6 DELETE /api/admin/locations/{id} Show Location Resource Allocation \u00b6 GET /api/admin/locations/{location_id}/allocated_resources Schema total : Hash containers : Integer sftp_containers : Integer cpu : Float (CORES) memory : Integer (MB) availability_zones : Array id : Integer name : String allocated : Hash containers : Integer sftp_containers : Integer cpu : Float (CORES) memory : Integer (MB) projects : Array id : Integer name : String","title":"Regions"},{"location":"admin_api/latest/infrastructure/locations/#locations","text":"","title":"Locations"},{"location":"admin_api/latest/infrastructure/locations/#list-all-locations","text":"GET /api/admin/locations Schema locations : Array id : Integer name : String fill_strategy : String - least or full . Full will fill to the fill_to variable on the region (AZ). created_at : DateTime updated_at : DateTime","title":"List All Locations"},{"location":"admin_api/latest/infrastructure/locations/#view-location","text":"GET /api/admin/locations/{id} Schema location : Object id : Integer name : String fill_strategy : String - least or full . Full will fill to the fill_to variable on the region (AZ). created_at : DateTime updated_at : DateTime","title":"View Location"},{"location":"admin_api/latest/infrastructure/locations/#update-location","text":"PATCH /api/admin/locations/{id} Schema location : Object name : String fill_strategy : String - least or full . Full will fill to the fill_to variable on the region (AZ).","title":"Update Location"},{"location":"admin_api/latest/infrastructure/locations/#create-location","text":"POST /api/admin/locations Schema location : Object name : String fill_strategy : String - least or full . Full will fill to the fill_to variable on the region (AZ).","title":"Create Location"},{"location":"admin_api/latest/infrastructure/locations/#delete-location","text":"DELETE /api/admin/locations/{id}","title":"Delete Location"},{"location":"admin_api/latest/infrastructure/locations/#show-location-resource-allocation","text":"GET /api/admin/locations/{location_id}/allocated_resources Schema total : Hash containers : Integer sftp_containers : Integer cpu : Float (CORES) memory : Integer (MB) availability_zones : Array id : Integer name : String allocated : Hash containers : Integer sftp_containers : Integer cpu : Float (CORES) memory : Integer (MB) projects : Array id : Integer name : String","title":"Show Location Resource Allocation"},{"location":"admin_api/latest/infrastructure/nodes/","text":"Nodes \u00b6 List All Nodes \u00b6 GET /api/admin/locations/{location_id}/regions/{region_id}/nodes Schema nodes : Array id : String label : String hostname : String primary_ip : String disconnected : Boolean failed_health_checks : Integer active : Boolean online_at : DateTime disconnected_at : DateTime public_ip : String region_id : Integer maintenance : Boolean maintenance_updated : DateTime job_status : String ssh_port : Integer volume_device : String block_write_bps : Integer block_read_bps : Integer created_at : DateTime updated_at : DateTime View Node \u00b6 GET /api/admin/locations/{location_id}/regions/{region_id}/nodes/{id} Schema node : Object id : String label : String hostname : String primary_ip : String disconnected : Boolean failed_health_checks : Integer active : Boolean online_at : DateTime disconnected_at : DateTime public_ip : String region_id : Integer maintenance : Boolean maintenance_updated : DateTime job_status : String ssh_port : Integer volume_device : String block_write_bps : Integer block_read_bps : Integer created_at : DateTime updated_at : DateTime Update Node \u00b6 PATCH /api/admin/locations/{location_id}/regions/{region_id}/nodes/{id} Note: We currently do not allow changing the hostname of an existing node. Schema node : Object label : String primary_ip : String active : Boolean public_ip : String region_id : Integer ssh_port : Integer volume_device : String block_write_bps : Integer block_read_bps : Integer Create Node \u00b6 POST /api/admin/locations/{location_id}/regions/{region_id}/nodes Schema node : Object label : String hostname : String primary_ip : String active : Boolean public_ip : String region_id : Integer ssh_port : Integer volume_device : String block_write_bps : Integer block_read_bps : Integer Delete Node \u00b6 DELETE /api/admin/locations/{location_id}/regions/{region_id}/nodes/{id} Maintenance Mode \u00b6 Enable \u00b6 POST /api/admin/locations/{location_id}/regions/{region_id}/nodes/{node_id}/maintenance Warning This will evacuate all containers that are not using local volumes to other nodes in the region (Availability-Zone). Returns HTTP 202 Accepted if successful. Disable \u00b6 DELETE /api/admin/locations/{location_id}/regions/{region_id}/nodes/{node_id}/maintenance Returns HTTP 202 Accepted if successful.","title":"Nodes"},{"location":"admin_api/latest/infrastructure/nodes/#nodes","text":"","title":"Nodes"},{"location":"admin_api/latest/infrastructure/nodes/#list-all-nodes","text":"GET /api/admin/locations/{location_id}/regions/{region_id}/nodes Schema nodes : Array id : String label : String hostname : String primary_ip : String disconnected : Boolean failed_health_checks : Integer active : Boolean online_at : DateTime disconnected_at : DateTime public_ip : String region_id : Integer maintenance : Boolean maintenance_updated : DateTime job_status : String ssh_port : Integer volume_device : String block_write_bps : Integer block_read_bps : Integer created_at : DateTime updated_at : DateTime","title":"List All Nodes"},{"location":"admin_api/latest/infrastructure/nodes/#view-node","text":"GET /api/admin/locations/{location_id}/regions/{region_id}/nodes/{id} Schema node : Object id : String label : String hostname : String primary_ip : String disconnected : Boolean failed_health_checks : Integer active : Boolean online_at : DateTime disconnected_at : DateTime public_ip : String region_id : Integer maintenance : Boolean maintenance_updated : DateTime job_status : String ssh_port : Integer volume_device : String block_write_bps : Integer block_read_bps : Integer created_at : DateTime updated_at : DateTime","title":"View Node"},{"location":"admin_api/latest/infrastructure/nodes/#update-node","text":"PATCH /api/admin/locations/{location_id}/regions/{region_id}/nodes/{id} Note: We currently do not allow changing the hostname of an existing node. Schema node : Object label : String primary_ip : String active : Boolean public_ip : String region_id : Integer ssh_port : Integer volume_device : String block_write_bps : Integer block_read_bps : Integer","title":"Update Node"},{"location":"admin_api/latest/infrastructure/nodes/#create-node","text":"POST /api/admin/locations/{location_id}/regions/{region_id}/nodes Schema node : Object label : String hostname : String primary_ip : String active : Boolean public_ip : String region_id : Integer ssh_port : Integer volume_device : String block_write_bps : Integer block_read_bps : Integer","title":"Create Node"},{"location":"admin_api/latest/infrastructure/nodes/#delete-node","text":"DELETE /api/admin/locations/{location_id}/regions/{region_id}/nodes/{id}","title":"Delete Node"},{"location":"admin_api/latest/infrastructure/nodes/#maintenance-mode","text":"","title":"Maintenance Mode"},{"location":"admin_api/latest/infrastructure/nodes/#enable","text":"POST /api/admin/locations/{location_id}/regions/{region_id}/nodes/{node_id}/maintenance Warning This will evacuate all containers that are not using local volumes to other nodes in the region (Availability-Zone). Returns HTTP 202 Accepted if successful.","title":"Enable"},{"location":"admin_api/latest/infrastructure/nodes/#disable","text":"DELETE /api/admin/locations/{location_id}/regions/{region_id}/nodes/{node_id}/maintenance Returns HTTP 202 Accepted if successful.","title":"Disable"},{"location":"admin_api/latest/infrastructure/regions/","text":"Regions \u00b6 List All Regions \u00b6 GET /api/admin/locations/{location_id}/regions Schema regions : Array id : Integer name : String active : Boolean fill_to : Integer volume_backend : String - local or nfs nfs_remote_host : String - IP Address of NFS server when connecting from the node nfs_remote_path : String - path to nfs volume on remote server. the volume name will be appended to this, so dont add trailing slash. nfs_controller_ip : String - IP Address of NFS Server when connecting from the controller offline_window : Integer - In seconds, how long do we wait after the last heartbeat before consider this node offline? failure_count : Integer - How many times do we attempt to connect back to the node to verify it\u2019s really offline before migrating it\u2019s containers to other nodes loki_endpoint : String loki_retries : String loki_batch_size : String loki_client_id : Integer metric_client_id : Integer created_at : DateTime updated_at : DateTime View Region \u00b6 GET /api/admin/locations/{location_id}/regions/{id} Schema regions : Object id : Integer name : String active : Boolean fill_to : Integer volume_backend : String - local or nfs nfs_remote_host : String - IP Address of NFS server when connecting from the node nfs_remote_path : String - path to nfs volume on remote server. the volume name will be appended to this, so dont add trailing slash. nfs_controller_ip : String - IP Address of NFS Server when connecting from the controller offline_window : Integer - In seconds, how long do we wait after the last heartbeat before consider this node offline? failure_count : Integer - How many times do we attempt to connect back to the node to verify it\u2019s really offline before migrating it\u2019s containers to other nodes loki_endpoint : String loki_retries : String loki_batch_size : String loki_client_id : Integer metric_client_id : Integer created_at : DateTime updated_at : DateTime Update Region \u00b6 PATCH /api/admin/locations/{location_id}/regions/{id} Note: You may not update the name of an existing region. In a future update we will make that change possible. Schema regions : Array active : Boolean fill_to : Integer volume_backend : String - local or nfs nfs_remote_host : String - IP Address of NFS server when connecting from the node nfs_remote_path : String - path to nfs volume on remote server. the volume name will be appended to this, so dont add trailing slash. nfs_controller_ip : String - IP Address of NFS Server when connecting from the controller offline_window : Integer - In seconds, how long do we wait after the last heartbeat before consider this node offline? failure_count : Integer - How many times do we attempt to connect back to the node to verify it\u2019s really offline before migrating it\u2019s containers to other nodes loki_endpoint : String loki_retries : String loki_batch_size : String loki_client_id : Integer metric_client_id : Integer Create Region \u00b6 POST /api/admin/locations/{location_id}/regions Schema regions : Object name : String active : Boolean fill_to : Integer volume_backend : String - local or nfs nfs_remote_host : String - IP Address of NFS server when connecting from the node nfs_remote_path : String - path to nfs volume on remote server. the volume name will be appended to this, so dont add trailing slash. nfs_controller_ip : String - IP Address of NFS Server when connecting from the controller offline_window : Integer - In seconds, how long do we wait after the last heartbeat before consider this node offline? failure_count : Integer - How many times do we attempt to connect back to the node to verify it\u2019s really offline before migrating it\u2019s containers to other nodes loki_endpoint : String loki_retries : String loki_batch_size : String loki_client_id : Integer metric_client_id : Integer Delete Region \u00b6 DELETE /api/admin/locations/{location_id}/regions/{id}","title":"Availability Zones"},{"location":"admin_api/latest/infrastructure/regions/#regions","text":"","title":"Regions"},{"location":"admin_api/latest/infrastructure/regions/#list-all-regions","text":"GET /api/admin/locations/{location_id}/regions Schema regions : Array id : Integer name : String active : Boolean fill_to : Integer volume_backend : String - local or nfs nfs_remote_host : String - IP Address of NFS server when connecting from the node nfs_remote_path : String - path to nfs volume on remote server. the volume name will be appended to this, so dont add trailing slash. nfs_controller_ip : String - IP Address of NFS Server when connecting from the controller offline_window : Integer - In seconds, how long do we wait after the last heartbeat before consider this node offline? failure_count : Integer - How many times do we attempt to connect back to the node to verify it\u2019s really offline before migrating it\u2019s containers to other nodes loki_endpoint : String loki_retries : String loki_batch_size : String loki_client_id : Integer metric_client_id : Integer created_at : DateTime updated_at : DateTime","title":"List All Regions"},{"location":"admin_api/latest/infrastructure/regions/#view-region","text":"GET /api/admin/locations/{location_id}/regions/{id} Schema regions : Object id : Integer name : String active : Boolean fill_to : Integer volume_backend : String - local or nfs nfs_remote_host : String - IP Address of NFS server when connecting from the node nfs_remote_path : String - path to nfs volume on remote server. the volume name will be appended to this, so dont add trailing slash. nfs_controller_ip : String - IP Address of NFS Server when connecting from the controller offline_window : Integer - In seconds, how long do we wait after the last heartbeat before consider this node offline? failure_count : Integer - How many times do we attempt to connect back to the node to verify it\u2019s really offline before migrating it\u2019s containers to other nodes loki_endpoint : String loki_retries : String loki_batch_size : String loki_client_id : Integer metric_client_id : Integer created_at : DateTime updated_at : DateTime","title":"View Region"},{"location":"admin_api/latest/infrastructure/regions/#update-region","text":"PATCH /api/admin/locations/{location_id}/regions/{id} Note: You may not update the name of an existing region. In a future update we will make that change possible. Schema regions : Array active : Boolean fill_to : Integer volume_backend : String - local or nfs nfs_remote_host : String - IP Address of NFS server when connecting from the node nfs_remote_path : String - path to nfs volume on remote server. the volume name will be appended to this, so dont add trailing slash. nfs_controller_ip : String - IP Address of NFS Server when connecting from the controller offline_window : Integer - In seconds, how long do we wait after the last heartbeat before consider this node offline? failure_count : Integer - How many times do we attempt to connect back to the node to verify it\u2019s really offline before migrating it\u2019s containers to other nodes loki_endpoint : String loki_retries : String loki_batch_size : String loki_client_id : Integer metric_client_id : Integer","title":"Update Region"},{"location":"admin_api/latest/infrastructure/regions/#create-region","text":"POST /api/admin/locations/{location_id}/regions Schema regions : Object name : String active : Boolean fill_to : Integer volume_backend : String - local or nfs nfs_remote_host : String - IP Address of NFS server when connecting from the node nfs_remote_path : String - path to nfs volume on remote server. the volume name will be appended to this, so dont add trailing slash. nfs_controller_ip : String - IP Address of NFS Server when connecting from the controller offline_window : Integer - In seconds, how long do we wait after the last heartbeat before consider this node offline? failure_count : Integer - How many times do we attempt to connect back to the node to verify it\u2019s really offline before migrating it\u2019s containers to other nodes loki_endpoint : String loki_retries : String loki_batch_size : String loki_client_id : Integer metric_client_id : Integer","title":"Create Region"},{"location":"admin_api/latest/infrastructure/regions/#delete-region","text":"DELETE /api/admin/locations/{location_id}/regions/{id}","title":"Delete Region"},{"location":"admin_api/latest/networking/domains/","text":"Domains \u00b6 List All Domains \u00b6 GET /api/admin/domains Schema is the same as the end-user api , but includes user and project data.","title":"Domains"},{"location":"admin_api/latest/networking/domains/#domains","text":"","title":"Domains"},{"location":"admin_api/latest/networking/domains/#list-all-domains","text":"GET /api/admin/domains Schema is the same as the end-user api , but includes user and project data.","title":"List All Domains"},{"location":"admin_api/latest/networking/ingress_rules/","text":"Ingress Rules \u00b6 List All Ingress Rules \u00b6 GET /api/admin/networks/ingress_rules Schema is the same as the end-user api .","title":"Ingress Rules"},{"location":"admin_api/latest/networking/ingress_rules/#ingress-rules","text":"","title":"Ingress Rules"},{"location":"admin_api/latest/networking/ingress_rules/#list-all-ingress-rules","text":"GET /api/admin/networks/ingress_rules Schema is the same as the end-user api .","title":"List All Ingress Rules"},{"location":"admin_api/latest/projects/","text":"Projects \u00b6 Please see the end-user api for more details. List All Projects \u00b6 Description Endpoint Find All Projects GET /api/admin/projects Filter By User GET /api/admin/users/{user_id})/projects Schema projects : Array id : Integer name : String current_state : String container_image_ids : Array user : Object id : Integer email : String external_id : String labels : Object links : Object services : String container_images : String bastions : String metadata : Object icons : Array image_names : Array created_at : DateTime updated_at : DateTime View Project \u00b6 GET /api/admin/projects/{id} Schema project : Object id : Integer name : String current_state : String container_image_ids : Array user : Object id : Integer email : String external_id : String labels : Object links : Object services : String container_images : String bastions : String metadata : Object icons : Array image_names : Array created_at : DateTime updated_at : DateTime Update Project \u00b6 PATCH /api/admin/projects/{id} Params: * project : Object * name : String - project name * user_id : Integer \u2013 Only supply this if you want to change the project owner!","title":"Overview"},{"location":"admin_api/latest/projects/#projects","text":"Please see the end-user api for more details.","title":"Projects"},{"location":"admin_api/latest/projects/#list-all-projects","text":"Description Endpoint Find All Projects GET /api/admin/projects Filter By User GET /api/admin/users/{user_id})/projects Schema projects : Array id : Integer name : String current_state : String container_image_ids : Array user : Object id : Integer email : String external_id : String labels : Object links : Object services : String container_images : String bastions : String metadata : Object icons : Array image_names : Array created_at : DateTime updated_at : DateTime","title":"List All Projects"},{"location":"admin_api/latest/projects/#view-project","text":"GET /api/admin/projects/{id} Schema project : Object id : Integer name : String current_state : String container_image_ids : Array user : Object id : Integer email : String external_id : String labels : Object links : Object services : String container_images : String bastions : String metadata : Object icons : Array image_names : Array created_at : DateTime updated_at : DateTime","title":"View Project"},{"location":"admin_api/latest/projects/#update-project","text":"PATCH /api/admin/projects/{id} Params: * project : Object * name : String - project name * user_id : Integer \u2013 Only supply this if you want to change the project owner!","title":"Update Project"},{"location":"admin_api/latest/projects/collaborators/","text":"Projects Collaborators \u00b6 List All Collaborators \u00b6 GET /api/admin/projects/{project-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String View Collaborator \u00b6 GET /api/admin/projects/{project-id}/collaborators/{id} Schema collaboration : Object id : Integer project : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Create Collaborator Request \u00b6 POST /api/admin/projects/{project-id}/collaborators Schema collaborator : Object user_email : String skip_confirmation : Boolean Remove Collaborator \u00b6 DELETE /api/admin/projects/{project-id}/collaborators/{id}","title":"Collaborations"},{"location":"admin_api/latest/projects/collaborators/#projects-collaborators","text":"","title":"Projects Collaborators"},{"location":"admin_api/latest/projects/collaborators/#list-all-collaborators","text":"GET /api/admin/projects/{project-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String","title":"List All Collaborators"},{"location":"admin_api/latest/projects/collaborators/#view-collaborator","text":"GET /api/admin/projects/{project-id}/collaborators/{id} Schema collaboration : Object id : Integer project : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaborator"},{"location":"admin_api/latest/projects/collaborators/#create-collaborator-request","text":"POST /api/admin/projects/{project-id}/collaborators Schema collaborator : Object user_email : String skip_confirmation : Boolean","title":"Create Collaborator Request"},{"location":"admin_api/latest/projects/collaborators/#remove-collaborator","text":"DELETE /api/admin/projects/{project-id}/collaborators/{id}","title":"Remove Collaborator"},{"location":"admin_api/latest/registry/","text":"Container Registry \u00b6 List All Container Registries \u00b6 GET /api/admin/container_registry Schema container_registries : Array id : Integer name : String label : String status : String [new,deploying,deployed,error,working] endpoint : String username : String password : String images : Array of Strings created_at : DateTime updated_at : DateTime View Container Registry \u00b6 GET /api/admin/container_registry/{id} Schema container_registry : Object id : Integer name : String label : String status : String [new,deploying,deployed,error,working] endpoint : String username : String password : String images : Array of Strings created_at : DateTime updated_at : DateTime Edit Container Registry \u00b6 PATCH /api/admin/container_registry/{id} Schema container_registry : Object label : String user_id : Integer - Only supply if you wish to change owner. Create Container Registry \u00b6 POST /api/admin/container_registry Schema container_registry : Object label : String user_id : Integer Delete Container Registry \u00b6 DESTROY /api/admin/container_registry/{id}","title":"Overview"},{"location":"admin_api/latest/registry/#container-registry","text":"","title":"Container Registry"},{"location":"admin_api/latest/registry/#list-all-container-registries","text":"GET /api/admin/container_registry Schema container_registries : Array id : Integer name : String label : String status : String [new,deploying,deployed,error,working] endpoint : String username : String password : String images : Array of Strings created_at : DateTime updated_at : DateTime","title":"List All Container Registries"},{"location":"admin_api/latest/registry/#view-container-registry","text":"GET /api/admin/container_registry/{id} Schema container_registry : Object id : Integer name : String label : String status : String [new,deploying,deployed,error,working] endpoint : String username : String password : String images : Array of Strings created_at : DateTime updated_at : DateTime","title":"View Container Registry"},{"location":"admin_api/latest/registry/#edit-container-registry","text":"PATCH /api/admin/container_registry/{id} Schema container_registry : Object label : String user_id : Integer - Only supply if you wish to change owner.","title":"Edit Container Registry"},{"location":"admin_api/latest/registry/#create-container-registry","text":"POST /api/admin/container_registry Schema container_registry : Object label : String user_id : Integer","title":"Create Container Registry"},{"location":"admin_api/latest/registry/#delete-container-registry","text":"DESTROY /api/admin/container_registry/{id}","title":"Delete Container Registry"},{"location":"admin_api/latest/registry/collaborators/","text":"Container Registry Collaborators \u00b6 List All Collaborators \u00b6 GET /api/admin/container_registry/{container-registry-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String View Collaborator \u00b6 GET /api/admin/container_registry/{container-registry-id}/collaborators/{id} Schema collaboration : Object id : Integer registry : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Create Collaborator Request \u00b6 POST /api/admin/container_registry/{container-registry-id}/collaborators Schema collaborator : Object user_email : String skip_confirmation : Boolean Remove Collaborator \u00b6 DELETE /api/admin/container_registry/{container-registry-id}/collaborators/{id}","title":"Collaborations"},{"location":"admin_api/latest/registry/collaborators/#container-registry-collaborators","text":"","title":"Container Registry Collaborators"},{"location":"admin_api/latest/registry/collaborators/#list-all-collaborators","text":"GET /api/admin/container_registry/{container-registry-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String","title":"List All Collaborators"},{"location":"admin_api/latest/registry/collaborators/#view-collaborator","text":"GET /api/admin/container_registry/{container-registry-id}/collaborators/{id} Schema collaboration : Object id : Integer registry : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaborator"},{"location":"admin_api/latest/registry/collaborators/#create-collaborator-request","text":"POST /api/admin/container_registry/{container-registry-id}/collaborators Schema collaborator : Object user_email : String skip_confirmation : Boolean","title":"Create Collaborator Request"},{"location":"admin_api/latest/registry/collaborators/#remove-collaborator","text":"DELETE /api/admin/container_registry/{container-registry-id}/collaborators/{id}","title":"Remove Collaborator"},{"location":"admin_api/latest/subscriptions/subscriptions/","text":"Subscription Management \u00b6 List Subscriptions \u00b6 Description Endpoint Find All Subscriptions GET /api/admin/subscriptions Filter By User or Status GET /api/admin/(users/{user_id})/subscriptions/(filter/{filter}) filter can be one of: active , inactive . Schema subscriptions : Array id : Integer label : String external_id : String active : Boolean user : Object id : Integer full_name : String email : String external_id : String labels : Object View Subscription \u00b6 GET /api/admin/subscription/{id} Schema subscription : Object id : Integer label : String external_id : String active : Boolean run_rate : Decimal subscription_products : Array id : Integer external_id : String active : Boolean start_on : DateTime phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String resource_kind : String unit : String unit_type : String external_id : String created_at : DateTime updated_at : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer backup : Integer billing_resource : Object id : Integer billing_plan_id : Integer external_id : String container : Object id : Integer name : String req_state : String current_state : String stats : Object local_ip : String public_ip : String project_id : Integer container_service_id project_id : Integer created_at : DateTime updated_at : DateTime links : Object container_service : String logs : String project : String region : Object id : Integer name : String node : Object id : Integer label : String hostname : String primary_ip : String public_ip : String user : Object id : Integer email : String external_id : String labels : Object Update Subscription \u00b6 PATCH /api/admin/subscriptions/:id Use this to upgrade or downgrade an existing service. Will return a HTTP 200 if was successful, otherwise you will have a HTTP 40x code and a {\"errors\": []} response. Schema container_service : Object product_id : The new product id qty : The total amount of containers you want. For example, if you have 1 container and you want 2, you would set this value to 2. Upgrade a product { \"container_service\" : { \"product_id\" : I nte ger } } Scale a service up or down { \"container_service\" : { \"qty\" : I nte ger } } Suspension \u00b6 For integrations that rely on the subscription as their internal reference, we offer a helper api endpoint to suspend a user via their subscription. This will suspend the user, not just the subscription. Suspend \u00b6 POST /api/admin/subscriptions/{subscription_id}/suspension Unsuspend \u00b6 DELETE /api/admin/subscriptions/{subscription_id}/suspension","title":"Subscriptions"},{"location":"admin_api/latest/subscriptions/subscriptions/#subscription-management","text":"","title":"Subscription Management"},{"location":"admin_api/latest/subscriptions/subscriptions/#list-subscriptions","text":"Description Endpoint Find All Subscriptions GET /api/admin/subscriptions Filter By User or Status GET /api/admin/(users/{user_id})/subscriptions/(filter/{filter}) filter can be one of: active , inactive . Schema subscriptions : Array id : Integer label : String external_id : String active : Boolean user : Object id : Integer full_name : String email : String external_id : String labels : Object","title":"List Subscriptions"},{"location":"admin_api/latest/subscriptions/subscriptions/#view-subscription","text":"GET /api/admin/subscription/{id} Schema subscription : Object id : Integer label : String external_id : String active : Boolean run_rate : Decimal subscription_products : Array id : Integer external_id : String active : Boolean start_on : DateTime phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String resource_kind : String unit : String unit_type : String external_id : String created_at : DateTime updated_at : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer backup : Integer billing_resource : Object id : Integer billing_plan_id : Integer external_id : String container : Object id : Integer name : String req_state : String current_state : String stats : Object local_ip : String public_ip : String project_id : Integer container_service_id project_id : Integer created_at : DateTime updated_at : DateTime links : Object container_service : String logs : String project : String region : Object id : Integer name : String node : Object id : Integer label : String hostname : String primary_ip : String public_ip : String user : Object id : Integer email : String external_id : String labels : Object","title":"View Subscription"},{"location":"admin_api/latest/subscriptions/subscriptions/#update-subscription","text":"PATCH /api/admin/subscriptions/:id Use this to upgrade or downgrade an existing service. Will return a HTTP 200 if was successful, otherwise you will have a HTTP 40x code and a {\"errors\": []} response. Schema container_service : Object product_id : The new product id qty : The total amount of containers you want. For example, if you have 1 container and you want 2, you would set this value to 2. Upgrade a product { \"container_service\" : { \"product_id\" : I nte ger } } Scale a service up or down { \"container_service\" : { \"qty\" : I nte ger } }","title":"Update Subscription"},{"location":"admin_api/latest/subscriptions/subscriptions/#suspension","text":"For integrations that rely on the subscription as their internal reference, we offer a helper api endpoint to suspend a user via their subscription. This will suspend the user, not just the subscription.","title":"Suspension"},{"location":"admin_api/latest/subscriptions/subscriptions/#suspend","text":"POST /api/admin/subscriptions/{subscription_id}/suspension","title":"Suspend"},{"location":"admin_api/latest/subscriptions/subscriptions/#unsuspend","text":"DELETE /api/admin/subscriptions/{subscription_id}/suspension","title":"Unsuspend"},{"location":"admin_api/latest/subscriptions/usage/","text":"Subscription Usage \u00b6 ComputeStacks will automatically aggregate this data at the end of the month. You may elect to receive that data as a webhook, configured under Advanced Settings in the admin. List Usage Items \u00b6 Description Endpoint Find via subscription GET /admin/subscriptions/{subscription_id}/billing_usages Find all by user GET /admin/users/{user_id)/billing_usages Schema billing_usages : Array id : Integer period_start : DateTime period_end : DateTime external_id : String rate : Decimal qty : Decimal - Billable QTY (less what would be included in their package) qty_total : Decimal - Total QTY recorded total : Decimal processed : Boolean processed_on : DateTime created_at : DateTime updated_at : DateTime subscription_product : Object id : Integer external_id : String start_on : DateTime active : Boolean phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String resource_kind unit : String unit_type : String external_id : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer backup : Integer user : Object id : Integer full_name : String email : String external_id : String labels : Object View Usage Item \u00b6 GET /admin/subscriptions/{subscription_id}/billing_usages/{id} Schema billing_usages : Object id : Integer period_start : DateTime period_end : DateTime external_id : String rate : Decimal qty : Decimal - Billable QTY (less what would be included in their package) qty_total : Decimal - Total QTY recorded total : Decimal processed : Boolean processed_on : DateTime created_at : DateTime updated_at : DateTime subscription_product : Object id : Integer external_id : String start_on : DateTime active : Boolean phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String resource_kind unit : String unit_type : String external_id : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer backup : Integer user : Object id : Integer full_name email : String external_id : String labels : Object Delete Usage Item \u00b6 DELETE /admin/subscriptions/{subscription_id}/billing_usages/{id}","title":"Usage"},{"location":"admin_api/latest/subscriptions/usage/#subscription-usage","text":"ComputeStacks will automatically aggregate this data at the end of the month. You may elect to receive that data as a webhook, configured under Advanced Settings in the admin.","title":"Subscription Usage"},{"location":"admin_api/latest/subscriptions/usage/#list-usage-items","text":"Description Endpoint Find via subscription GET /admin/subscriptions/{subscription_id}/billing_usages Find all by user GET /admin/users/{user_id)/billing_usages Schema billing_usages : Array id : Integer period_start : DateTime period_end : DateTime external_id : String rate : Decimal qty : Decimal - Billable QTY (less what would be included in their package) qty_total : Decimal - Total QTY recorded total : Decimal processed : Boolean processed_on : DateTime created_at : DateTime updated_at : DateTime subscription_product : Object id : Integer external_id : String start_on : DateTime active : Boolean phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String resource_kind unit : String unit_type : String external_id : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer backup : Integer user : Object id : Integer full_name : String email : String external_id : String labels : Object","title":"List Usage Items"},{"location":"admin_api/latest/subscriptions/usage/#view-usage-item","text":"GET /admin/subscriptions/{subscription_id}/billing_usages/{id} Schema billing_usages : Object id : Integer period_start : DateTime period_end : DateTime external_id : String rate : Decimal qty : Decimal - Billable QTY (less what would be included in their package) qty_total : Decimal - Total QTY recorded total : Decimal processed : Boolean processed_on : DateTime created_at : DateTime updated_at : DateTime subscription_product : Object id : Integer external_id : String start_on : DateTime active : Boolean phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String resource_kind unit : String unit_type : String external_id : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer backup : Integer user : Object id : Integer full_name email : String external_id : String labels : Object","title":"View Usage Item"},{"location":"admin_api/latest/subscriptions/usage/#delete-usage-item","text":"DELETE /admin/subscriptions/{subscription_id}/billing_usages/{id}","title":"Delete Usage Item"},{"location":"admin_api/latest/users/","text":"Users \u00b6 List Users \u00b6 GET /api/admin/users Include Unprocessed Usage You can optionally pass ?include=balance to see their unprocessed usage. Unprocessed usage is the amount they have accrued that has not yet been sent to your invoice & payment system. Example { \"users\" : [ { \"id\" : 1 , \"fname\" : \"John\" , \"lname\" : \"Doe\" , \"email\" : \"j@doe.com\" , \"active\" : true , \"is_admin\" : false , \"api_key\" : null , \"api_version\" : 0 , \"external_id\" : null , \"currency\" : \"USD\" , \"confirmed_at\" : \"2020-06-09T18:51:59.142Z\" , \"confirmation_sent_at\" : null , \"last_request_at\" : \"2020-10-15T05:49:16.258Z\" , \"last_sign_in_at\" : \"2020-10-15T05:08:36.974Z\" , \"current_sign_in_at\" : \"2020-10-15T05:45:55.042Z\" , \"sign_in_count\" : 50 , \"reset_password_sent_at\" : null , \"locked_at\" : null , \"failed_attempts\" : 0 , \"address1\" : null , \"address2\" : null , \"city\" : null , \"state\" : null , \"zip\" : null , \"country\" : \"US\" , \"vat\" : null , \"labels\" : {}, \"created_at\" : \"2020-06-09T18:51:59.145Z\" , \"updated_at\" : \"2020-10-15T05:49:16.139Z\" , \"security_keys\" : [], \"billing_plan\" : { \"id\" : 1 , \"name\" : \"default\" }, \"user_group\" : { \"id\" : 1 , \"name\" : \"default\" }, \"external_integrations\" : [], \"currency_symbol\" : \"$\" , \"current_sign_in_ip\" : \"127.0.0.1\" , \"last_sign_in_ip\" : \"127.0.0.1\" } ] } View User \u00b6 GET /api/admin/users/{user_id} Include Unprocessed Usage You can optionally pass ?include=balance to see their unprocessed usage. Unprocessed usage is the amount they have accrued that has not yet been sent to your invoice & payment system. In addition to querying a user by their user_id , you may also load a user by the following: Attribute Query Param Example email find_by_email /api/admin/users/{Base64.encode64('john@doe.com')}?find_by_email=true external_id find_by_external_id /api/admin/users/{some-external-id}?find_by_external_id=true WHMCS Service ID find_by_label=whmcs_service_id /api/admin/users/{whmcs-service-id}?find_by_label=whmcs_service_id Example { \"user\" : { \"id\" : 13 , \"fname\" : \"Jane\" , \"lname\" : \"Doe\" , \"email\" : \"jane@email.net\" , \"phone\" : \"\" , \"active\" : true , \"is_admin\" : false , \"api_key\" : null , \"api_version\" : 0 , \"external_id\" : \"\" , \"currency\" : \"USD\" , \"confirmed_at\" : \"2020-10-15T05:49:07.263Z\" , \"confirmation_sent_at\" : null , \"last_request_at\" : \"2021-03-01T23:11:08.172Z\" , \"last_sign_in_at\" : \"2021-03-01T23:35:20.304Z\" , \"current_sign_in_at\" : \"2021-03-01T23:35:37.264Z\" , \"sign_in_count\" : 102 , \"reset_password_sent_at\" : null , \"locked_at\" : null , \"failed_attempts\" : 0 , \"address1\" : \"\" , \"address2\" : \"\" , \"city\" : \"\" , \"state\" : \"\" , \"zip\" : \"\" , \"country\" : \"US\" , \"vat\" : null , \"company_name\" : \"\" , \"run_rate\" : \"0.0\" , \"labels\" : {}, \"created_at\" : \"2020-10-15T05:49:07.272Z\" , \"updated_at\" : \"2021-03-01T23:35:37.265Z\" , \"security_keys\" : [], \"billing_plan\" : { \"id\" : 1 , \"name\" : \"default\" }, \"user_group\" : { \"id\" : 1 , \"name\" : \"default\" }, \"external_integrations\" : [], \"currency_symbol\" : \"$\" , \"current_sign_in_ip\" : \"127.0.0.1\" , \"last_sign_in_ip\" : \"127.0.0.1\" , \"services\" : { \"deployments\" : 1 , \"containers\" : 1 , \"container_services\" : 1 , \"container_images\" : 0 , \"container_registries\" : 0 , \"dns_zones\" : 0 } } } Create User \u00b6 POST /api/admin/users We also have a non-admin endpoint for creating users. User Email Address While we require a unique, and valid, email address, you may elect to have it only valid in terms of syntax, not deliverability. If you pass the option \"skip_email_confirm\": true in your json request, we will set the email as valid and not send a confirmation email. External ID All users have an external_id field, which is also visible in the Administrator. You're able to use this for your integration and store a value to help identify this user in your system. Labels Users have a key value label section that you can use to store additional details about the user. When viewing the user, the field will be labels , however when creating the user, please use the parameter merge_labels . Example { \"user\" : { \"skip_email_confirm\" : true , # Op t io nal , o t herwise t hey will ge t a n email aski n g t hem t o co nf irm t heir accou nt . \"external_id\" : \"\" , # A f ield you may use f or your ow n purposes t o s t ore a u n ique id \"fname\" : \"\" , # required \"lname\" : \"\" , # required \"email\" : \"\" , # required. Mus t be u n ique i n our sys te m! I f you skip email co nf irma t io n , i t does n o t nee d t o be a real email accou nt . \"password\" : \"\" , # required \"password_confirmation\" : \"\" , # required \"address1\" : \"\" , \"address2\" : \"\" , \"city\" : \"\" , \"state\" : \"\" , \"zip\" : \"\" , # pos tal code \"country\" : \"\" , \"phone\" : \"\" , \"user_group_id\" : \"\" , # bla n k will use t he de fault user group. \"merge_labels\" : [ { \"key\" : \"value\" } ] } } Additional User Fields Field Type Notes active Boolean Suspended, or un-suspended is_admin Boolean Grant admin access to this user currency String Must be a 3-digit code, like EUR or USD . bypass_billing Boolean Whether or not billing data should be processed by any billing integration company_name string locale string Their language in 2-digit format, examples: en , fr , de . Example { \"id\" : 100 , \"fname\" : \"John\" , \"lname\" : \"Doe\" , \"email\" : \"j@doe.local\" , \"active\" : true , \"is_admin\" : false , \"external_id\" : \"\" , \"currency\" : \"USD\" , \"confirmed_at\" : \"2020-10-15T05:49:07.263Z\" , \"confirmation_sent_at\" : null , \"last_request_at\" : \"2021-03-01T23:11:08.172Z\" , \"last_sign_in_at\" : \"2021-03-01T22:17:10.344Z\" , \"current_sign_in_at\" : \"2021-03-01T23:27:37.728Z\" , \"sign_in_count\" : 0 , \"reset_password_sent_at\" : null , \"locked_at\" : null , \"failed_attempts\" : 0 , \"address1\" : \"\" , \"address2\" : \"\" , \"city\" : \"\" , \"state\" : \"\" , \"zip\" : \"\" , \"country\" : \"US\" , \"created_at\" : \"2020-10-15T05:49:07.272Z\" , \"updated_at\" : \"2021-03-01T23:27:37.729Z\" , \"security_keys\" : [], \"billing_plan\" : { \"id\" : 1 , \"name\" : \"default\" }, \"user_group\" : { \"id\" : 1 , \"name\" : \"default\" }, \"external_integrations\" : [], \"currency_symbol\" : \"$\" , \"current_sign_in_ip\" : \"127.0.0.1\" , \"last_sign_in_ip\" : \"127.0.0.1\" } Generate API Credentials \u00b6 POST /api/users/{user_id}/api_credentials Generate basic auth credentials for this user. { \"api_credential\" : { \"name\" : \"\" # This will be visible i n t he user's pro f ile. } } Response { \"api_credential\" : { \"id\" : 0 , \"username\" : \"\" , \"password\" : \"\" } } Generate SSO Token \u00b6 POST /api/users/{user_id}/user_sso This can be used in conjunction with a custom registration process. After you create their user account, you can then request a SSO token and include that in the url: https://myportal.com/?username={email}&token={token} . You should perform this token and redirect all in a single request; the token will expire in less than 1 minute. Response { \"username\" : \"j@j.local, \" t oke n \": \" TOKEN \", \" expires \": \" 2021-03-01 T 23 : 36 : 57.214 Z\" } Suspend User \u00b6 POST /api/users/{user_id}/suspension This will stop all their containers and prevent them from using ComputeStacks. Unsuspend User \u00b6 DELETE /api/users/{user_id}/suspension","title":"Users"},{"location":"admin_api/latest/users/#users","text":"","title":"Users"},{"location":"admin_api/latest/users/#list-users","text":"GET /api/admin/users Include Unprocessed Usage You can optionally pass ?include=balance to see their unprocessed usage. Unprocessed usage is the amount they have accrued that has not yet been sent to your invoice & payment system. Example { \"users\" : [ { \"id\" : 1 , \"fname\" : \"John\" , \"lname\" : \"Doe\" , \"email\" : \"j@doe.com\" , \"active\" : true , \"is_admin\" : false , \"api_key\" : null , \"api_version\" : 0 , \"external_id\" : null , \"currency\" : \"USD\" , \"confirmed_at\" : \"2020-06-09T18:51:59.142Z\" , \"confirmation_sent_at\" : null , \"last_request_at\" : \"2020-10-15T05:49:16.258Z\" , \"last_sign_in_at\" : \"2020-10-15T05:08:36.974Z\" , \"current_sign_in_at\" : \"2020-10-15T05:45:55.042Z\" , \"sign_in_count\" : 50 , \"reset_password_sent_at\" : null , \"locked_at\" : null , \"failed_attempts\" : 0 , \"address1\" : null , \"address2\" : null , \"city\" : null , \"state\" : null , \"zip\" : null , \"country\" : \"US\" , \"vat\" : null , \"labels\" : {}, \"created_at\" : \"2020-06-09T18:51:59.145Z\" , \"updated_at\" : \"2020-10-15T05:49:16.139Z\" , \"security_keys\" : [], \"billing_plan\" : { \"id\" : 1 , \"name\" : \"default\" }, \"user_group\" : { \"id\" : 1 , \"name\" : \"default\" }, \"external_integrations\" : [], \"currency_symbol\" : \"$\" , \"current_sign_in_ip\" : \"127.0.0.1\" , \"last_sign_in_ip\" : \"127.0.0.1\" } ] }","title":"List Users"},{"location":"admin_api/latest/users/#view-user","text":"GET /api/admin/users/{user_id} Include Unprocessed Usage You can optionally pass ?include=balance to see their unprocessed usage. Unprocessed usage is the amount they have accrued that has not yet been sent to your invoice & payment system. In addition to querying a user by their user_id , you may also load a user by the following: Attribute Query Param Example email find_by_email /api/admin/users/{Base64.encode64('john@doe.com')}?find_by_email=true external_id find_by_external_id /api/admin/users/{some-external-id}?find_by_external_id=true WHMCS Service ID find_by_label=whmcs_service_id /api/admin/users/{whmcs-service-id}?find_by_label=whmcs_service_id Example { \"user\" : { \"id\" : 13 , \"fname\" : \"Jane\" , \"lname\" : \"Doe\" , \"email\" : \"jane@email.net\" , \"phone\" : \"\" , \"active\" : true , \"is_admin\" : false , \"api_key\" : null , \"api_version\" : 0 , \"external_id\" : \"\" , \"currency\" : \"USD\" , \"confirmed_at\" : \"2020-10-15T05:49:07.263Z\" , \"confirmation_sent_at\" : null , \"last_request_at\" : \"2021-03-01T23:11:08.172Z\" , \"last_sign_in_at\" : \"2021-03-01T23:35:20.304Z\" , \"current_sign_in_at\" : \"2021-03-01T23:35:37.264Z\" , \"sign_in_count\" : 102 , \"reset_password_sent_at\" : null , \"locked_at\" : null , \"failed_attempts\" : 0 , \"address1\" : \"\" , \"address2\" : \"\" , \"city\" : \"\" , \"state\" : \"\" , \"zip\" : \"\" , \"country\" : \"US\" , \"vat\" : null , \"company_name\" : \"\" , \"run_rate\" : \"0.0\" , \"labels\" : {}, \"created_at\" : \"2020-10-15T05:49:07.272Z\" , \"updated_at\" : \"2021-03-01T23:35:37.265Z\" , \"security_keys\" : [], \"billing_plan\" : { \"id\" : 1 , \"name\" : \"default\" }, \"user_group\" : { \"id\" : 1 , \"name\" : \"default\" }, \"external_integrations\" : [], \"currency_symbol\" : \"$\" , \"current_sign_in_ip\" : \"127.0.0.1\" , \"last_sign_in_ip\" : \"127.0.0.1\" , \"services\" : { \"deployments\" : 1 , \"containers\" : 1 , \"container_services\" : 1 , \"container_images\" : 0 , \"container_registries\" : 0 , \"dns_zones\" : 0 } } }","title":"View User"},{"location":"admin_api/latest/users/#create-user","text":"POST /api/admin/users We also have a non-admin endpoint for creating users. User Email Address While we require a unique, and valid, email address, you may elect to have it only valid in terms of syntax, not deliverability. If you pass the option \"skip_email_confirm\": true in your json request, we will set the email as valid and not send a confirmation email. External ID All users have an external_id field, which is also visible in the Administrator. You're able to use this for your integration and store a value to help identify this user in your system. Labels Users have a key value label section that you can use to store additional details about the user. When viewing the user, the field will be labels , however when creating the user, please use the parameter merge_labels . Example { \"user\" : { \"skip_email_confirm\" : true , # Op t io nal , o t herwise t hey will ge t a n email aski n g t hem t o co nf irm t heir accou nt . \"external_id\" : \"\" , # A f ield you may use f or your ow n purposes t o s t ore a u n ique id \"fname\" : \"\" , # required \"lname\" : \"\" , # required \"email\" : \"\" , # required. Mus t be u n ique i n our sys te m! I f you skip email co nf irma t io n , i t does n o t nee d t o be a real email accou nt . \"password\" : \"\" , # required \"password_confirmation\" : \"\" , # required \"address1\" : \"\" , \"address2\" : \"\" , \"city\" : \"\" , \"state\" : \"\" , \"zip\" : \"\" , # pos tal code \"country\" : \"\" , \"phone\" : \"\" , \"user_group_id\" : \"\" , # bla n k will use t he de fault user group. \"merge_labels\" : [ { \"key\" : \"value\" } ] } } Additional User Fields Field Type Notes active Boolean Suspended, or un-suspended is_admin Boolean Grant admin access to this user currency String Must be a 3-digit code, like EUR or USD . bypass_billing Boolean Whether or not billing data should be processed by any billing integration company_name string locale string Their language in 2-digit format, examples: en , fr , de . Example { \"id\" : 100 , \"fname\" : \"John\" , \"lname\" : \"Doe\" , \"email\" : \"j@doe.local\" , \"active\" : true , \"is_admin\" : false , \"external_id\" : \"\" , \"currency\" : \"USD\" , \"confirmed_at\" : \"2020-10-15T05:49:07.263Z\" , \"confirmation_sent_at\" : null , \"last_request_at\" : \"2021-03-01T23:11:08.172Z\" , \"last_sign_in_at\" : \"2021-03-01T22:17:10.344Z\" , \"current_sign_in_at\" : \"2021-03-01T23:27:37.728Z\" , \"sign_in_count\" : 0 , \"reset_password_sent_at\" : null , \"locked_at\" : null , \"failed_attempts\" : 0 , \"address1\" : \"\" , \"address2\" : \"\" , \"city\" : \"\" , \"state\" : \"\" , \"zip\" : \"\" , \"country\" : \"US\" , \"created_at\" : \"2020-10-15T05:49:07.272Z\" , \"updated_at\" : \"2021-03-01T23:27:37.729Z\" , \"security_keys\" : [], \"billing_plan\" : { \"id\" : 1 , \"name\" : \"default\" }, \"user_group\" : { \"id\" : 1 , \"name\" : \"default\" }, \"external_integrations\" : [], \"currency_symbol\" : \"$\" , \"current_sign_in_ip\" : \"127.0.0.1\" , \"last_sign_in_ip\" : \"127.0.0.1\" }","title":"Create User"},{"location":"admin_api/latest/users/#generate-api-credentials","text":"POST /api/users/{user_id}/api_credentials Generate basic auth credentials for this user. { \"api_credential\" : { \"name\" : \"\" # This will be visible i n t he user's pro f ile. } } Response { \"api_credential\" : { \"id\" : 0 , \"username\" : \"\" , \"password\" : \"\" } }","title":"Generate API Credentials"},{"location":"admin_api/latest/users/#generate-sso-token","text":"POST /api/users/{user_id}/user_sso This can be used in conjunction with a custom registration process. After you create their user account, you can then request a SSO token and include that in the url: https://myportal.com/?username={email}&token={token} . You should perform this token and redirect all in a single request; the token will expire in less than 1 minute. Response { \"username\" : \"j@j.local, \" t oke n \": \" TOKEN \", \" expires \": \" 2021-03-01 T 23 : 36 : 57.214 Z\" }","title":"Generate SSO Token"},{"location":"admin_api/latest/users/#suspend-user","text":"POST /api/users/{user_id}/suspension This will stop all their containers and prevent them from using ComputeStacks.","title":"Suspend User"},{"location":"admin_api/latest/users/#unsuspend-user","text":"DELETE /api/users/{user_id}/suspension","title":"Unsuspend User"},{"location":"admin_api/latest/users/ssh_keys/","text":"SSH Key Management \u00b6 List All User Keys \u00b6 GET /api/admin/users/{user-id}/ssh_keys Schema user_ssh_keys : Array id : Integer label : String created_at : DateTime updated_at : DateTime View User SSH Keys \u00b6 GET /api/admin/users/{user-id}/ssh_keys/{id} Schema user_ssh_key : Object id : Integer label : String created_at : DateTime updated_at : DateTime Create User SSH Key \u00b6 POST /api/admin/users/{user-id}/ssh_keys Schema user_ssh_key : Object pubkey : String - Public SSH Key Delete User SSH Key \u00b6 DELETE /api/admin/users/{user-id}/ssh_keys/{id}","title":"SSH Keys"},{"location":"admin_api/latest/users/ssh_keys/#ssh-key-management","text":"","title":"SSH Key Management"},{"location":"admin_api/latest/users/ssh_keys/#list-all-user-keys","text":"GET /api/admin/users/{user-id}/ssh_keys Schema user_ssh_keys : Array id : Integer label : String created_at : DateTime updated_at : DateTime","title":"List All User Keys"},{"location":"admin_api/latest/users/ssh_keys/#view-user-ssh-keys","text":"GET /api/admin/users/{user-id}/ssh_keys/{id} Schema user_ssh_key : Object id : Integer label : String created_at : DateTime updated_at : DateTime","title":"View User SSH Keys"},{"location":"admin_api/latest/users/ssh_keys/#create-user-ssh-key","text":"POST /api/admin/users/{user-id}/ssh_keys Schema user_ssh_key : Object pubkey : String - Public SSH Key","title":"Create User SSH Key"},{"location":"admin_api/latest/users/ssh_keys/#delete-user-ssh-key","text":"DELETE /api/admin/users/{user-id}/ssh_keys/{id}","title":"Delete User SSH Key"},{"location":"admin_api/latest/users/user_groups/","text":"User Groups \u00b6 List All User Groups \u00b6 GET /api/admin/user_groups Schema user_groups : Array id : Integer name : String is_default : Boolean billing_plan_id : Integer active : Boolean q_containers : Integer q_dns_zones : Integer q_cr : Integer allow_local_volume : Boolean - When using NFS volume storage, enable this to allow users to choose. bill_offline : Boolean - Continue billing containers when they\u2019re stopped. Volumes and backups are always billed. (default: true) bill_suspended : Boolean - Continue billing suspended users. (default: true) remove_stopped : Boolean - Remove stopped containers from the node. Persistent volumes will remain. When the user starts the container, it will be repovisioned automatically. (default: false) created_at : DateTime updated_at : DateTime View User Group \u00b6 GET /api/admin/user_groups/{id} Schema user_group : Object id : Integer name : String is_default : Boolean billing_plan_id : Integer active : Boolean q_containers : Integer q_dns_zones : Integer q_cr : Integer allow_local_volume : Boolean - When using NFS volume storage, enable this to allow users to choose. bill_offline : Boolean - Continue billing containers when they\u2019re stopped. Volumes and backups are always billed. (default: true) bill_suspended : Boolean - Continue billing suspended users. (default: true) remove_stopped : Boolean - Remove stopped containers from the node. Persistent volumes will remain. When the user starts the container, it will be repovisioned automatically. (default: false) created_at : DateTime updated_at : DateTime Edit User Group \u00b6 PATCH /api/admin/user_groups/{id} Schema user_group : Object name : String is_default : Boolean billing_plan_id : Integer active : Boolean q_containers : Integer q_dns_zones : Integer q_cr : Integer allow_local_volume : Boolean - When using NFS volume storage, enable this to allow users to choose. bill_offline : Boolean - Continue billing containers when they\u2019re stopped. Volumes and backups are always billed. (default: true) bill_suspended : Boolean - Continue billing suspended users. (default: true) remove_stopped : Boolean - Remove stopped containers from the node. Persistent volumes will remain. When the user starts the container, it will be repovisioned automatically. (default: false) Create User Group \u00b6 POST /api/admin/user_groups Schema user_group : Object name : String is_default : Boolean billing_plan_id : Integer active : Boolean q_containers : Integer q_dns_zones : Integer q_cr : Integer allow_local_volume : Boolean - When using NFS volume storage, enable this to allow users to choose. bill_offline : Boolean - Continue billing containers when they\u2019re stopped. Volumes and backups are always billed. (default: true) bill_suspended : Boolean - Continue billing suspended users. (default: true) remove_stopped : Boolean - Remove stopped containers from the node. Persistent volumes will remain. When the user starts the container, it will be repovisioned automatically. (default: false) Delete User Group \u00b6 DELETE /api/admin/user_groups/{id} You must first remove any users from this group before deleting it","title":"Groups"},{"location":"admin_api/latest/users/user_groups/#user-groups","text":"","title":"User Groups"},{"location":"admin_api/latest/users/user_groups/#list-all-user-groups","text":"GET /api/admin/user_groups Schema user_groups : Array id : Integer name : String is_default : Boolean billing_plan_id : Integer active : Boolean q_containers : Integer q_dns_zones : Integer q_cr : Integer allow_local_volume : Boolean - When using NFS volume storage, enable this to allow users to choose. bill_offline : Boolean - Continue billing containers when they\u2019re stopped. Volumes and backups are always billed. (default: true) bill_suspended : Boolean - Continue billing suspended users. (default: true) remove_stopped : Boolean - Remove stopped containers from the node. Persistent volumes will remain. When the user starts the container, it will be repovisioned automatically. (default: false) created_at : DateTime updated_at : DateTime","title":"List All User Groups"},{"location":"admin_api/latest/users/user_groups/#view-user-group","text":"GET /api/admin/user_groups/{id} Schema user_group : Object id : Integer name : String is_default : Boolean billing_plan_id : Integer active : Boolean q_containers : Integer q_dns_zones : Integer q_cr : Integer allow_local_volume : Boolean - When using NFS volume storage, enable this to allow users to choose. bill_offline : Boolean - Continue billing containers when they\u2019re stopped. Volumes and backups are always billed. (default: true) bill_suspended : Boolean - Continue billing suspended users. (default: true) remove_stopped : Boolean - Remove stopped containers from the node. Persistent volumes will remain. When the user starts the container, it will be repovisioned automatically. (default: false) created_at : DateTime updated_at : DateTime","title":"View User Group"},{"location":"admin_api/latest/users/user_groups/#edit-user-group","text":"PATCH /api/admin/user_groups/{id} Schema user_group : Object name : String is_default : Boolean billing_plan_id : Integer active : Boolean q_containers : Integer q_dns_zones : Integer q_cr : Integer allow_local_volume : Boolean - When using NFS volume storage, enable this to allow users to choose. bill_offline : Boolean - Continue billing containers when they\u2019re stopped. Volumes and backups are always billed. (default: true) bill_suspended : Boolean - Continue billing suspended users. (default: true) remove_stopped : Boolean - Remove stopped containers from the node. Persistent volumes will remain. When the user starts the container, it will be repovisioned automatically. (default: false)","title":"Edit User Group"},{"location":"admin_api/latest/users/user_groups/#create-user-group","text":"POST /api/admin/user_groups Schema user_group : Object name : String is_default : Boolean billing_plan_id : Integer active : Boolean q_containers : Integer q_dns_zones : Integer q_cr : Integer allow_local_volume : Boolean - When using NFS volume storage, enable this to allow users to choose. bill_offline : Boolean - Continue billing containers when they\u2019re stopped. Volumes and backups are always billed. (default: true) bill_suspended : Boolean - Continue billing suspended users. (default: true) remove_stopped : Boolean - Remove stopped containers from the node. Persistent volumes will remain. When the user starts the container, it will be repovisioned automatically. (default: false)","title":"Create User Group"},{"location":"admin_api/latest/users/user_groups/#delete-user-group","text":"DELETE /api/admin/user_groups/{id} You must first remove any users from this group before deleting it","title":"Delete User Group"},{"location":"admin_api/latest/zones/","text":"DNS Zones \u00b6 List all zones \u00b6 GET /api/admin/zones You may optionally include ?user_id= to filter zones by user. Schema zones : Array id : Integer name : String user : Object id : Integer email : String external_id : String labels : Object created_at : DateTime updated_at : DateTime","title":"Overview"},{"location":"admin_api/latest/zones/#dns-zones","text":"","title":"DNS Zones"},{"location":"admin_api/latest/zones/#list-all-zones","text":"GET /api/admin/zones You may optionally include ?user_id= to filter zones by user. Schema zones : Array id : Integer name : String user : Object id : Integer email : String external_id : String labels : Object created_at : DateTime updated_at : DateTime","title":"List all zones"},{"location":"admin_api/latest/zones/collaborators/","text":"DNS Zone Collaborator Collaborators \u00b6 List All Collaborators \u00b6 GET /api/admin/zones/{zone-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String View Collaborator \u00b6 GET /api/admin/zones/{zone-id}/collaborators/{id} Schema collaboration : Object id : Integer zone : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Create Collaborator Request \u00b6 POST /api/admin/zones/{zone-id}/collaborators Schema collaborator : Object user_email : String skip_confirmation : Boolean Remove Collaborator \u00b6 DELETE /api/admin/zones/{zone-id}/collaborators/{id}","title":"Collaborations"},{"location":"admin_api/latest/zones/collaborators/#dns-zone-collaborator-collaborators","text":"","title":"DNS Zone Collaborator Collaborators"},{"location":"admin_api/latest/zones/collaborators/#list-all-collaborators","text":"GET /api/admin/zones/{zone-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String","title":"List All Collaborators"},{"location":"admin_api/latest/zones/collaborators/#view-collaborator","text":"GET /api/admin/zones/{zone-id}/collaborators/{id} Schema collaboration : Object id : Integer zone : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaborator"},{"location":"admin_api/latest/zones/collaborators/#create-collaborator-request","text":"POST /api/admin/zones/{zone-id}/collaborators Schema collaborator : Object user_email : String skip_confirmation : Boolean","title":"Create Collaborator Request"},{"location":"admin_api/latest/zones/collaborators/#remove-collaborator","text":"DELETE /api/admin/zones/{zone-id}/collaborators/{id}","title":"Remove Collaborator"},{"location":"admin_guide/","text":"Admin Guide \u00b6 Welcome to the admin guide for ComputeStacks! Getting Help \u00b6 View all our support channels.","title":"Overview"},{"location":"admin_guide/#admin-guide","text":"Welcome to the admin guide for ComputeStacks!","title":"Admin Guide"},{"location":"admin_guide/#getting-help","text":"View all our support channels.","title":"Getting Help"},{"location":"admin_guide/billing/","text":"Billing Overview \u00b6 ComputeStacks is a metered (post-pay) system, which means all of our resources are either shown as per-hour , or per-unit . We perform all billing calculation based on a user\u2019s assigned billing plan , and report that to your billing system . Usage Calculation \u00b6 ComputeStacks uses a simple realtime price strategy for recording billable usage for consumed resources. This is in contrast to more traditional billing systems which determine pricing at the time an invoice is generated, not when the resource was consumed. Each hour, ComputeStacks pulls the current usage across all subscriptions. At the same time, it performs a real time price lookup based on the rules defined in their billing plan. Because the price is determined in real time and stored alongside the quantity used, any change you make in the future will not adjust their previously stored usage.","title":"Overview"},{"location":"admin_guide/billing/#billing-overview","text":"ComputeStacks is a metered (post-pay) system, which means all of our resources are either shown as per-hour , or per-unit . We perform all billing calculation based on a user\u2019s assigned billing plan , and report that to your billing system .","title":"Billing Overview"},{"location":"admin_guide/billing/#usage-calculation","text":"ComputeStacks uses a simple realtime price strategy for recording billable usage for consumed resources. This is in contrast to more traditional billing systems which determine pricing at the time an invoice is generated, not when the resource was consumed. Each hour, ComputeStacks pulls the current usage across all subscriptions. At the same time, it performs a real time price lookup based on the rules defined in their billing plan. Because the price is determined in real time and stored alongside the quantity used, any change you make in the future will not adjust their previously stored usage.","title":"Usage Calculation"},{"location":"admin_guide/billing/billing_plans/","text":"Billing Plans \u00b6 ComputeStacks uses billing plans as a rule set for determining the real time price for a given resource. We also use this for generating the price matrix on order forms. You can create as many billing plans as you want, but only one may the default. This is useful for creating custom or special pricing for a different set of users. If no price rule exists for a given scenario (e.g. currency + region + quantity) , ComputeStacks will default to a price of 0.00. Products & Packages \u00b6 A product is a separate object from Billing Plans, which allow you to define it once, and use it in multiple plans. Creating a Product \u00b6 Products are the base for packages, so you must define this first prior to creating a package. External ID This is available in WebHooks and API Calls. This is generally used by billing integrations to identify this product. Package or Metered Resource : Package: Container package Metered Resource: Bandwidth, Storage. Resource Only applies of \u2018Kind\u2019 is \u2018Metered Resource\u2019 This tells ComputeStacks what kind of resource this is. When we\u2019re calculating pricing on the hour, we will use this value to find the price for a given resource. * Unit This should almost always be 1. Unit Type CORE for CPU , MB for Memory, and GB for bandwidth and storage. Package Settings \u00b6 After creating a product, and selecting Package as the product kind, you will have the ability to customize the package resource. CPU How many CPU Cores to assign. These can be fractional units of 0.25 . Memory Memory is stored in MB . Volume Storage Anything over this amount will be charged at the current storage rate set in the users billing plan. Temporary Disk Temporary disk is all storage used by the container, less any volume usage. Anything over this amount will be charged at the current temporary disk rate set in the users billing plan. Bandwidth Up to this amount is included, anything else will be charged as overage. Backup Storage Anything beyond this will be charged as overage. Billing Phases \u00b6 Phases are a way to describe the current state of a subscription. There are three possibilities: Trial, Discount, and Final. Phases only move forward and never backwards. The transition to the next phase is automatic and based on the duration of that phase. The duration defined in the phase is the maximum amount of time the subscription will stay in the phase. The actual time frame will depend on the billing_start field for a given user. The billing start is automatically set when a user places their first order. This can also be set manually by an administrator at any time. For example, if a trial phase is set to last for 14 days and a user placed their first subscription for a different order 7 days ago, they will get a free trial for 7 more days. So for Trial and Discount phases, the time frame not only applies to how long a given subscription will be in that phase, but also the total amount of time they have access to that phase. Pricing \u00b6 Prices are unique to their parent phase, and can be customized for specific regions, currencies, and quantity. Multiple Currencies \u00b6 ComputeStacks supports selling in multiple currencies, which you can add to each Billing Phase , however we will not automatically convert a currency from a base currency, to another one. Tax & VAT \u00b6 ComputeStacks does not calculate tax or VAT. This is generally handled by your billing system ( WHMCS ), and is done at the time an invoice is generated. There is a global default currency set during the installation process, however each user can have a different currency set by Administrators, or from the billing integration. Tiers \u00b6 By adding a maximum allowed quantity , you can create tiered pricing. This is popular for storage and bandwidth.","title":"Billing Plans"},{"location":"admin_guide/billing/billing_plans/#billing-plans","text":"ComputeStacks uses billing plans as a rule set for determining the real time price for a given resource. We also use this for generating the price matrix on order forms. You can create as many billing plans as you want, but only one may the default. This is useful for creating custom or special pricing for a different set of users. If no price rule exists for a given scenario (e.g. currency + region + quantity) , ComputeStacks will default to a price of 0.00.","title":"Billing Plans"},{"location":"admin_guide/billing/billing_plans/#products-packages","text":"A product is a separate object from Billing Plans, which allow you to define it once, and use it in multiple plans.","title":"Products &amp; Packages"},{"location":"admin_guide/billing/billing_plans/#creating-a-product","text":"Products are the base for packages, so you must define this first prior to creating a package. External ID This is available in WebHooks and API Calls. This is generally used by billing integrations to identify this product. Package or Metered Resource : Package: Container package Metered Resource: Bandwidth, Storage. Resource Only applies of \u2018Kind\u2019 is \u2018Metered Resource\u2019 This tells ComputeStacks what kind of resource this is. When we\u2019re calculating pricing on the hour, we will use this value to find the price for a given resource. * Unit This should almost always be 1. Unit Type CORE for CPU , MB for Memory, and GB for bandwidth and storage.","title":"Creating a Product"},{"location":"admin_guide/billing/billing_plans/#package-settings","text":"After creating a product, and selecting Package as the product kind, you will have the ability to customize the package resource. CPU How many CPU Cores to assign. These can be fractional units of 0.25 . Memory Memory is stored in MB . Volume Storage Anything over this amount will be charged at the current storage rate set in the users billing plan. Temporary Disk Temporary disk is all storage used by the container, less any volume usage. Anything over this amount will be charged at the current temporary disk rate set in the users billing plan. Bandwidth Up to this amount is included, anything else will be charged as overage. Backup Storage Anything beyond this will be charged as overage.","title":"Package Settings"},{"location":"admin_guide/billing/billing_plans/#billing-phases","text":"Phases are a way to describe the current state of a subscription. There are three possibilities: Trial, Discount, and Final. Phases only move forward and never backwards. The transition to the next phase is automatic and based on the duration of that phase. The duration defined in the phase is the maximum amount of time the subscription will stay in the phase. The actual time frame will depend on the billing_start field for a given user. The billing start is automatically set when a user places their first order. This can also be set manually by an administrator at any time. For example, if a trial phase is set to last for 14 days and a user placed their first subscription for a different order 7 days ago, they will get a free trial for 7 more days. So for Trial and Discount phases, the time frame not only applies to how long a given subscription will be in that phase, but also the total amount of time they have access to that phase.","title":"Billing Phases"},{"location":"admin_guide/billing/billing_plans/#pricing","text":"Prices are unique to their parent phase, and can be customized for specific regions, currencies, and quantity.","title":"Pricing"},{"location":"admin_guide/billing/billing_plans/#multiple-currencies","text":"ComputeStacks supports selling in multiple currencies, which you can add to each Billing Phase , however we will not automatically convert a currency from a base currency, to another one.","title":"Multiple Currencies"},{"location":"admin_guide/billing/billing_plans/#tax-vat","text":"ComputeStacks does not calculate tax or VAT. This is generally handled by your billing system ( WHMCS ), and is done at the time an invoice is generated. There is a global default currency set during the installation process, however each user can have a different currency set by Administrators, or from the billing integration.","title":"Tax &amp; VAT"},{"location":"admin_guide/billing/billing_plans/#tiers","text":"By adding a maximum allowed quantity , you can create tiered pricing. This is popular for storage and bandwidth.","title":"Tiers"},{"location":"admin_guide/billing/free_trial/","text":"Creating Free Trials & Discount Phases \u00b6 Overview \u00b6 ComputeStacks supports both free trials, and discount periods for all services in a billing plan. Given the following billing plan, we have a free trial for 7 days, and then a 3 month discounted price. When viewing on the order form, the customer will see all 3 pricing phases so they know exactly what they will pay, and when. Calculating The Start Date \u00b6 Both Free Trials and Discount Phases will only apply to new customers . To make this available to an existing customer , or to extend their free trial and discount periods, you can manually edit the user and change the date of the field Billing Start . The Billing Start field will be blank for new signups, and will only be set upon their first order. This means that if a user signs up on August 1st but does not order anything, on December 1st they will still have the free trial and discount periods available. Creating A Pricing Period \u00b6 Navigate to the billing plan and click Add Phase next to the product. Select either Free Trial or Discount . Duration is how long the subscription will stay in that period. We support hours, days, months, and years. After the duration has passed, the subscription will automatically move to the next phase. This may be either a discount phase (if coming from a free trial), or the final phase.","title":"Setup Free Trials"},{"location":"admin_guide/billing/free_trial/#creating-free-trials-discount-phases","text":"","title":"Creating Free Trials &amp; Discount Phases"},{"location":"admin_guide/billing/free_trial/#overview","text":"ComputeStacks supports both free trials, and discount periods for all services in a billing plan. Given the following billing plan, we have a free trial for 7 days, and then a 3 month discounted price. When viewing on the order form, the customer will see all 3 pricing phases so they know exactly what they will pay, and when.","title":"Overview"},{"location":"admin_guide/billing/free_trial/#calculating-the-start-date","text":"Both Free Trials and Discount Phases will only apply to new customers . To make this available to an existing customer , or to extend their free trial and discount periods, you can manually edit the user and change the date of the field Billing Start . The Billing Start field will be blank for new signups, and will only be set upon their first order. This means that if a user signs up on August 1st but does not order anything, on December 1st they will still have the free trial and discount periods available.","title":"Calculating The Start Date"},{"location":"admin_guide/billing/free_trial/#creating-a-pricing-period","text":"Navigate to the billing plan and click Add Phase next to the product. Select either Free Trial or Discount . Duration is how long the subscription will stay in that period. We support hours, days, months, and years. After the duration has passed, the subscription will automatically move to the next phase. This may be either a discount phase (if coming from a free trial), or the final phase.","title":"Creating A Pricing Period"},{"location":"admin_guide/billing/integrations/","text":"Invoicing & Payments \u00b6 While ComputeStacks generates all of the billing data, we do not directly handle payments or generating invoices . We rely on third party integrations for this part of the billing process. This affords us the flexibility to work in a variety of environments. Integrations \u00b6 Currently, we only offer a billing integration with WHMCS . Use something else? Please reach out to our team and we can discuss integration options. Using WebHooks \u00b6 Using our Webhooks is a popular alternative for providers with a custom control panel & billing system. With this integration option, you can onboard customers how you normally would in your system, and using SSO, log them into ComputeStacks. Then on each billable event, we will send a webhook to your system to process that usage.","title":"Handle Invoicing & Payments"},{"location":"admin_guide/billing/integrations/#invoicing-payments","text":"While ComputeStacks generates all of the billing data, we do not directly handle payments or generating invoices . We rely on third party integrations for this part of the billing process. This affords us the flexibility to work in a variety of environments.","title":"Invoicing &amp; Payments"},{"location":"admin_guide/billing/integrations/#integrations","text":"Currently, we only offer a billing integration with WHMCS . Use something else? Please reach out to our team and we can discuss integration options.","title":"Integrations"},{"location":"admin_guide/billing/integrations/#using-webhooks","text":"Using our Webhooks is a popular alternative for providers with a custom control panel & billing system. With this integration option, you can onboard customers how you normally would in your system, and using SSO, log them into ComputeStacks. Then on each billable event, we will send a webhook to your system to process that usage.","title":"Using WebHooks"},{"location":"admin_guide/cluster_management/change_region_name/","text":"Renaming a Region \u00b6 The process of renaming a region requires a few addition steps beyond simply changing the name in the web administrator. This is because we use this to target our key/value store on the nodes, and so that will need to be updated manually. Step 1: Bring Down Cluster Manager \u00b6 Stop Agent \u00b6 SSH into each node and run: systemctl stop cs-agent Break Cluster \u00b6 You will need to determine the current cluster leader before proceeding. To do so, on one of the nodes run consul info . Under the consul section, you will see the leader. On all nodes, except the leader, run the following consul leave systemctl stop consul Verify all members have been evicted by running consul members on the leader node. Evict the leader consul leave systemctl stop consul Step 2: Update Name \u00b6 On each node, update the datacenter name to match the name of the new region: The datacenter name should be one word, all lower case. sed -i 's/\"datacenter\":.*/\"datacenter\":\"NEW-NAME\",/g' /etc/consul/config.json Step 3: Bring Up Cluster \u00b6 On the leader node, bring up consul with systemctl start consul . Use consul monitor and consul info to ensure that no errors exist. Upon successful boot, run that same command across all nodes in your cluster Verify all members have joined with consul members Finally, run systemctl start cs-agent on all nodes in the cluster. Step 4: Rename Region in ComputeStacks \u00b6 Rename the region in ComputeStacks.","title":"Rename Region"},{"location":"admin_guide/cluster_management/change_region_name/#renaming-a-region","text":"The process of renaming a region requires a few addition steps beyond simply changing the name in the web administrator. This is because we use this to target our key/value store on the nodes, and so that will need to be updated manually.","title":"Renaming a Region"},{"location":"admin_guide/cluster_management/change_region_name/#step-1-bring-down-cluster-manager","text":"","title":"Step 1: Bring Down Cluster Manager"},{"location":"admin_guide/cluster_management/change_region_name/#stop-agent","text":"SSH into each node and run: systemctl stop cs-agent","title":"Stop Agent"},{"location":"admin_guide/cluster_management/change_region_name/#break-cluster","text":"You will need to determine the current cluster leader before proceeding. To do so, on one of the nodes run consul info . Under the consul section, you will see the leader. On all nodes, except the leader, run the following consul leave systemctl stop consul Verify all members have been evicted by running consul members on the leader node. Evict the leader consul leave systemctl stop consul","title":"Break Cluster"},{"location":"admin_guide/cluster_management/change_region_name/#step-2-update-name","text":"On each node, update the datacenter name to match the name of the new region: The datacenter name should be one word, all lower case. sed -i 's/\"datacenter\":.*/\"datacenter\":\"NEW-NAME\",/g' /etc/consul/config.json","title":"Step 2: Update Name"},{"location":"admin_guide/cluster_management/change_region_name/#step-3-bring-up-cluster","text":"On the leader node, bring up consul with systemctl start consul . Use consul monitor and consul info to ensure that no errors exist. Upon successful boot, run that same command across all nodes in your cluster Verify all members have joined with consul members Finally, run systemctl start cs-agent on all nodes in the cluster.","title":"Step 3: Bring Up Cluster"},{"location":"admin_guide/cluster_management/change_region_name/#step-4-rename-region-in-computestacks","text":"Rename the region in ComputeStacks.","title":"Step 4: Rename Region in ComputeStacks"},{"location":"admin_guide/cluster_management/cs_database/","text":"ComputeStacks Controller Database \u00b6 Take Backups \u00b6 We recommend you take a full snapshot of the virtual machine running ComputeStacks at regular intervals. By default, database backups are only created just before a new version is deployed. Database backups can be taken manually at anytime by running cstacks database-backup . This will created a compressed backup under /opt/computestacks/backups . Restoring a backup \u00b6 To restore a backup, cd to the backup directory and run gzip -d <filename> && psql cloudportal < <filename-without-gz> . For example, if the database backup is: cloudportal-20200617-0940_53.sql.gz , then you would run: I don\u2019t recommend copy/pasting the entire block below and running it. Instead, copy each line one-by-one and run it to make sure it\u2019s successful. docker stop portal dropdb cloudportal && createdb cloudportal gzip -d cloudportal-20200617-0940_53.sql.gz && psql cloudportal < cloudportal-20200617-0940_53.sql cstacks upgrade && cstacks run This will: Stop the controller Delete the existing database and re-create it (you may also do this from within psql ) Decompress the database backup and restore it to the newly created cloudportal database Run the upgrade command for ComputeStacks to ensure the schema is up to date, and finally; Start the portal back up.","title":"Controller Database"},{"location":"admin_guide/cluster_management/cs_database/#computestacks-controller-database","text":"","title":"ComputeStacks Controller Database"},{"location":"admin_guide/cluster_management/cs_database/#take-backups","text":"We recommend you take a full snapshot of the virtual machine running ComputeStacks at regular intervals. By default, database backups are only created just before a new version is deployed. Database backups can be taken manually at anytime by running cstacks database-backup . This will created a compressed backup under /opt/computestacks/backups .","title":"Take Backups"},{"location":"admin_guide/cluster_management/cs_database/#restoring-a-backup","text":"To restore a backup, cd to the backup directory and run gzip -d <filename> && psql cloudportal < <filename-without-gz> . For example, if the database backup is: cloudportal-20200617-0940_53.sql.gz , then you would run: I don\u2019t recommend copy/pasting the entire block below and running it. Instead, copy each line one-by-one and run it to make sure it\u2019s successful. docker stop portal dropdb cloudportal && createdb cloudportal gzip -d cloudportal-20200617-0940_53.sql.gz && psql cloudportal < cloudportal-20200617-0940_53.sql cstacks upgrade && cstacks run This will: Stop the controller Delete the existing database and re-create it (you may also do this from within psql ) Decompress the database backup and restore it to the newly created cloudportal database Run the upgrade command for ComputeStacks to ensure the schema is up to date, and finally; Start the portal back up.","title":"Restoring a backup"},{"location":"admin_guide/cluster_management/load_balancer/","text":"ComputeStacks Load Balancer \u00b6 The load balancer can be managed in the Admin via: Settings -> Load Balancers . We run HAProxy on each and every container node. For clusters, they will keep a duplicate copy of the current configuration, as well as, any certificates installed. This way, in the event of an IP failover even, the other load balancer is already running and ready to start serving requests. IP Settings \u00b6 Public IP This is the _Floating IP Address_ for your cluster. If you're running a single container node, then this will be the primary IP of that node. Server IPs This is a comma separated list of IP Addresses accessible from the controller. This is how the controller will connect to the Load Balancer and install any configuration Internal IPs These are the _internal_ ip addresses (also a comma separated list) of the load balancer. This will be the IP that the load balancer will connect to the container from. If you have a separate container network attached to the node, you will enter the IP address of the node. SSL Settings \u00b6 You must install a Wildcard SSL certificate for the LoadBalancer. The LoadBalancer will not start without one. During the installation process, a self-signed certificate was automatically generated and installed to the load balancer. To install a valid certificate, you have two options: Purchase a wildcard certificate and install it yourself (You may optionally purchase one from us for $50/year. Please contact us for details.) Use our ACME (LetsEncrypt) service to generate a wildcard certificate for free. In order to use our ACME wildcard generator, the domain name must exist in the Settings -> DNS menu, and the nameservers must be correctly configured. Example \u00b6 If your shared container domain was a.cmptstks.net , you would create a new zone in Settings -> DNS for cmptstks.net . If your domain was a.region.cmptstks.net , you would still create the domain cmptstks.net . Once that\u2019s added, you will now need to update the nameserver settings for your domain to point to ours. For this, you have two options: Point your root domain (by editing the nameserver settings at domain registrar) to our nameservers, or; Keep your existing nameserver and use delegation. This is where you create new NS records for a subdomain, and point to our nameservers. Here is an example guide for doing that with Cloudflare. If your loadbalancer App URL was a.fra.example.net , you would create the following nameserver entries to point to our hosted dns service: fra.example.net 86400 IN NS ns1.auto-dns.com. fra.example.net 86400 IN NS ns3.auto-dns.com. fra.example.net 86400 IN NS ns3.autodns.nl. fra.example.net 86400 IN NS ns4.autodns.nl.","title":"Load Balancer"},{"location":"admin_guide/cluster_management/load_balancer/#computestacks-load-balancer","text":"The load balancer can be managed in the Admin via: Settings -> Load Balancers . We run HAProxy on each and every container node. For clusters, they will keep a duplicate copy of the current configuration, as well as, any certificates installed. This way, in the event of an IP failover even, the other load balancer is already running and ready to start serving requests.","title":"ComputeStacks Load Balancer"},{"location":"admin_guide/cluster_management/load_balancer/#ip-settings","text":"Public IP This is the _Floating IP Address_ for your cluster. If you're running a single container node, then this will be the primary IP of that node. Server IPs This is a comma separated list of IP Addresses accessible from the controller. This is how the controller will connect to the Load Balancer and install any configuration Internal IPs These are the _internal_ ip addresses (also a comma separated list) of the load balancer. This will be the IP that the load balancer will connect to the container from. If you have a separate container network attached to the node, you will enter the IP address of the node.","title":"IP Settings"},{"location":"admin_guide/cluster_management/load_balancer/#ssl-settings","text":"You must install a Wildcard SSL certificate for the LoadBalancer. The LoadBalancer will not start without one. During the installation process, a self-signed certificate was automatically generated and installed to the load balancer. To install a valid certificate, you have two options: Purchase a wildcard certificate and install it yourself (You may optionally purchase one from us for $50/year. Please contact us for details.) Use our ACME (LetsEncrypt) service to generate a wildcard certificate for free. In order to use our ACME wildcard generator, the domain name must exist in the Settings -> DNS menu, and the nameservers must be correctly configured.","title":"SSL Settings"},{"location":"admin_guide/cluster_management/load_balancer/#example","text":"If your shared container domain was a.cmptstks.net , you would create a new zone in Settings -> DNS for cmptstks.net . If your domain was a.region.cmptstks.net , you would still create the domain cmptstks.net . Once that\u2019s added, you will now need to update the nameserver settings for your domain to point to ours. For this, you have two options: Point your root domain (by editing the nameserver settings at domain registrar) to our nameservers, or; Keep your existing nameserver and use delegation. This is where you create new NS records for a subdomain, and point to our nameservers. Here is an example guide for doing that with Cloudflare. If your loadbalancer App URL was a.fra.example.net , you would create the following nameserver entries to point to our hosted dns service: fra.example.net 86400 IN NS ns1.auto-dns.com. fra.example.net 86400 IN NS ns3.auto-dns.com. fra.example.net 86400 IN NS ns3.autodns.nl. fra.example.net 86400 IN NS ns4.autodns.nl.","title":"Example"},{"location":"admin_guide/cluster_management/resource_management/","text":"Resource Management \u00b6 ComputeStacks offers multiple ways to restrict resource consumption by individual containers. Container Packages \u00b6 CPU, Memory, and Swap usage can be limited by defining those values within the container package . Please note: You may only limit disk IO, not usage. Availability Zone Container Restrictions \u00b6 Parameter Default Description OOM Killer Enabled Enable or Disable the OOM Killer for containers. If disabled, a container may become hung and require manual intervention. PID Limit 0 (Unlimited) Maximum number of active processes allowed inside a container. Max Open Files (Soft) 0 (Unlimited) Soft limit for maximum allowed open files within a container. Max Open Files (Hard) 0 (Unlimited) Hard limit for maximum allowed open files within a container. Node Container Restrictions \u00b6 In order for these settings to be applied, you must define the block device path on the node. This should be set to where /var/lib/docker is mounted. Examples include: /dev/sda1 , /dev/mapper/hostname--vg-root . Incorrect setting will prevent the container from starting. Parameter Default Description Write Bytes Per Second 0 (Unlimited) Maximum allowed Bytes Per Second written to disk, per container. Write Operations Per Second 0 (Unlimited) Maximum allowed Operations Per Second (IOPS) written to disk, per container. Read Bytes Per Second 0 (Unlimited) Maximum allowed Bytes Per Second read from disk, per container. Read Operations Per Second 0 (Unlimited) Maximum allowed Operations Per Second (IOPS) read from disk, per container.","title":"Resource Management"},{"location":"admin_guide/cluster_management/resource_management/#resource-management","text":"ComputeStacks offers multiple ways to restrict resource consumption by individual containers.","title":"Resource Management"},{"location":"admin_guide/cluster_management/resource_management/#container-packages","text":"CPU, Memory, and Swap usage can be limited by defining those values within the container package . Please note: You may only limit disk IO, not usage.","title":"Container Packages"},{"location":"admin_guide/cluster_management/resource_management/#availability-zone-container-restrictions","text":"Parameter Default Description OOM Killer Enabled Enable or Disable the OOM Killer for containers. If disabled, a container may become hung and require manual intervention. PID Limit 0 (Unlimited) Maximum number of active processes allowed inside a container. Max Open Files (Soft) 0 (Unlimited) Soft limit for maximum allowed open files within a container. Max Open Files (Hard) 0 (Unlimited) Hard limit for maximum allowed open files within a container.","title":"Availability Zone Container Restrictions"},{"location":"admin_guide/cluster_management/resource_management/#node-container-restrictions","text":"In order for these settings to be applied, you must define the block device path on the node. This should be set to where /var/lib/docker is mounted. Examples include: /dev/sda1 , /dev/mapper/hostname--vg-root . Incorrect setting will prevent the container from starting. Parameter Default Description Write Bytes Per Second 0 (Unlimited) Maximum allowed Bytes Per Second written to disk, per container. Write Operations Per Second 0 (Unlimited) Maximum allowed Operations Per Second (IOPS) written to disk, per container. Read Bytes Per Second 0 (Unlimited) Maximum allowed Bytes Per Second read from disk, per container. Read Operations Per Second 0 (Unlimited) Maximum allowed Operations Per Second (IOPS) read from disk, per container.","title":"Node Container Restrictions"},{"location":"admin_guide/custom_integration/full_api/","text":"Creating A Custom Onboarding Process \u00b6 Example Scenario You have a custom control panel, and you wish to automate the onboarding of a new user, and placing their order without using the controller UI. Overview In this guide, we will: Create a user Provision a new project Create User \u00b6 You will need to be an administrator to perform these api calls. The first step is to create the user in ComputeStacks. We provide a 3 different mechanisms to aid with your integration: User Email Address While we require a unique, and valid, email address, you may elect to have it only valid in terms of syntax, not deliverability. If you pass the option \"skip_email_confirm\": true in your json request, we will set the email as valid and not send a confirmation email. External ID All users have an external_id field, which is also visible in the Administrator. You\u2019re able to use this for your integration and store a value to help identify this user in your system Labels Users have a key value label section that you can use to store additional details about the user. When viewing the user, the field will be labels , however when creating the user, please use the parameter merge_labels . POST /api/admin/users { \"user\" : { \"skip_email_confirm\" : true , # Op t io nal , o t herwise t hey will ge t a n email aski n g t hem t o co nf irm t heir accou nt . \"external_id\" : \"\" , # A f ield you may use f or your ow n purposes t o s t ore a u n ique id \"fname\" : \"\" , # required \"lname\" : \"\" , # required \"email\" : \"\" , # required. Mus t be u n ique i n our sys te m! I f you skip email co nf irma t io n , i t does n o t nee d t o be a real email accou nt . \"password\" : \"\" , # required \"password_confirmation\" : \"\" , # required \"address1\" : \"\" , \"address2\" : \"\" , \"city\" : \"\" , \"state\" : \"\" , \"zip\" : \"\" , # pos tal code \"country\" : \"\" , \"phone\" : \"\" , \"user_group_id\" : \"\" , # bla n k will use t he de fault user group. \"merge_labels\" : [ { \"key\" : \"value\" } ] } } Additional User Fields Field Type Notes active Boolean Suspended, or un-suspended< currency String Must be a 3-digit code, like EUR or USD . bypass_billing Boolean Whether or not billing data should be processed by any billing integration company_name string locale string Their language in 2-digit format, examples: en , fr , de . Retrieve API Credentials \u00b6 Now that you have created the user, you can use the returned ID to generate API Credentials (Basic Auth) POST /api/users/{user_id}/api_credentials { \"api_credential\" : { \"name\" : \"\" } } This will return the following: { \"api_credential\" : { \"id\" : 0 , \"username\" : \"\" , \"password\" : \"\" } } You may now use these api credentials to perform the next steps, as the user. Get Available Products \u00b6 GET /products Will return: { \"products\" : [ { \"id\" : 1 , \"name\" : \"small\" , \"price\" : \"0.0\" , \"term\" : \"hour\" , \"cpu\" : \"1.0\" , \"memory\" : 256 , # MB \"storage\" : 5 , # GB \"bandwidth\" : 100 , # GB \"backup\" : 0 , # GB \"local_disk\" : 5 , # GB \"memory_swap\" : null , # null == n o swap t o disk , same as 0. \"memory_swappiness\" : null , # null == de fault , which i believe is 60. \"region\" : 1 } ] } Build Order \u00b6 Create The Order \u00b6 POST /api/orders { \"order\" : { \"project_name\" : \"my test project\" , \"location_id\" : 0 , # /api/loca t io ns \"containers\" : [ { \"image_id\" : 0 , \"resources\" : { \"product_id\" : 0 }, # You ca n ge t t his fr om /api/co nta i ner _images/ { image_id } # They key is t he f ield na me u n der 'co nta i ner _image_se tt i n g_params'. \"params\" : [ { \"key\" : \"\" , \"value\" : \"\" } ], \"domains\" : [] # exmple.com , www.example.com... } ] } } This will return { \"order\" : { \"id\" : \"f5a34c0f-e9e2-45e0-9bba-d342d12517fc\" , \"redirect_url\" : null , # n o t applicable f or you # This will be t he public IP o f t he LB. \"load_balancer_ip\" : \"192.168.1.10\" } } Locate the project \u00b6 The project is created in the background, so we won\u2019t be able to return it immediately. You will need to take the Order ID and query us for the project: GET /api/orders/{id} Keep checking this until you see \"status\": \"completed\" and you have order.project.id . { \"order\" : { \"id\" : \"f5a34c0f-e9e2-45e0-9bba-d342d12517fc\" , \"status\" : \"completed\" , \"order_data\" : { ... }, \"created_at\" : \"2021-03-01T22:32:46.080Z\" , \"updated_at\" : \"2021-03-01T22:32:48.125Z\" , \"project\" : { \"id\" : 85 , \"name\" : \"my test project\" }, \"location\" : { \"id\" : 1 , \"name\" : \"demo\" } } } You can now use the project ID to manage the project as normal.","title":"API Only"},{"location":"admin_guide/custom_integration/full_api/#creating-a-custom-onboarding-process","text":"Example Scenario You have a custom control panel, and you wish to automate the onboarding of a new user, and placing their order without using the controller UI. Overview In this guide, we will: Create a user Provision a new project","title":"Creating A Custom Onboarding Process"},{"location":"admin_guide/custom_integration/full_api/#create-user","text":"You will need to be an administrator to perform these api calls. The first step is to create the user in ComputeStacks. We provide a 3 different mechanisms to aid with your integration: User Email Address While we require a unique, and valid, email address, you may elect to have it only valid in terms of syntax, not deliverability. If you pass the option \"skip_email_confirm\": true in your json request, we will set the email as valid and not send a confirmation email. External ID All users have an external_id field, which is also visible in the Administrator. You\u2019re able to use this for your integration and store a value to help identify this user in your system Labels Users have a key value label section that you can use to store additional details about the user. When viewing the user, the field will be labels , however when creating the user, please use the parameter merge_labels . POST /api/admin/users { \"user\" : { \"skip_email_confirm\" : true , # Op t io nal , o t herwise t hey will ge t a n email aski n g t hem t o co nf irm t heir accou nt . \"external_id\" : \"\" , # A f ield you may use f or your ow n purposes t o s t ore a u n ique id \"fname\" : \"\" , # required \"lname\" : \"\" , # required \"email\" : \"\" , # required. Mus t be u n ique i n our sys te m! I f you skip email co nf irma t io n , i t does n o t nee d t o be a real email accou nt . \"password\" : \"\" , # required \"password_confirmation\" : \"\" , # required \"address1\" : \"\" , \"address2\" : \"\" , \"city\" : \"\" , \"state\" : \"\" , \"zip\" : \"\" , # pos tal code \"country\" : \"\" , \"phone\" : \"\" , \"user_group_id\" : \"\" , # bla n k will use t he de fault user group. \"merge_labels\" : [ { \"key\" : \"value\" } ] } } Additional User Fields Field Type Notes active Boolean Suspended, or un-suspended< currency String Must be a 3-digit code, like EUR or USD . bypass_billing Boolean Whether or not billing data should be processed by any billing integration company_name string locale string Their language in 2-digit format, examples: en , fr , de .","title":"Create User"},{"location":"admin_guide/custom_integration/full_api/#retrieve-api-credentials","text":"Now that you have created the user, you can use the returned ID to generate API Credentials (Basic Auth) POST /api/users/{user_id}/api_credentials { \"api_credential\" : { \"name\" : \"\" } } This will return the following: { \"api_credential\" : { \"id\" : 0 , \"username\" : \"\" , \"password\" : \"\" } } You may now use these api credentials to perform the next steps, as the user.","title":"Retrieve API Credentials"},{"location":"admin_guide/custom_integration/full_api/#get-available-products","text":"GET /products Will return: { \"products\" : [ { \"id\" : 1 , \"name\" : \"small\" , \"price\" : \"0.0\" , \"term\" : \"hour\" , \"cpu\" : \"1.0\" , \"memory\" : 256 , # MB \"storage\" : 5 , # GB \"bandwidth\" : 100 , # GB \"backup\" : 0 , # GB \"local_disk\" : 5 , # GB \"memory_swap\" : null , # null == n o swap t o disk , same as 0. \"memory_swappiness\" : null , # null == de fault , which i believe is 60. \"region\" : 1 } ] }","title":"Get Available Products"},{"location":"admin_guide/custom_integration/full_api/#build-order","text":"","title":"Build Order"},{"location":"admin_guide/custom_integration/full_api/#create-the-order","text":"POST /api/orders { \"order\" : { \"project_name\" : \"my test project\" , \"location_id\" : 0 , # /api/loca t io ns \"containers\" : [ { \"image_id\" : 0 , \"resources\" : { \"product_id\" : 0 }, # You ca n ge t t his fr om /api/co nta i ner _images/ { image_id } # They key is t he f ield na me u n der 'co nta i ner _image_se tt i n g_params'. \"params\" : [ { \"key\" : \"\" , \"value\" : \"\" } ], \"domains\" : [] # exmple.com , www.example.com... } ] } } This will return { \"order\" : { \"id\" : \"f5a34c0f-e9e2-45e0-9bba-d342d12517fc\" , \"redirect_url\" : null , # n o t applicable f or you # This will be t he public IP o f t he LB. \"load_balancer_ip\" : \"192.168.1.10\" } }","title":"Create The Order"},{"location":"admin_guide/custom_integration/full_api/#locate-the-project","text":"The project is created in the background, so we won\u2019t be able to return it immediately. You will need to take the Order ID and query us for the project: GET /api/orders/{id} Keep checking this until you see \"status\": \"completed\" and you have order.project.id . { \"order\" : { \"id\" : \"f5a34c0f-e9e2-45e0-9bba-d342d12517fc\" , \"status\" : \"completed\" , \"order_data\" : { ... }, \"created_at\" : \"2021-03-01T22:32:46.080Z\" , \"updated_at\" : \"2021-03-01T22:32:48.125Z\" , \"project\" : { \"id\" : 85 , \"name\" : \"my test project\" }, \"location\" : { \"id\" : 1 , \"name\" : \"demo\" } } } You can now use the project ID to manage the project as normal.","title":"Locate the project"},{"location":"admin_guide/sysadmin/controller_backups/","text":"Implementing a Controller Backup Strategy \u00b6 There are different ways to configure backups for your controller, however we recommend the following: 1) If you have virtualized the controller in a virtual machine, implement regular backups of the entire virtual machine. 2) Implement our automated offsite database backups. You can read more how to implement this by visiting our github repository github.com/ComputeStacks/controller-backups . For our customers with a support plan including remote server support, please open a ticket and we can help configure this for you.","title":"Controller Backup"},{"location":"admin_guide/sysadmin/controller_backups/#implementing-a-controller-backup-strategy","text":"There are different ways to configure backups for your controller, however we recommend the following: 1) If you have virtualized the controller in a virtual machine, implement regular backups of the entire virtual machine. 2) Implement our automated offsite database backups. You can read more how to implement this by visiting our github repository github.com/ComputeStacks/controller-backups . For our customers with a support plan including remote server support, please open a ticket and we can help configure this for you.","title":"Implementing a Controller Backup Strategy"},{"location":"admin_guide/sysadmin/upgrade_agent/","text":"Upgrade Node Agent \u00b6 Before proceeding, ensure there are no backup jobs currently running. You can do that by first looking for any backup-XXX containers running, and also looking at the logs with journalctl -b -u cs-agent.service On each node, run the following: systemctl stop cs-agent cd /tmp && wget https://cdn.computestacks.net/packages/cs-agent/cs-agent.tar.gz tar -xzvf cs-agent.tar.gz rm -f /usr/local/bin/cs-agent mv cs-agent /usr/local/bin/ chown root:root /usr/local/bin/cs-agent && chmod +x /usr/local/bin/cs-agent rm -rf /tmp/cs-agent* If you are making changes to the nfs_ params in the agent configuration file ( /etc/computestacks/agent.yaml ), then be sure to delete all existing backup volumes before starting: docker volume rm $(docker volume ls -q --filter label=\"com.computestacks.role=backup\") systemctl start cs-agent","title":"Update Agent"},{"location":"admin_guide/sysadmin/upgrade_agent/#upgrade-node-agent","text":"Before proceeding, ensure there are no backup jobs currently running. You can do that by first looking for any backup-XXX containers running, and also looking at the logs with journalctl -b -u cs-agent.service On each node, run the following: systemctl stop cs-agent cd /tmp && wget https://cdn.computestacks.net/packages/cs-agent/cs-agent.tar.gz tar -xzvf cs-agent.tar.gz rm -f /usr/local/bin/cs-agent mv cs-agent /usr/local/bin/ chown root:root /usr/local/bin/cs-agent && chmod +x /usr/local/bin/cs-agent rm -rf /tmp/cs-agent* If you are making changes to the nfs_ params in the agent configuration file ( /etc/computestacks/agent.yaml ), then be sure to delete all existing backup volumes before starting: docker volume rm $(docker volume ls -q --filter label=\"com.computestacks.role=backup\") systemctl start cs-agent","title":"Upgrade Node Agent"},{"location":"getting_started/","text":"Getting Started \u00b6 Getting Help \u00b6 See all our contact information. Visit our forum .","title":"Overview"},{"location":"getting_started/#getting-started","text":"","title":"Getting Started"},{"location":"getting_started/#getting-help","text":"See all our contact information. Visit our forum .","title":"Getting Help"},{"location":"getting_started/architecture_overview/","text":"Architecture \u00b6 ComputeStacks is a collection of open-source software, running in a clustered environment. This guide will walk through some of the key components to help you make an informed decision when planning your environment. All servers will use Debian 11. Key Concepts \u00b6 Definitions \u00b6 Controller The Controller is the primary ComputeStacks software. This manages the orchestration of containers onto the Container Nodes . Region A Region is typically a geographic location that is used to group Availability Zones , and their subsequent Container Nodes . Availability Zone An Availability Zone (AZ) is a group of Container Nodes within a Region . A single public IP will be shared by all containers running with this AZ. Container Node Container Nodes are the physical compute resources that will run the containers. They are grouped by Availability Zone , within a single Region . While the CPU on a node is shared with all containers on the node, you must have enough cores to match the maximum package size you wish to offer. For example, if you wish to sell a 4 core CPU package, then you will need at least 4 CPU Cores available on the node. Networking \u00b6 Cluster Network For single node configurations, you only need a single public IP per server. However, in general we recommend a private network if possible. For clustered environments, we recommend you create a dedicated private network for inter-node communication. This should not perform any kind of source/destination filtering, otherwise we will need to use an overlay network, which will reduce overall network performance. Container-To-Container Each container is given a private IP Address, and by default can only communicate with other containers in the same project. If you choose to allow external connectivity, then our load balancer will forward 80/443 to your container. External Connectivity ComputeStacks supports http , tcp , and udp traffic. With http and tcp , the user has the option to route the traffic through our global load balancer and enable SSL/TLS offloading. (HTTP by default will always route this way). Our load balancer runs on each node in the availability zone, and shares a single floating IP. In the event of a node failure, we use pacemaker & corosync to move that floating IP to another node in the cluster. We maintain the same configuration on each node so that all load balancers are able to serve traffic immediately. Depending on your goals, you may also choose to allocate public IP addresses to each container. Please contact us to discuss this in more detail. Container Storage \u00b6 Our default configuration is to run our containers using locally-mounted storage volumes. This provides both performance, stability, and cost benefits over shared/clustered storage, and for our typical customer, provides the best fit for their business model. However, we understand that for some deployments it makes sense to have high-availability for your container services. In those use-cases, we can use NFS storage for our container volumes, which would allow your containers to automatically failover to another node. Backups \u00b6 ComputeStacks uses an in-house developed backup solution, built upon the excellent borg backup tool. We include specific backup drivers for MySQL/MariaDB and PostgreSQL that ensure consistent and unobtrusive backups. You will need to provide a separate backup server that will hold your customer\u2019s backups. Our installation process will automatically configure a base debian install to serve this function. We also recommend that you do not share a single backup server across multiple regions. Container Registry \u00b6 ComputeStacks offers an integrated container registry to aid in your customers image development. For small deployments, we will run this on the same server as our controller. However, we recommend that this run on it\u2019s own server. Metrics \u00b6 As part of our normal installation process, we will configure a dedicated metrics and log aggregation server. This will collect, store, and process logs and metrics from all servers and containers in the cluster. We recommend that you install one metrics server per region. If there is too much latency between the metrics server and the container nodes, alerting and resource usage data could be delayed. DNS \u00b6 ComputeStacks offers an optional DNS interface. You may choose to use our hosted DNS service for free, or deploy your own PowerDNS service. Our ansible installer can provision a replicated PowerDNS setup automatically. Example Configurations \u00b6 The following configuration examples are for planning purposes only. Please work with our team to design an appropriate architecture to meet your goals. The recommendations below are based on a typical hosting provider\u2019s workload. This means that a majority of the containers deployed will be php-based (e.g. wordpress) , and use Redis & MySQL. Please see our installation guide for our minimum requirements. Single-Node Environment \u00b6 For small hosting providers who are just getting started. This setup will typically support 20 Wordpress sites with average traffic. Single Region, No Cluster Container registry and metrics run on the controller. Server Role CPU Memory Storage Network Notes Controller 4 Cores 8 GB 50 GB Single public IP address Container Node 4 Cores 12 GB 100 GB 1 public, 1 private Backup Server 1 Core 1 GB 100 GB 1 public, 1 private PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private All of our cluster examples will require: A private network shared between all nodes If possible, disable source/destination filtering. Otherwise you will need to use IP-in-IP. 1 public floating IP Per Availability Zone . If this is not possible, then disable the floating IP in the inventory.yml file and add the IP of the first node as the \u201cfloating ip\u201d. While the controller only needs a single public IP, we generally recommend also giving the controller access to the private network for the nodes and metrics server when possible. Small Cluster \u00b6 Single Region Container Registry runs on the controller Server Role CPU Memory Storage Network Notes Controller 4 Cores 8 GB 50 GB Single public IP address Container Node 1 4 Cores 12 GB 100 GB 1 public, 1 private Container Node 2 4 Cores 12 GB 100 GB 1 public, 1 private Container Node 3 4 Cores 12 GB 100 GB 1 public, 1 private Backup Server 1 Core 1 GB 150 GB 1 public, 1 private Metrics 2 Cores 4 GB 35 GB 1 public, 1 private PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private Medium Cluster \u00b6 Medium Cluster Container Registry runs on the controller Server Role CPU Memory Storage Network Notes Controller 4 Cores 10 GB 50 GB Single public IP address Container Node 1 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 2 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 3 12 Cores 48 GB 150 GB 1 public, 1 private Backup Server 1 Core 1 GB 150 GB 1 public, 1 private Metrics 4 Cores 8 GB 35 GB 1 public, 1 private PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private Multi-Region Cluster \u00b6 Shared Resources Server Role CPU Memory Storage Network Notes Controller 6 Cores 12 GB 50 GB Single public IP address Container Registry 2 Cores 2 GB 350 GB Single public IP PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private Region 1 Private network is just for this AZ Server Role CPU Memory Storage Network Notes Container Node 1 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 2 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 3 12 Cores 48 GB 150 GB 1 public, 1 private Backup Server 1 Core 1 GB 150 GB 1 public, 1 private Metrics 4 Cores 8 GB 35 GB 1 public, 1 private Region 2 Private network is just for this AZ Server Role CPU Memory Storage Network Notes Container Node 4 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 5 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 6 12 Cores 48 GB 150 GB 1 public, 1 private Backup Server 1 Core 1 GB 150 GB 1 public, 1 private Metrics 4 Cores 8 GB 35 GB 1 public, 1 private Single Region, Multi-AZ \u00b6 You can choose to run the backup server shared between AZ\u2019s, or create a dedicated one per-AZ. Just note that the private network must be accessible across all AZ\u2019s. Shared Resources Server Role CPU Memory Storage Network Notes Controller 6 Cores 12 GB 50 GB Single public IP address Container Registry 2 Cores 2 GB 350 GB Single public IP Backup Server 1 Core 1 GB 350 GB 1 public, 1 private Metrics 4 Cores 8 GB 50 GB 1 public, 1 private PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private Region 1, AZ 1 Server Role CPU Memory Storage Network Notes Container Node 1 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 2 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 3 12 Cores 48 GB 150 GB 1 public, 1 private Region 1, AZ 2 Server Role CPU Memory Storage Network Notes Container Node 4 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 5 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 6 12 Cores 48 GB 150 GB 1 public, 1 private","title":"Architecture"},{"location":"getting_started/architecture_overview/#architecture","text":"ComputeStacks is a collection of open-source software, running in a clustered environment. This guide will walk through some of the key components to help you make an informed decision when planning your environment. All servers will use Debian 11.","title":"Architecture"},{"location":"getting_started/architecture_overview/#key-concepts","text":"","title":"Key Concepts"},{"location":"getting_started/architecture_overview/#definitions","text":"","title":"Definitions"},{"location":"getting_started/architecture_overview/#networking","text":"","title":"Networking"},{"location":"getting_started/architecture_overview/#container-storage","text":"Our default configuration is to run our containers using locally-mounted storage volumes. This provides both performance, stability, and cost benefits over shared/clustered storage, and for our typical customer, provides the best fit for their business model. However, we understand that for some deployments it makes sense to have high-availability for your container services. In those use-cases, we can use NFS storage for our container volumes, which would allow your containers to automatically failover to another node.","title":"Container Storage"},{"location":"getting_started/architecture_overview/#backups","text":"ComputeStacks uses an in-house developed backup solution, built upon the excellent borg backup tool. We include specific backup drivers for MySQL/MariaDB and PostgreSQL that ensure consistent and unobtrusive backups. You will need to provide a separate backup server that will hold your customer\u2019s backups. Our installation process will automatically configure a base debian install to serve this function. We also recommend that you do not share a single backup server across multiple regions.","title":"Backups"},{"location":"getting_started/architecture_overview/#container-registry","text":"ComputeStacks offers an integrated container registry to aid in your customers image development. For small deployments, we will run this on the same server as our controller. However, we recommend that this run on it\u2019s own server.","title":"Container Registry"},{"location":"getting_started/architecture_overview/#metrics","text":"As part of our normal installation process, we will configure a dedicated metrics and log aggregation server. This will collect, store, and process logs and metrics from all servers and containers in the cluster. We recommend that you install one metrics server per region. If there is too much latency between the metrics server and the container nodes, alerting and resource usage data could be delayed.","title":"Metrics"},{"location":"getting_started/architecture_overview/#dns","text":"ComputeStacks offers an optional DNS interface. You may choose to use our hosted DNS service for free, or deploy your own PowerDNS service. Our ansible installer can provision a replicated PowerDNS setup automatically.","title":"DNS"},{"location":"getting_started/architecture_overview/#example-configurations","text":"The following configuration examples are for planning purposes only. Please work with our team to design an appropriate architecture to meet your goals. The recommendations below are based on a typical hosting provider\u2019s workload. This means that a majority of the containers deployed will be php-based (e.g. wordpress) , and use Redis & MySQL. Please see our installation guide for our minimum requirements.","title":"Example Configurations"},{"location":"getting_started/architecture_overview/#single-node-environment","text":"For small hosting providers who are just getting started. This setup will typically support 20 Wordpress sites with average traffic. Single Region, No Cluster Container registry and metrics run on the controller. Server Role CPU Memory Storage Network Notes Controller 4 Cores 8 GB 50 GB Single public IP address Container Node 4 Cores 12 GB 100 GB 1 public, 1 private Backup Server 1 Core 1 GB 100 GB 1 public, 1 private PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private All of our cluster examples will require: A private network shared between all nodes If possible, disable source/destination filtering. Otherwise you will need to use IP-in-IP. 1 public floating IP Per Availability Zone . If this is not possible, then disable the floating IP in the inventory.yml file and add the IP of the first node as the \u201cfloating ip\u201d. While the controller only needs a single public IP, we generally recommend also giving the controller access to the private network for the nodes and metrics server when possible.","title":"Single-Node Environment"},{"location":"getting_started/architecture_overview/#small-cluster","text":"Single Region Container Registry runs on the controller Server Role CPU Memory Storage Network Notes Controller 4 Cores 8 GB 50 GB Single public IP address Container Node 1 4 Cores 12 GB 100 GB 1 public, 1 private Container Node 2 4 Cores 12 GB 100 GB 1 public, 1 private Container Node 3 4 Cores 12 GB 100 GB 1 public, 1 private Backup Server 1 Core 1 GB 150 GB 1 public, 1 private Metrics 2 Cores 4 GB 35 GB 1 public, 1 private PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private","title":"Small Cluster"},{"location":"getting_started/architecture_overview/#medium-cluster","text":"Medium Cluster Container Registry runs on the controller Server Role CPU Memory Storage Network Notes Controller 4 Cores 10 GB 50 GB Single public IP address Container Node 1 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 2 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 3 12 Cores 48 GB 150 GB 1 public, 1 private Backup Server 1 Core 1 GB 150 GB 1 public, 1 private Metrics 4 Cores 8 GB 35 GB 1 public, 1 private PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private","title":"Medium Cluster"},{"location":"getting_started/architecture_overview/#multi-region-cluster","text":"Shared Resources Server Role CPU Memory Storage Network Notes Controller 6 Cores 12 GB 50 GB Single public IP address Container Registry 2 Cores 2 GB 350 GB Single public IP PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private Region 1 Private network is just for this AZ Server Role CPU Memory Storage Network Notes Container Node 1 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 2 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 3 12 Cores 48 GB 150 GB 1 public, 1 private Backup Server 1 Core 1 GB 150 GB 1 public, 1 private Metrics 4 Cores 8 GB 35 GB 1 public, 1 private Region 2 Private network is just for this AZ Server Role CPU Memory Storage Network Notes Container Node 4 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 5 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 6 12 Cores 48 GB 150 GB 1 public, 1 private Backup Server 1 Core 1 GB 150 GB 1 public, 1 private Metrics 4 Cores 8 GB 35 GB 1 public, 1 private","title":"Multi-Region Cluster"},{"location":"getting_started/architecture_overview/#single-region-multi-az","text":"You can choose to run the backup server shared between AZ\u2019s, or create a dedicated one per-AZ. Just note that the private network must be accessible across all AZ\u2019s. Shared Resources Server Role CPU Memory Storage Network Notes Controller 6 Cores 12 GB 50 GB Single public IP address Container Registry 2 Cores 2 GB 350 GB Single public IP Backup Server 1 Core 1 GB 350 GB 1 public, 1 private Metrics 4 Cores 8 GB 50 GB 1 public, 1 private PowerDNS 1 1 Core 1 GB 20 GB 1 public, 1 private PowerDNS 2 1 Core 1 GB 20 GB 1 public, 1 private Region 1, AZ 1 Server Role CPU Memory Storage Network Notes Container Node 1 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 2 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 3 12 Cores 48 GB 150 GB 1 public, 1 private Region 1, AZ 2 Server Role CPU Memory Storage Network Notes Container Node 4 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 5 12 Cores 48 GB 150 GB 1 public, 1 private Container Node 6 12 Cores 48 GB 150 GB 1 public, 1 private","title":"Single Region, Multi-AZ"},{"location":"getting_started/notifications/","text":"Notifications \u00b6 ComputeStacks offers hooks into key events, which allow you to receive notifications on various channels. Available Notifications \u00b6 Users \u00b6 For end-users, you have access to the following notifications: ContainerBootFailed Attempt to automatically recover a container has failed ContainerCreated Container is created ContainerCpuUsage Container CPU usage has been above 85% for more than 1 minute ContainerDestroyed Container has been deleted ContainerMemoryUsage Container memory usage has been above 85% for more than 1 minute Administrators \u00b6 This is in addition to the notifications available to users. NewOrder A new order is received UserActivated A user is unsuspended UserCreated A user is created UserDeleted A user is deleted UserSuspended A user is suspended DiskWillFillIn4Hours A disk on a node will be full in 4 hours at the current rate ExporterDown A node exporter has failed HighCpuLoad A node has excessive cpu usage NodeUp A node has come online OutOfDiskSpace A node is out of disk space OutOfInodes A node is out of disk inodes OutOfMemory A node is out of memory UnusualDiskReadLatency Unusual disk read latency UnusualDiskWriteLatency Unusual disk write latency Notification Channels \u00b6 Email \u00b6 Sends an email to the specified address Google Chat \u00b6 To generate a webhook url, navigate to your google chat room and select the dropdown icon next to the room name; select Manage webhooks . Keybase \u00b6 To generate a webhook url, navigate to the chat room and click the (i) icon in the upper right-hand corner. Choose \u2018Bots\u2019 and add the Webhook Bot . Matrix \u00b6 New to Matrix? We recommend deploying your own Matrix installation using this ansible playbook . Our integration was designed to work with the appservice-webhooks bridge. If you\u2019re using the ansible playbook listed above to manage your Matrix installation, you may use these instructions to get this setup. Microsoft Teams \u00b6 This integration is in beta, please share your feedback! Send webhook to a Microsoft Teams channel. Learn More Slack \u00b6 Uses the standard incoming webhook integration. Webhook \u00b6 Sends a json POST request to an endpoint of your choice. Your endpoint must respond with a 20x http code, otherwise we will continue to send the notification. The message we send will be formatted with markdown formatting. Specifically, we use * to denote bold fields, and \\n to denote new lines. { \"text\" : \"*Sample Description*\\n<http://url.to.alert|View Alert>\\n*Container:* container-name-123\\n*Label:* Value\" }","title":"Notifications"},{"location":"getting_started/notifications/#notifications","text":"ComputeStacks offers hooks into key events, which allow you to receive notifications on various channels.","title":"Notifications"},{"location":"getting_started/notifications/#available-notifications","text":"","title":"Available Notifications"},{"location":"getting_started/notifications/#users","text":"For end-users, you have access to the following notifications: ContainerBootFailed Attempt to automatically recover a container has failed ContainerCreated Container is created ContainerCpuUsage Container CPU usage has been above 85% for more than 1 minute ContainerDestroyed Container has been deleted ContainerMemoryUsage Container memory usage has been above 85% for more than 1 minute","title":"Users"},{"location":"getting_started/notifications/#administrators","text":"This is in addition to the notifications available to users. NewOrder A new order is received UserActivated A user is unsuspended UserCreated A user is created UserDeleted A user is deleted UserSuspended A user is suspended DiskWillFillIn4Hours A disk on a node will be full in 4 hours at the current rate ExporterDown A node exporter has failed HighCpuLoad A node has excessive cpu usage NodeUp A node has come online OutOfDiskSpace A node is out of disk space OutOfInodes A node is out of disk inodes OutOfMemory A node is out of memory UnusualDiskReadLatency Unusual disk read latency UnusualDiskWriteLatency Unusual disk write latency","title":"Administrators"},{"location":"getting_started/notifications/#notification-channels","text":"","title":"Notification Channels"},{"location":"getting_started/notifications/#email","text":"Sends an email to the specified address","title":"Email"},{"location":"getting_started/notifications/#google-chat","text":"To generate a webhook url, navigate to your google chat room and select the dropdown icon next to the room name; select Manage webhooks .","title":"Google Chat"},{"location":"getting_started/notifications/#keybase","text":"To generate a webhook url, navigate to the chat room and click the (i) icon in the upper right-hand corner. Choose \u2018Bots\u2019 and add the Webhook Bot .","title":"Keybase"},{"location":"getting_started/notifications/#matrix","text":"New to Matrix? We recommend deploying your own Matrix installation using this ansible playbook . Our integration was designed to work with the appservice-webhooks bridge. If you\u2019re using the ansible playbook listed above to manage your Matrix installation, you may use these instructions to get this setup.","title":"Matrix"},{"location":"getting_started/notifications/#microsoft-teams","text":"This integration is in beta, please share your feedback! Send webhook to a Microsoft Teams channel. Learn More","title":"Microsoft Teams"},{"location":"getting_started/notifications/#slack","text":"Uses the standard incoming webhook integration.","title":"Slack"},{"location":"getting_started/notifications/#webhook","text":"Sends a json POST request to an endpoint of your choice. Your endpoint must respond with a 20x http code, otherwise we will continue to send the notification. The message we send will be formatted with markdown formatting. Specifically, we use * to denote bold fields, and \\n to denote new lines. { \"text\" : \"*Sample Description*\\n<http://url.to.alert|View Alert>\\n*Container:* container-name-123\\n*Label:* Value\" }","title":"Webhook"},{"location":"getting_started/installation/0_requirements/","text":"Planning Your Installation \u00b6 Before proceeding, we recommend you first review our Architecture Overview page. Our installation process requires ansible to be installed either locally on your computer, or remotely on a linux machine. Please ensure this has been setup prior to continuing with this installation process. Supported Linux Distribution \u00b6 Our supported linux distribution is Debian 11 Bullseye . Domain Names \u00b6 Having your domain names setup is a critical part of the installation process. The following roles will require domain names: Controller this is the main URL for the service. Examples include: portal , dashboard , or cp . Container Registry Examples: cr. , or registry. . Metrics For our log aggregation service and container metrics. This should be specific to the region it's in, such as: metrics.region.example.com . App URL This is the default URL we use to generate domains for each service (container) . This can be something like a.region.example.com . Each Availability zone will need to have their own domain, which is why I recommend including the region and AZ in the URL. For example, if you have regions in Amsterdam and Frankfurt, you could use something like this: a.ams.example.net < -- Region AMS, Availability Zone 1 b.ams.example.net < -- Region AMS, Availability Zone 2 a.fra.example.net < -- Region FRA, Availability Zone 1 b.fra.example.net < -- Region FRA, Availability Zone 2 PowerDNS ns1/ns2 Example DNS Records a.dev.cmptstks.net. IN A %{floating_ip} metrics.dev.cmptstks.net. IN A %{PUBLIC IP OF METRICS SERVER} *.a.dev.cmptstks.net. IN CNAME a.dev.cmptstks.net. portal.dev.cmptstks.net. IN A %{controller ip address} cr.dev.cmptstks.net. IN CNAME portal.dev.cmptstks.net. Linux Users and Groups \u00b6 Our container nodes depend on having UID & GID 1001 available for our use. This is generally not a problem on most cloud and virtual machine images, however if you performed some pre-installation steps that included creating a user, this UID/GID may be already taken. Please change the UID and GID of the user who took that ID before proceeding. Here is a guide to help you accomplish this. You can verify that this is available by running the following commands on the container nodes: cat /etc/passwd | grep 1001 cat /etc/group | grep 1001 Network Setup \u00b6 Our recommended ip setup is: 1 Public, 1 Private, per server. Please see our example configurations for more details. Please ensure that the container node does not have any kind of source/destination filtering on it\u2019s private network interface. If this is not possible, you will need to set calico_network_ipip to true in your inventory.yml file. Typically if you have your own L2 network, this won\u2019t be a problem. Where this typically is an issue is in cloud environments, at which case you will need to check if you can disable that. Falling back to ip-in-ip tunneling is possible, but not recommended for production environments. Most of the larger cloud providers will allow you to do this. Please contact us if you need assistance. For clusters (3+ container nodes), we will also require a Floating IP Address . We will use arp to announce that ip on one of the 3 nodes, and handle failover automatically through corosync and pacemaker. If you do not want a floating IP, or are unable to allocate one, then please set enable_floating_ip: false and floating_ip: to the IP of first node, in your inventory.yml file. Disk Setup \u00b6 If you have the option to select the partition layout for the container nodes, please place most of your disk storage at /var/lib/docker . You can skip a dedicated /home partition, as this is not used in our environment. Alternatively, create a single / partition with all available disk space. Example Disk Layout Filesystem Size Used Avail Use% Mounted on /dev/sda 100G 3.5G 96GB 1% / /dev/sdb 1.5T 14G 1.5T 1% /var/lib/docker /dev/sdc 487M 94M 368M 21% /boot Minimum Server Requirements \u00b6 Here are our minimum requirements. If you plan to have customers in your environment running production workloads, we recommend you review our example configurations for better guidance on what we recommend for your cluster. Tip All CPU Cores should be newer x86 2Ghz+ Intel or AMD processors. Name CPU Memory Disk Controller 4 Cores 8 GB 50 GB Container Node 4 Cores 8 GB 50 GB Next Step: Preparing Installation Resources","title":"Plan"},{"location":"getting_started/installation/0_requirements/#planning-your-installation","text":"Before proceeding, we recommend you first review our Architecture Overview page. Our installation process requires ansible to be installed either locally on your computer, or remotely on a linux machine. Please ensure this has been setup prior to continuing with this installation process.","title":"Planning Your Installation"},{"location":"getting_started/installation/0_requirements/#supported-linux-distribution","text":"Our supported linux distribution is Debian 11 Bullseye .","title":"Supported Linux Distribution"},{"location":"getting_started/installation/0_requirements/#domain-names","text":"Having your domain names setup is a critical part of the installation process. The following roles will require domain names: Controller this is the main URL for the service. Examples include: portal , dashboard , or cp . Container Registry Examples: cr. , or registry. . Metrics For our log aggregation service and container metrics. This should be specific to the region it's in, such as: metrics.region.example.com . App URL This is the default URL we use to generate domains for each service (container) . This can be something like a.region.example.com . Each Availability zone will need to have their own domain, which is why I recommend including the region and AZ in the URL. For example, if you have regions in Amsterdam and Frankfurt, you could use something like this: a.ams.example.net < -- Region AMS, Availability Zone 1 b.ams.example.net < -- Region AMS, Availability Zone 2 a.fra.example.net < -- Region FRA, Availability Zone 1 b.fra.example.net < -- Region FRA, Availability Zone 2 PowerDNS ns1/ns2 Example DNS Records a.dev.cmptstks.net. IN A %{floating_ip} metrics.dev.cmptstks.net. IN A %{PUBLIC IP OF METRICS SERVER} *.a.dev.cmptstks.net. IN CNAME a.dev.cmptstks.net. portal.dev.cmptstks.net. IN A %{controller ip address} cr.dev.cmptstks.net. IN CNAME portal.dev.cmptstks.net.","title":"Domain Names"},{"location":"getting_started/installation/0_requirements/#linux-users-and-groups","text":"Our container nodes depend on having UID & GID 1001 available for our use. This is generally not a problem on most cloud and virtual machine images, however if you performed some pre-installation steps that included creating a user, this UID/GID may be already taken. Please change the UID and GID of the user who took that ID before proceeding. Here is a guide to help you accomplish this. You can verify that this is available by running the following commands on the container nodes: cat /etc/passwd | grep 1001 cat /etc/group | grep 1001","title":"Linux Users and Groups"},{"location":"getting_started/installation/0_requirements/#network-setup","text":"Our recommended ip setup is: 1 Public, 1 Private, per server. Please see our example configurations for more details. Please ensure that the container node does not have any kind of source/destination filtering on it\u2019s private network interface. If this is not possible, you will need to set calico_network_ipip to true in your inventory.yml file. Typically if you have your own L2 network, this won\u2019t be a problem. Where this typically is an issue is in cloud environments, at which case you will need to check if you can disable that. Falling back to ip-in-ip tunneling is possible, but not recommended for production environments. Most of the larger cloud providers will allow you to do this. Please contact us if you need assistance. For clusters (3+ container nodes), we will also require a Floating IP Address . We will use arp to announce that ip on one of the 3 nodes, and handle failover automatically through corosync and pacemaker. If you do not want a floating IP, or are unable to allocate one, then please set enable_floating_ip: false and floating_ip: to the IP of first node, in your inventory.yml file.","title":"Network Setup"},{"location":"getting_started/installation/0_requirements/#disk-setup","text":"If you have the option to select the partition layout for the container nodes, please place most of your disk storage at /var/lib/docker . You can skip a dedicated /home partition, as this is not used in our environment. Alternatively, create a single / partition with all available disk space. Example Disk Layout Filesystem Size Used Avail Use% Mounted on /dev/sda 100G 3.5G 96GB 1% / /dev/sdb 1.5T 14G 1.5T 1% /var/lib/docker /dev/sdc 487M 94M 368M 21% /boot","title":"Disk Setup"},{"location":"getting_started/installation/0_requirements/#minimum-server-requirements","text":"Here are our minimum requirements. If you plan to have customers in your environment running production workloads, we recommend you review our example configurations for better guidance on what we recommend for your cluster. Tip All CPU Cores should be newer x86 2Ghz+ Intel or AMD processors. Name CPU Memory Disk Controller 4 Cores 8 GB 50 GB Container Node 4 Cores 8 GB 50 GB Next Step: Preparing Installation Resources","title":"Minimum Server Requirements"},{"location":"getting_started/installation/1_prepare/","text":"Prepare Installation Resources \u00b6 If you will be deploying to a cloud provider, please first check to see if we have a terraform package for your provider. This will aid you in ensuring certain required steps are performed first. Setup Ansible \u00b6 Install Ansible \u00b6 Please see the ansible installation guide for more details on how to proceed with installing ansible. Install on MacOS Ensure you have homebrew installed, and run: brew install ansible Install on Linux To ensure you have an up-to-date copy of Ansible, we recommend using pip to install ansible. pip install --user ansible echo 'export PATH=\"$PATH:$HOME/.local/bin\"' >> ~/.bashrc source ~/.bashrc Note: For some distributions, it may be ~/.bash_profile instead of .bashrc . Download our Ansible Package \u00b6 git clone https://github.com/ComputeStacks/ansible-install computestacks-installer cd computestacks-installer mv inventory.yml.sample inventory.yml ansible-galaxy install -r requirements.yml If you used our terraform providers, you can skip the mv inventory.yml.sample inventory.yml command and copy the result/inventory.yml file to the root of this directory. The actual bootstrap process can take up to an hour , so we recommend you setup your ansible environment on a remote linux server, and run either tmux or screen . Inventory File \u00b6 Please review your inventory.yml file and ensure all the settings are correct. You may check the roles/<role>/defaults/main.yml file for each role to see additional configuration options. Prepare the servers \u00b6 Server Hostnames \u00b6 Ensure all hostnames are configured properly on each node. Our system expects the hostnames on nodes to be 1 lowercase word (dashes or underscores are ok), no special characters or spaces. They should not be FQDN or have the dot notation. Examples: node101, node102, node103 hostname node101 && echo \"node101\" > /etc/hostname && echo \"127.0.0.1 node101\" >> /etc/hosts The reason these are critical are two fold: a) When metrics are stored for containers or nodes, the hostname is added as a label. This is how ComputeStacks is able to filter metrics for the correct container/node. b) Backup jobs are assigned to the node by their hostname. If there is a mismatch in the controller, then jobs will not run.` Base Packages \u00b6 Please ensure the following packages have been installed prior to running the ansible installation. apt update && apt -y install openssl ca-certificates linux-headers-amd64 python3 python3-pip python3-openssl python3-apt python3-setuptools python3-wheel && pip3 install ansible Network MTU Settings \u00b6 If you\u2019re using a setting other than the default 1500, please add the following to the main vars: section of your inventory.yml file: container_network_mtu: 1400 # Set the desired MTU for containers to use Next Step: Perform Installation","title":"Prepare"},{"location":"getting_started/installation/1_prepare/#prepare-installation-resources","text":"If you will be deploying to a cloud provider, please first check to see if we have a terraform package for your provider. This will aid you in ensuring certain required steps are performed first.","title":"Prepare Installation Resources"},{"location":"getting_started/installation/1_prepare/#setup-ansible","text":"","title":"Setup Ansible"},{"location":"getting_started/installation/1_prepare/#install-ansible","text":"Please see the ansible installation guide for more details on how to proceed with installing ansible. Install on MacOS Ensure you have homebrew installed, and run: brew install ansible Install on Linux To ensure you have an up-to-date copy of Ansible, we recommend using pip to install ansible. pip install --user ansible echo 'export PATH=\"$PATH:$HOME/.local/bin\"' >> ~/.bashrc source ~/.bashrc Note: For some distributions, it may be ~/.bash_profile instead of .bashrc .","title":"Install Ansible"},{"location":"getting_started/installation/1_prepare/#download-our-ansible-package","text":"git clone https://github.com/ComputeStacks/ansible-install computestacks-installer cd computestacks-installer mv inventory.yml.sample inventory.yml ansible-galaxy install -r requirements.yml If you used our terraform providers, you can skip the mv inventory.yml.sample inventory.yml command and copy the result/inventory.yml file to the root of this directory. The actual bootstrap process can take up to an hour , so we recommend you setup your ansible environment on a remote linux server, and run either tmux or screen .","title":"Download our Ansible Package"},{"location":"getting_started/installation/1_prepare/#inventory-file","text":"Please review your inventory.yml file and ensure all the settings are correct. You may check the roles/<role>/defaults/main.yml file for each role to see additional configuration options.","title":"Inventory File"},{"location":"getting_started/installation/1_prepare/#prepare-the-servers","text":"","title":"Prepare the servers"},{"location":"getting_started/installation/1_prepare/#server-hostnames","text":"Ensure all hostnames are configured properly on each node. Our system expects the hostnames on nodes to be 1 lowercase word (dashes or underscores are ok), no special characters or spaces. They should not be FQDN or have the dot notation. Examples: node101, node102, node103 hostname node101 && echo \"node101\" > /etc/hostname && echo \"127.0.0.1 node101\" >> /etc/hosts The reason these are critical are two fold: a) When metrics are stored for containers or nodes, the hostname is added as a label. This is how ComputeStacks is able to filter metrics for the correct container/node. b) Backup jobs are assigned to the node by their hostname. If there is a mismatch in the controller, then jobs will not run.`","title":"Server Hostnames"},{"location":"getting_started/installation/1_prepare/#base-packages","text":"Please ensure the following packages have been installed prior to running the ansible installation. apt update && apt -y install openssl ca-certificates linux-headers-amd64 python3 python3-pip python3-openssl python3-apt python3-setuptools python3-wheel && pip3 install ansible","title":"Base Packages"},{"location":"getting_started/installation/1_prepare/#network-mtu-settings","text":"If you\u2019re using a setting other than the default 1500, please add the following to the main vars: section of your inventory.yml file: container_network_mtu: 1400 # Set the desired MTU for containers to use Next Step: Perform Installation","title":"Network MTU Settings"},{"location":"getting_started/installation/2_perform/","text":"Perform Installation \u00b6 Preflight Checklist \u00b6 Before you run the ansible package, lets quickly run through our checklist and make sure we have everything done. Servers Servers have been created with the minimum requirements Required base packages have been installed Hostnames have been configured, and are a single-word without a domain. You have verified connectivity between the servers Domains Domains have been identified, and; their DNS records have been set Inventory File You\u2019ve generated passwords: backups key, prometheus, and loki Domain names have been added License Key is added, and active Default Admin account is defined All servers and their respective public/private IP addresses have been added The Floating IP Address has been defined (if applicable) You\u2019ve added your ip addresses to the extra_allowed_ipv4_addresses section Run Installer \u00b6 Now that your inventory.yml file has been configured, and all servers are prepared, you may now run the ansible bootstrap script. ansible-playbook -u root -i inventory.yml main.yml --tags \"bootstrap\" Depending on how many servers you\u2019re provisioning, this process may take up to an hour . Validate Installation \u00b6 The very last step of the ansible package is to reboot all the servers. Once they come back online, you can run the following command, which performs a series of sanity checks to make sure everything is running. ansible-playbook -u root -i inventory.yml main.yml --tags \"validate\" Next Step: Finalize Installation Troubleshooting \u00b6 Occasionally a task may fail during the bootstrap process due to various reasons, such as: Temporary network or dns issue hardware issue with the server This can cause complications for your bootstrap process, depending on where it failed. Many of our roles have checks in the roles/<role-name>/tasks/main.yml to see if a process has run already to avoid re-running it. This is done by checking for either configuration files present on the system, or if the service is running. If the process failed after a particular configuration file was created, but before all the steps have been completed, the ansible task may skip over the rest thinking it\u2019s already done. In order to get around this, you may need to comment out those checks in the main.yml file for that task, and re-run the bootstrap command. Additionally, you may want to comment out tasks that have already run in the main main.yml file at the root of the ansible repo to speed up the process.","title":"Run"},{"location":"getting_started/installation/2_perform/#perform-installation","text":"","title":"Perform Installation"},{"location":"getting_started/installation/2_perform/#preflight-checklist","text":"Before you run the ansible package, lets quickly run through our checklist and make sure we have everything done. Servers Servers have been created with the minimum requirements Required base packages have been installed Hostnames have been configured, and are a single-word without a domain. You have verified connectivity between the servers Domains Domains have been identified, and; their DNS records have been set Inventory File You\u2019ve generated passwords: backups key, prometheus, and loki Domain names have been added License Key is added, and active Default Admin account is defined All servers and their respective public/private IP addresses have been added The Floating IP Address has been defined (if applicable) You\u2019ve added your ip addresses to the extra_allowed_ipv4_addresses section","title":"Preflight Checklist"},{"location":"getting_started/installation/2_perform/#run-installer","text":"Now that your inventory.yml file has been configured, and all servers are prepared, you may now run the ansible bootstrap script. ansible-playbook -u root -i inventory.yml main.yml --tags \"bootstrap\" Depending on how many servers you\u2019re provisioning, this process may take up to an hour .","title":"Run Installer"},{"location":"getting_started/installation/2_perform/#validate-installation","text":"The very last step of the ansible package is to reboot all the servers. Once they come back online, you can run the following command, which performs a series of sanity checks to make sure everything is running. ansible-playbook -u root -i inventory.yml main.yml --tags \"validate\" Next Step: Finalize Installation","title":"Validate Installation"},{"location":"getting_started/installation/2_perform/#troubleshooting","text":"Occasionally a task may fail during the bootstrap process due to various reasons, such as: Temporary network or dns issue hardware issue with the server This can cause complications for your bootstrap process, depending on where it failed. Many of our roles have checks in the roles/<role-name>/tasks/main.yml to see if a process has run already to avoid re-running it. This is done by checking for either configuration files present on the system, or if the service is running. If the process failed after a particular configuration file was created, but before all the steps have been completed, the ansible task may skip over the rest thinking it\u2019s already done. In order to get around this, you may need to comment out those checks in the main.yml file for that task, and re-run the bootstrap command. Additionally, you may want to comment out tasks that have already run in the main main.yml file at the root of the ansible repo to speed up the process.","title":"Troubleshooting"},{"location":"getting_started/installation/3_finalize/","text":"Finalize Installation \u00b6 Congratulations! \ud83c\udf89 You should now be able to access your controller, and login with the credentials defined in the inventory.yml file. If you\u2019re unable to access the portal, please run the validation script from the previous section. ComputeStacks Settings \u00b6 Once you\u2019ve logged in and navigated to the Admin, lets get a few basic setup. Navigate to Settings -> Advanced Settings . You will want to review each setting, and update it as necessary. Custom Branding \u00b6 Billing \u00b6 We currently have 3 options for integrating billing with ComputeStacks: Use our WHMCS plugin Configure Billing Webhooks Use our API to pull data and bill independently of ComputeStacks LoadBalancer Wildcard SSL Certificate \u00b6 During the installation process, a self-signed wildcard certificate was installed to the new Load Balancer. To install a valid certificate, please refer to our LoadBalancer SSL Guide . SMTP Settings \u00b6 If you do not have your own MTA, we recommend the following services: Postmark Send In Blue","title":"Finalize"},{"location":"getting_started/installation/3_finalize/#finalize-installation","text":"Congratulations! \ud83c\udf89 You should now be able to access your controller, and login with the credentials defined in the inventory.yml file. If you\u2019re unable to access the portal, please run the validation script from the previous section.","title":"Finalize Installation"},{"location":"getting_started/installation/3_finalize/#computestacks-settings","text":"Once you\u2019ve logged in and navigated to the Admin, lets get a few basic setup. Navigate to Settings -> Advanced Settings . You will want to review each setting, and update it as necessary.","title":"ComputeStacks Settings"},{"location":"getting_started/installation/3_finalize/#custom-branding","text":"","title":"Custom Branding"},{"location":"getting_started/installation/3_finalize/#billing","text":"We currently have 3 options for integrating billing with ComputeStacks: Use our WHMCS plugin Configure Billing Webhooks Use our API to pull data and bill independently of ComputeStacks","title":"Billing"},{"location":"getting_started/installation/3_finalize/#loadbalancer-wildcard-ssl-certificate","text":"During the installation process, a self-signed wildcard certificate was installed to the new Load Balancer. To install a valid certificate, please refer to our LoadBalancer SSL Guide .","title":"LoadBalancer Wildcard SSL Certificate"},{"location":"getting_started/installation/3_finalize/#smtp-settings","text":"If you do not have your own MTA, we recommend the following services: Postmark Send In Blue","title":"SMTP Settings"},{"location":"getting_started/integrations/webhooks/","text":"Webhooks \u00b6 ComputeStacks offers administrators a few different web hook options. All of these can be set in the admin under Settings . To accept the web hook, your system must return a status code 202 ACCEPTED . Otherwise, our system will retry the web hook (up to 5 times). The retry schedule is as follows: First: One minute later Second: 15 minutes later Third - Fifth: Every hour. Billing Events \u00b6 These web hooks are triggered immediately when the event occurs, so depending on your environment, this could be many New subscriptions (new orders) Resizing Cancelling subscription Scaling container service Automatic phase transitions Billing Usage \u00b6 This hook is for the aggregated billing usage that\u2019s processed on the last day of the month. Here is an example output: [ { \"billing_resource\" : { \"billing_plan_id\" : 3 , \"external_id\" : \"\" , \"id\" : 12 }, \"container_id\" : 65 , \"container_service_id\" : 53 , \"device_id\" : null , \"external_id\" : null , \"period_end\" : \"2018-08-01 16:59:59 UTC\" , \"period_start\" : \"2018-06-30 23:00:00 UTC\" , \"product\" : { \"external_id\" : \"\" , \"id\" : 6 , \"name\" : \"Container XS\" }, \"qty\" : 762.0 , \"subscription_id\" : 59 , \"subscription_product_id\" : 175 , \"total\" : 3.048 , \"user\" : { \"email\" : \"user@example.com\" , \"external_id\" : \"1\" , \"id\" : 8 } } ]","title":"WebHooks"},{"location":"getting_started/integrations/webhooks/#webhooks","text":"ComputeStacks offers administrators a few different web hook options. All of these can be set in the admin under Settings . To accept the web hook, your system must return a status code 202 ACCEPTED . Otherwise, our system will retry the web hook (up to 5 times). The retry schedule is as follows: First: One minute later Second: 15 minutes later Third - Fifth: Every hour.","title":"Webhooks"},{"location":"getting_started/integrations/webhooks/#billing-events","text":"These web hooks are triggered immediately when the event occurs, so depending on your environment, this could be many New subscriptions (new orders) Resizing Cancelling subscription Scaling container service Automatic phase transitions","title":"Billing Events"},{"location":"getting_started/integrations/webhooks/#billing-usage","text":"This hook is for the aggregated billing usage that\u2019s processed on the last day of the month. Here is an example output: [ { \"billing_resource\" : { \"billing_plan_id\" : 3 , \"external_id\" : \"\" , \"id\" : 12 }, \"container_id\" : 65 , \"container_service_id\" : 53 , \"device_id\" : null , \"external_id\" : null , \"period_end\" : \"2018-08-01 16:59:59 UTC\" , \"period_start\" : \"2018-06-30 23:00:00 UTC\" , \"product\" : { \"external_id\" : \"\" , \"id\" : 6 , \"name\" : \"Container XS\" }, \"qty\" : 762.0 , \"subscription_id\" : 59 , \"subscription_product_id\" : 175 , \"total\" : 3.048 , \"user\" : { \"email\" : \"user@example.com\" , \"external_id\" : \"1\" , \"id\" : 8 } } ]","title":"Billing Usage"},{"location":"getting_started/integrations/whmcs_plugin/","text":"WHMCS Integration \u00b6 Overview \u00b6 The ComputeStacks integration for WHMCS provides an easy onboarding experience for your customers. It offers a customized ClientArea integration, along with seamless onboarding. Each service in WHMCS corresponds to a single ComputeStacks account ClientArea output for quick overview Easy SingleSignOn buttons in both ClientArea and Admin Support for charging an initial deposit on registration, which is then added as an account credit. Multiple Currency support Import CS accounts into WHMCS using the Server Sync Tool Service Terminations This plugin will not delete any services in ComputeStacks. When a WHMCS service is terminated, this plugin suspends the account in ComputeStacks, which stops all running services. You will then need to manually delete the user. If you wish to have WHMCS automatically delete the users in ComputeStacks, please contact your CS support team. How It Works \u00b6 Onboarding New Customer (user) User places an order for \u201cCloud Account\u201d on your WHMCS installation (user) (optional) User is forwarded to payment screen in WHMCS to pay your deposit amount. a. Depending on payment type, details are stored for future use to enable automatic billing. (system) Deposit is added as an account credit to users profile (system) Upon successful payment, system creates ComputeStacks account and sets up service in WHMCS. (user) User navigates to new service in WHMCS (user) User clicks \u201cLaunch Control Panel\u201d (system) SSO happens and user is taken to order screen inside of ComputeStacks (user) User places first order Processing Billing The day on which invoices are due for automatic process is configurable, but all billable data will be entered into WHMCS on the 1st of the month. (system) On the last day of the month, around 23:00, ComputeStacks aggregates billing usage and creates billable item in WHMCS (system) On the 1st of the month, WHMCS will generate the invoice and (if payment is stored) charge the credit card. Installation \u00b6 Download Our Plugin and upload the contents to your WHMCS server. The folder structure included should match your local installation. Ultimately, the computestacks directory under whmcs/modules/servers/ , should be placed on your WHMCS server at modules/servers/ . The current version requires WHMCS v8.2+. For WHMCS v7 support, please use our latest v2 version . Configure WHMCS \u00b6 Add Server \u00b6 Create a new server in WHMCS and supply your ComputeStacks installation details. You will need to generate API Credentials using an admin user in ComputeStacks. The API Key in ComputeStacks corresponds to the username field in WHMCS, and the API Secret is the password. WHMCS Product \u00b6 Our integration is designed to work in conjunction with our User Group functionality within ComputeStacks. This is useful if you decide to offer different tiers of service. To create your ComputeStacks product, create a new product group and product with the settings: Pricing: With Deposit: Choose OneTime fee and set your deposit amount Without Deposit: Choose Free Module: ComputeStacks User Group: Your choice Apply Credit: If you added a one-time fee, you can optionally convert that to an account credit. Note: This will take place at the moment the order is paid. Module Setup: With Account Credits, we recommend either: Automatically setup the product as soon as the first payment is received (preferred for best user experience) Automatically setup the product when you manually accept a pending order Without Account Credits, we recommend either: Automatically setup the product as soon as an order is placed (preferred for best user experience) Automatically setup the product when you manually accept a pending order Configure ComputeStacks \u00b6 Before we proceed, you will need to first generate API credentials for ComputeStacks. Here are the roles that we need assigned: Billing -> AddBillableItem Client -> GetClients Client -> GetClientsDetails Client -> GetClientsProducts Products -> GetProducts Products -> UpdateClientProduct Servers -> GetHealthStatus System -> WhmcsDetails WHMCS Access Control Please add the controller IP address to the API IP Access Restriction section in the WHMCS settings . Alternatively, setup an access key . In ComputeStacks, navigate to the Administrator -> Advanced Settings -> Billing Module . Edit Billing Module and choose \u2018WHMCS\u2019 and click save. Once you do, additional settings will become available. Set both Whmcs Api Key and Whmcs Api Secret If you set an API Access Key in WHMCS, then you can enter that under Whmcs Access Key . With WHMCS enabled, ComputeStacks will by default disable the registration form to ensure all new users come through WHMCS. Administrators can manually create users from within the admin. If you wish to keep the registration form on, you can manually enable that under Settings -> Advanced Settings -> General and clicking Signup Form No . Clicking will toggle to yes . Keep in mind that enabling user registration on the portal will bypass WHMCS and those users will not be charged. The final step is to set your prices under Settings -> Billing Plans . Upgrading From v1 \u00b6 Version 2 of our WHMCS plugin is a major change from V1 and will require that updates are made to both ComputeStacks and WHMCS. Feature Matrix Table Feature v1 v2 Accounts 1 WHMCS user = 1 CS User WHMCS Users can have multiple CS Accounts (Service = CS Account) ClientArea No ClientArea integration ClientArea Integration with SSO for both users and admins Pre-Paid Billing (Monthly) ComputeStacks would generate an order for each billable action (upgrades/new orders/scaling), redirect the user to the invoice (if it created). Our WHMCS plugin would then attempt to redirect the user back to CS after payment. no longer available, hourly only. Hourly Billing CS will aggregate usage and create billable items No Change Ordering in WHMCS Not available Supported CS Registration Users who signed up in CS would automatically be created in WHMCS. Logging into CS used their WHMCS ClientArea credentials CS Users are not created in WHMCS. Logging into CS uses the username/password set by the WHMCS service module. Upgrading \u00b6 If you do not have any pre-paid monthly users with active services, then the upgrade process is fairly straight forward. Simply remove the old plugin and install our new one following the installation instructions found in our README.md file. You may then use the Server Sync Tool to create local services to enable ClientArea support. During the import process, be sure to set \u201creset password\u201d. This will link the WHMCS service to their ComputeStacks account, and set the password that\u2019s generated by WHMCS. If there are existing monthly pre-paid customers, then you will want to work through the following items: Create a new metered billing plan in CS (or update the old one and change all the prices to hourly) and assign all of those users to that billing plan. Delete all the existing pre-paid monthly services in WHMCS. DO NOT RUN ANY MODULE COMMANDS! This will also delete the service in ComputeStacks! Create the product in WHMCS, following our README.md . Run the server sync tool in WHMCS","title":"WHMCS"},{"location":"getting_started/integrations/whmcs_plugin/#whmcs-integration","text":"","title":"WHMCS Integration"},{"location":"getting_started/integrations/whmcs_plugin/#overview","text":"The ComputeStacks integration for WHMCS provides an easy onboarding experience for your customers. It offers a customized ClientArea integration, along with seamless onboarding. Each service in WHMCS corresponds to a single ComputeStacks account ClientArea output for quick overview Easy SingleSignOn buttons in both ClientArea and Admin Support for charging an initial deposit on registration, which is then added as an account credit. Multiple Currency support Import CS accounts into WHMCS using the Server Sync Tool Service Terminations This plugin will not delete any services in ComputeStacks. When a WHMCS service is terminated, this plugin suspends the account in ComputeStacks, which stops all running services. You will then need to manually delete the user. If you wish to have WHMCS automatically delete the users in ComputeStacks, please contact your CS support team.","title":"Overview"},{"location":"getting_started/integrations/whmcs_plugin/#how-it-works","text":"Onboarding New Customer (user) User places an order for \u201cCloud Account\u201d on your WHMCS installation (user) (optional) User is forwarded to payment screen in WHMCS to pay your deposit amount. a. Depending on payment type, details are stored for future use to enable automatic billing. (system) Deposit is added as an account credit to users profile (system) Upon successful payment, system creates ComputeStacks account and sets up service in WHMCS. (user) User navigates to new service in WHMCS (user) User clicks \u201cLaunch Control Panel\u201d (system) SSO happens and user is taken to order screen inside of ComputeStacks (user) User places first order Processing Billing The day on which invoices are due for automatic process is configurable, but all billable data will be entered into WHMCS on the 1st of the month. (system) On the last day of the month, around 23:00, ComputeStacks aggregates billing usage and creates billable item in WHMCS (system) On the 1st of the month, WHMCS will generate the invoice and (if payment is stored) charge the credit card.","title":"How It Works"},{"location":"getting_started/integrations/whmcs_plugin/#installation","text":"Download Our Plugin and upload the contents to your WHMCS server. The folder structure included should match your local installation. Ultimately, the computestacks directory under whmcs/modules/servers/ , should be placed on your WHMCS server at modules/servers/ . The current version requires WHMCS v8.2+. For WHMCS v7 support, please use our latest v2 version .","title":"Installation"},{"location":"getting_started/integrations/whmcs_plugin/#configure-whmcs","text":"","title":"Configure WHMCS"},{"location":"getting_started/integrations/whmcs_plugin/#add-server","text":"Create a new server in WHMCS and supply your ComputeStacks installation details. You will need to generate API Credentials using an admin user in ComputeStacks. The API Key in ComputeStacks corresponds to the username field in WHMCS, and the API Secret is the password.","title":"Add Server"},{"location":"getting_started/integrations/whmcs_plugin/#whmcs-product","text":"Our integration is designed to work in conjunction with our User Group functionality within ComputeStacks. This is useful if you decide to offer different tiers of service. To create your ComputeStacks product, create a new product group and product with the settings: Pricing: With Deposit: Choose OneTime fee and set your deposit amount Without Deposit: Choose Free Module: ComputeStacks User Group: Your choice Apply Credit: If you added a one-time fee, you can optionally convert that to an account credit. Note: This will take place at the moment the order is paid. Module Setup: With Account Credits, we recommend either: Automatically setup the product as soon as the first payment is received (preferred for best user experience) Automatically setup the product when you manually accept a pending order Without Account Credits, we recommend either: Automatically setup the product as soon as an order is placed (preferred for best user experience) Automatically setup the product when you manually accept a pending order","title":"WHMCS Product"},{"location":"getting_started/integrations/whmcs_plugin/#configure-computestacks","text":"Before we proceed, you will need to first generate API credentials for ComputeStacks. Here are the roles that we need assigned: Billing -> AddBillableItem Client -> GetClients Client -> GetClientsDetails Client -> GetClientsProducts Products -> GetProducts Products -> UpdateClientProduct Servers -> GetHealthStatus System -> WhmcsDetails WHMCS Access Control Please add the controller IP address to the API IP Access Restriction section in the WHMCS settings . Alternatively, setup an access key . In ComputeStacks, navigate to the Administrator -> Advanced Settings -> Billing Module . Edit Billing Module and choose \u2018WHMCS\u2019 and click save. Once you do, additional settings will become available. Set both Whmcs Api Key and Whmcs Api Secret If you set an API Access Key in WHMCS, then you can enter that under Whmcs Access Key . With WHMCS enabled, ComputeStacks will by default disable the registration form to ensure all new users come through WHMCS. Administrators can manually create users from within the admin. If you wish to keep the registration form on, you can manually enable that under Settings -> Advanced Settings -> General and clicking Signup Form No . Clicking will toggle to yes . Keep in mind that enabling user registration on the portal will bypass WHMCS and those users will not be charged. The final step is to set your prices under Settings -> Billing Plans .","title":"Configure ComputeStacks"},{"location":"getting_started/integrations/whmcs_plugin/#upgrading-from-v1","text":"Version 2 of our WHMCS plugin is a major change from V1 and will require that updates are made to both ComputeStacks and WHMCS. Feature Matrix Table Feature v1 v2 Accounts 1 WHMCS user = 1 CS User WHMCS Users can have multiple CS Accounts (Service = CS Account) ClientArea No ClientArea integration ClientArea Integration with SSO for both users and admins Pre-Paid Billing (Monthly) ComputeStacks would generate an order for each billable action (upgrades/new orders/scaling), redirect the user to the invoice (if it created). Our WHMCS plugin would then attempt to redirect the user back to CS after payment. no longer available, hourly only. Hourly Billing CS will aggregate usage and create billable items No Change Ordering in WHMCS Not available Supported CS Registration Users who signed up in CS would automatically be created in WHMCS. Logging into CS used their WHMCS ClientArea credentials CS Users are not created in WHMCS. Logging into CS uses the username/password set by the WHMCS service module.","title":"Upgrading From v1"},{"location":"getting_started/integrations/whmcs_plugin/#upgrading","text":"If you do not have any pre-paid monthly users with active services, then the upgrade process is fairly straight forward. Simply remove the old plugin and install our new one following the installation instructions found in our README.md file. You may then use the Server Sync Tool to create local services to enable ClientArea support. During the import process, be sure to set \u201creset password\u201d. This will link the WHMCS service to their ComputeStacks account, and set the password that\u2019s generated by WHMCS. If there are existing monthly pre-paid customers, then you will want to work through the following items: Create a new metered billing plan in CS (or update the old one and change all the prices to hourly) and assign all of those users to that billing plan. Delete all the existing pre-paid monthly services in WHMCS. DO NOT RUN ANY MODULE COMMANDS! This will also delete the service in ComputeStacks! Create the product in WHMCS, following our README.md . Run the server sync tool in WHMCS","title":"Upgrading"},{"location":"user_api/latest/","text":"End-User API Documentation \u00b6 A note about types DateTime will be returned as a String Decimal when referring to prices will be returned as a String . Array<ContainerImage> means it returns the same result as the primary REST interface. For example, /api/projects/{project-id}/images would return an array of /api/container_images Authentication \u00b6 Basic Auth \u00b6 Using basic authentication is the easiest way to get started with our API. However, keep in mind that the API credentials that are generated for basic authentication give full access to your entire account, just as if you were logged into the control panel. If you plan to distribute an application using our API, or allow more than one user access to the tool you\u2019re building, please use OAuth. This is the more secure alternative as it allows you to restrict what your application can do while authenticated to your account. Invalidating tokens / api keys When you generate a new api key in ComputeStacks, any previously generated tokens will be immediately invalidated. OAuth2 \u00b6 Our OAuth2 endpoint supports the following grant types : Authorization Code Password Same API credentials used basic auth , not your normal login credentials. Client Credentials Only has access to API methods with the public scope. No user data. Refresh Token Only available via the Authorization Code grant type. Scopes allow you to restrict what access your OAuth application has access to. When your users authenticate, they will be shown what access you\u2019re requesting, so please only request access to the scopes you will actually need. Endpoint Type URL Token URL /api/oauth/token Authorization URL /api/oauth/authorize Available Scopes public images_read images_write dns_read dns_write order_read order_write profile_read profile_write register project_read project_write Pagination \u00b6 All collection requests will be paginated using the headers Per-Page and Total . To set these values in your request, pass the URL params page= and per-page= . Versioning \u00b6 You may optionally request a specific API version by modifying the Accept header with: application/json; api_version=60 , where 60 is the version of the API. If you omit this value, then the current version will be used. Current version: 60 If you pass an unsupported API version, you will receive an HTTP status code of 422 (UNPROCESSABLE ENTITY) Get API Version \u00b6 GET /version Schema version : String api_latest_version : String api_available_versions : Array<Integer> Successful Responses \u00b6 The following HTTP codes may be returned to denote a successful response: 200 OK 201 Created 202 Accepted Error Handling \u00b6 The following error codes may be returned. If any error messages exist, they will be passed to the {errors: []} field. 400 Bad Request 401 Unauthorized Basic auth will return this if your credentials are invalid 403 Forbidden OAuth will return this for invalid tokens 404 Not Found 408 Request Timeout 422 Unprocessable Entity 500 Internal Server Error","title":"Overview"},{"location":"user_api/latest/#end-user-api-documentation","text":"A note about types DateTime will be returned as a String Decimal when referring to prices will be returned as a String . Array<ContainerImage> means it returns the same result as the primary REST interface. For example, /api/projects/{project-id}/images would return an array of /api/container_images","title":"End-User API Documentation"},{"location":"user_api/latest/#authentication","text":"","title":"Authentication"},{"location":"user_api/latest/#basic-auth","text":"Using basic authentication is the easiest way to get started with our API. However, keep in mind that the API credentials that are generated for basic authentication give full access to your entire account, just as if you were logged into the control panel. If you plan to distribute an application using our API, or allow more than one user access to the tool you\u2019re building, please use OAuth. This is the more secure alternative as it allows you to restrict what your application can do while authenticated to your account.","title":"Basic Auth"},{"location":"user_api/latest/#oauth2","text":"Our OAuth2 endpoint supports the following grant types : Authorization Code Password Same API credentials used basic auth , not your normal login credentials. Client Credentials Only has access to API methods with the public scope. No user data. Refresh Token Only available via the Authorization Code grant type. Scopes allow you to restrict what access your OAuth application has access to. When your users authenticate, they will be shown what access you\u2019re requesting, so please only request access to the scopes you will actually need. Endpoint Type URL Token URL /api/oauth/token Authorization URL /api/oauth/authorize","title":"OAuth2"},{"location":"user_api/latest/#pagination","text":"All collection requests will be paginated using the headers Per-Page and Total . To set these values in your request, pass the URL params page= and per-page= .","title":"Pagination"},{"location":"user_api/latest/#versioning","text":"You may optionally request a specific API version by modifying the Accept header with: application/json; api_version=60 , where 60 is the version of the API. If you omit this value, then the current version will be used. Current version: 60 If you pass an unsupported API version, you will receive an HTTP status code of 422 (UNPROCESSABLE ENTITY)","title":"Versioning"},{"location":"user_api/latest/#get-api-version","text":"GET /version Schema version : String api_latest_version : String api_available_versions : Array<Integer>","title":"Get API Version"},{"location":"user_api/latest/#successful-responses","text":"The following HTTP codes may be returned to denote a successful response: 200 OK 201 Created 202 Accepted","title":"Successful Responses"},{"location":"user_api/latest/#error-handling","text":"The following error codes may be returned. If any error messages exist, they will be passed to the {errors: []} field. 400 Bad Request 401 Unauthorized Basic auth will return this if your credentials are invalid 403 Forbidden OAuth will return this for invalid tokens 404 Not Found 408 Request Timeout 422 Unprocessable Entity 500 Internal Server Error","title":"Error Handling"},{"location":"user_api/latest/collaborations/","text":"Collaboration \u00b6 List All Collaborations \u00b6 GET /api/collaborations Schema projects : Array id : String owner : Object id : Integer email : String full_name : String project : Object id : Integer name : String domains : Array id : String owner : Object id : Integer email : String full_name : String domain : Object id : Integer name : String images : Array id : String owner : Object id : Integer email : String full_name : String image : Object id : Integer name : String registries : Array id : String owner : Object id : Integer email : String full_name : String registry : Object id : Integer name : String View Collaboration \u00b6 GET /api/collaborations/{id} Schema collaboration : Object id : String {resource} : Object - Where resource is one of: project, image, zone, registry id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Enable Collaboration \u00b6 PATCH /api/collaborations/{id} When initially invited, the active will be disabled. Schema collaboration : Object active : Boolean","title":"Collaborators"},{"location":"user_api/latest/collaborations/#collaboration","text":"","title":"Collaboration"},{"location":"user_api/latest/collaborations/#list-all-collaborations","text":"GET /api/collaborations Schema projects : Array id : String owner : Object id : Integer email : String full_name : String project : Object id : Integer name : String domains : Array id : String owner : Object id : Integer email : String full_name : String domain : Object id : Integer name : String images : Array id : String owner : Object id : Integer email : String full_name : String image : Object id : Integer name : String registries : Array id : String owner : Object id : Integer email : String full_name : String registry : Object id : Integer name : String","title":"List All Collaborations"},{"location":"user_api/latest/collaborations/#view-collaboration","text":"GET /api/collaborations/{id} Schema collaboration : Object id : String {resource} : Object - Where resource is one of: project, image, zone, registry id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaboration"},{"location":"user_api/latest/collaborations/#enable-collaboration","text":"PATCH /api/collaborations/{id} When initially invited, the active will be disabled. Schema collaboration : Object active : Boolean","title":"Enable Collaboration"},{"location":"user_api/latest/container_registry/","text":"Container Registry API \u00b6 List all Container Registries \u00b6 GET /api/container_registry OAuth Authorization Required : images_read schema container_registries : Array id : Integer name : String label : String status : String endpoint : String | url and port username : String password : String images : Array created_at : DateTime updated_at : DateTime View Container Registry \u00b6 GET /api/container_registry/{id} OAuth Authorization Required : images_read schema container_registry : Object id : Integer name : String label : String status : String endpoint : String | url and port username : String password : String images : Array created_at : DateTime updated_at : DateTime Update Container Registry \u00b6 PATCH /api/container_registry/{id} OAuth Authorization Required : images_write schema container_registry : Object label : String Create Container Registry \u00b6 POST /api/container_registry OAuth Authorization Required : images_write schema container_registry : Object label : String Delete Container Registry \u00b6 DELETE /api/container_registry/{id} OAuth Authorization Required : images_write","title":"Overview"},{"location":"user_api/latest/container_registry/#container-registry-api","text":"","title":"Container Registry API"},{"location":"user_api/latest/container_registry/#list-all-container-registries","text":"GET /api/container_registry OAuth Authorization Required : images_read schema container_registries : Array id : Integer name : String label : String status : String endpoint : String | url and port username : String password : String images : Array created_at : DateTime updated_at : DateTime","title":"List all Container Registries"},{"location":"user_api/latest/container_registry/#view-container-registry","text":"GET /api/container_registry/{id} OAuth Authorization Required : images_read schema container_registry : Object id : Integer name : String label : String status : String endpoint : String | url and port username : String password : String images : Array created_at : DateTime updated_at : DateTime","title":"View Container Registry"},{"location":"user_api/latest/container_registry/#update-container-registry","text":"PATCH /api/container_registry/{id} OAuth Authorization Required : images_write schema container_registry : Object label : String","title":"Update Container Registry"},{"location":"user_api/latest/container_registry/#create-container-registry","text":"POST /api/container_registry OAuth Authorization Required : images_write schema container_registry : Object label : String","title":"Create Container Registry"},{"location":"user_api/latest/container_registry/#delete-container-registry","text":"DELETE /api/container_registry/{id} OAuth Authorization Required : images_write","title":"Delete Container Registry"},{"location":"user_api/latest/container_registry/collaborations/","text":"Container Registry Collaborators \u00b6 List All Collaborators \u00b6 GET /api/container_registry/{container-registry-id}/collaborators OAuth AuthorizationRequired : projects_read Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String View Collaborator \u00b6 GET /api/container_registry/{container-registry-id}/collaborators/{id} OAuth AuthorizationRequired : projects_read Schema collaboration : Object id : Integer registry : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Create Collaborator Request \u00b6 POST /api/container_registry/{container-registry-id}/collaborators OAuth AuthorizationRequired : projects_write Schema collaborator : Object user_email : String Remove Collaborator \u00b6 DELETE /api/container_registry/{container-registry-id}/collaborators/{id} OAuth AuthorizationRequired : projects_write","title":"Collaborators"},{"location":"user_api/latest/container_registry/collaborations/#container-registry-collaborators","text":"","title":"Container Registry Collaborators"},{"location":"user_api/latest/container_registry/collaborations/#list-all-collaborators","text":"GET /api/container_registry/{container-registry-id}/collaborators OAuth AuthorizationRequired : projects_read Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String","title":"List All Collaborators"},{"location":"user_api/latest/container_registry/collaborations/#view-collaborator","text":"GET /api/container_registry/{container-registry-id}/collaborators/{id} OAuth AuthorizationRequired : projects_read Schema collaboration : Object id : Integer registry : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaborator"},{"location":"user_api/latest/container_registry/collaborations/#create-collaborator-request","text":"POST /api/container_registry/{container-registry-id}/collaborators OAuth AuthorizationRequired : projects_write Schema collaborator : Object user_email : String","title":"Create Collaborator Request"},{"location":"user_api/latest/container_registry/collaborations/#remove-collaborator","text":"DELETE /api/container_registry/{container-registry-id}/collaborators/{id} OAuth AuthorizationRequired : projects_write","title":"Remove Collaborator"},{"location":"user_api/latest/container_services/","text":"Container Service API \u00b6 List all container services \u00b6 GET /api/container_services OAuth AuthorizationRequired : projects_read schema container_services : Array id : Integer name : String default_domain : String public_ip : String command : String is_load_balancer : Boolean has_domain_management : Boolean container_image_id : Integer current_state : String auto_scale : Boolean auto_scale_horizontal : Boolean auto_scale_max : Boolean labels : Object created_at : DateTime updated_at : DateTime project : Object id : Integer name : String package : Object label : String cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer backup : Integer memory_swap : Integer memory_swappiness : Integer has_sftp : Boolean ingress_rules : Array<Integer> product_id : Integer bastions : Array<Integer> domains : Array<Integer> deployed_containers : Integer help : Object general : String ssh : String remote : String domain : String links : Object project : String (url) bastions : String (url) containers : String (url) events : String (url) ingress_rules : String (url) metadata : String (url) logs : String (url) products : String (url) View Container Service \u00b6 GET /api/container_services/{id} OAuth AuthorizationRequired : projects_read schema container_service : Object id : Integer name : String default_domain : String public_ip : String command : String is_load_balancer : Boolean has_domain_management : Boolean container_image_id : Integer current_state : String auto_scale : Boolean auto_scale_horizontal : Boolean auto_scale_max : Boolean labels : Object created_at : DateTime updated_at : DateTime project : Object id : Integer name : String package : Object label : String cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer backup : Integer memory_swap : Integer memory_swappiness : Integer has_sftp : Boolean ingress_rules : Array<Integer> product_id : Integer bastions : Array<Integer> domains : Array<Integer> deployed_containers : Integer help : Object general : String ssh : String remote : String domain : String links : Object project : String (url) bastions : String (url) containers : String (url) events : String (url) ingress_rules : String (url) metadata : String (url) logs : String (url) products : String (url) Update a container service \u00b6 PATCH /api/container_services/{id} OAuth AuthorizationRequired : projects_write schema container_service : Object name : String scale : Integer package_id : Integer master_domain_id : Integer | ID of domain that you want to be default. Delete a container service \u00b6 DELETE /api/container_services/{id} OAuth AuthorizationRequired : projects_write Resize Service \u00b6 Initiate a resize event for a ContainerService POST /api/container_services/{container-service-id}/resize OAuth AuthorizationRequired : projects_write product_id : Integer | New plan Example { \"container_service\" : { \"product_id\" : 2 } } Scale Service \u00b6 Initiate a scale event for a ContainerService POST /api/container_services/{container-service-id}/scale OAuth AuthorizationRequired : projects_write qty : Integer | The total number of containers this service should have # Example { \"container_service\" : { \"qty\" : 2 } } Power Management \u00b6 Perform a power action on all containers belonging to a service POST /api/container_services/{container-service-id}/power/{action} OAuth AuthorizationRequired : projects_write action : String<start,stop,restart,rebuild> Logs \u00b6 View Recent Logs GET /api/container_services/{id}/logs OAuth AuthorizationRequired : projects_read limit : Integer | How many lines to include? period_start : Integer | Log date range (start). As an integer, time since epoch. Default: 1 day ago period_end : Integer | Log date range (end). As an integer, time since epoch. Default: Now Returns an Array of Arrays containing: Timestamp, container name, log entry Example [ [ 1612904254.9995728 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"HTTP Server Listen\\\" logger=http.server address=[::]:3000 protocol=http subUrl= socket=\" ], [ 1612904254.991145 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"Registering plugin\\\" logger=plugins id=input\" ], [ 1612904254.8895183 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"Starting plugin search\\\" logger=plugins\" ] ]","title":"Overview"},{"location":"user_api/latest/container_services/#container-service-api","text":"","title":"Container Service API"},{"location":"user_api/latest/container_services/#list-all-container-services","text":"GET /api/container_services OAuth AuthorizationRequired : projects_read schema container_services : Array id : Integer name : String default_domain : String public_ip : String command : String is_load_balancer : Boolean has_domain_management : Boolean container_image_id : Integer current_state : String auto_scale : Boolean auto_scale_horizontal : Boolean auto_scale_max : Boolean labels : Object created_at : DateTime updated_at : DateTime project : Object id : Integer name : String package : Object label : String cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer backup : Integer memory_swap : Integer memory_swappiness : Integer has_sftp : Boolean ingress_rules : Array<Integer> product_id : Integer bastions : Array<Integer> domains : Array<Integer> deployed_containers : Integer help : Object general : String ssh : String remote : String domain : String links : Object project : String (url) bastions : String (url) containers : String (url) events : String (url) ingress_rules : String (url) metadata : String (url) logs : String (url) products : String (url)","title":"List all container services"},{"location":"user_api/latest/container_services/#view-container-service","text":"GET /api/container_services/{id} OAuth AuthorizationRequired : projects_read schema container_service : Object id : Integer name : String default_domain : String public_ip : String command : String is_load_balancer : Boolean has_domain_management : Boolean container_image_id : Integer current_state : String auto_scale : Boolean auto_scale_horizontal : Boolean auto_scale_max : Boolean labels : Object created_at : DateTime updated_at : DateTime project : Object id : Integer name : String package : Object label : String cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer backup : Integer memory_swap : Integer memory_swappiness : Integer has_sftp : Boolean ingress_rules : Array<Integer> product_id : Integer bastions : Array<Integer> domains : Array<Integer> deployed_containers : Integer help : Object general : String ssh : String remote : String domain : String links : Object project : String (url) bastions : String (url) containers : String (url) events : String (url) ingress_rules : String (url) metadata : String (url) logs : String (url) products : String (url)","title":"View Container Service"},{"location":"user_api/latest/container_services/#update-a-container-service","text":"PATCH /api/container_services/{id} OAuth AuthorizationRequired : projects_write schema container_service : Object name : String scale : Integer package_id : Integer master_domain_id : Integer | ID of domain that you want to be default.","title":"Update a container service"},{"location":"user_api/latest/container_services/#delete-a-container-service","text":"DELETE /api/container_services/{id} OAuth AuthorizationRequired : projects_write","title":"Delete a container service"},{"location":"user_api/latest/container_services/#resize-service","text":"Initiate a resize event for a ContainerService POST /api/container_services/{container-service-id}/resize OAuth AuthorizationRequired : projects_write product_id : Integer | New plan Example { \"container_service\" : { \"product_id\" : 2 } }","title":"Resize Service"},{"location":"user_api/latest/container_services/#scale-service","text":"Initiate a scale event for a ContainerService POST /api/container_services/{container-service-id}/scale OAuth AuthorizationRequired : projects_write qty : Integer | The total number of containers this service should have # Example { \"container_service\" : { \"qty\" : 2 } }","title":"Scale Service"},{"location":"user_api/latest/container_services/#power-management","text":"Perform a power action on all containers belonging to a service POST /api/container_services/{container-service-id}/power/{action} OAuth AuthorizationRequired : projects_write action : String<start,stop,restart,rebuild>","title":"Power Management"},{"location":"user_api/latest/container_services/#logs","text":"View Recent Logs GET /api/container_services/{id}/logs OAuth AuthorizationRequired : projects_read limit : Integer | How many lines to include? period_start : Integer | Log date range (start). As an integer, time since epoch. Default: 1 day ago period_end : Integer | Log date range (end). As an integer, time since epoch. Default: Now Returns an Array of Arrays containing: Timestamp, container name, log entry Example [ [ 1612904254.9995728 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"HTTP Server Listen\\\" logger=http.server address=[::]:3000 protocol=http subUrl= socket=\" ], [ 1612904254.991145 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"Registering plugin\\\" logger=plugins id=input\" ], [ 1612904254.8895183 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"Starting plugin search\\\" logger=plugins\" ] ]","title":"Logs"},{"location":"user_api/latest/container_services/metadata/","text":"Service Metadata \u00b6 List Container Service Metadata \u00b6 GET /api/container_services/{container-service-id}/metadata OAuth AuthorizationRequired : projects_read schema metadata : Array id : Integer name : String label : String param_type : String decrypted_value : String created_at : DateTime updated_at : DateTime View Metadata \u00b6 GET /api/container_services/{container-service-id}/metadata/{id} OAuth AuthorizationRequired : projects_read schema metadata : Object id : Integer name : String label : String param_type : String decrypted_value : String created_at : DateTime updated_at : DateTime","title":"Metadata"},{"location":"user_api/latest/container_services/metadata/#service-metadata","text":"","title":"Service Metadata"},{"location":"user_api/latest/container_services/metadata/#list-container-service-metadata","text":"GET /api/container_services/{container-service-id}/metadata OAuth AuthorizationRequired : projects_read schema metadata : Array id : Integer name : String label : String param_type : String decrypted_value : String created_at : DateTime updated_at : DateTime","title":"List Container Service Metadata"},{"location":"user_api/latest/container_services/metadata/#view-metadata","text":"GET /api/container_services/{container-service-id}/metadata/{id} OAuth AuthorizationRequired : projects_read schema metadata : Object id : Integer name : String label : String param_type : String decrypted_value : String created_at : DateTime updated_at : DateTime","title":"View Metadata"},{"location":"user_api/latest/container_services/resources/","text":"Service Resources \u00b6 List Ingress Rules \u00b6 GET /api/container_services/{container-service-id}/ingress_rules OAuth AuthorizationRequired : projects_read ingress_rules : Array<IngressRule> List Events \u00b6 GET /api/container_services/{container-service-id}/events OAuth AuthorizationRequired : projects_read event_logs : Array<EventLog> List Containers \u00b6 GET /api/container_services/{container-service-id}/containers OAuth AuthorizationRequired : projects_read containers : Array<Service> List Bastion Containers \u00b6 GET /api/container_services/{container-service-id}/bastions OAuth AuthorizationRequired : projects_read schema bastions : Array id : Integer name : String status : String node_id : Integer ip_addr : String created_at : DateTime updated_at : DateTime port : Integer pw_auth : Boolean | If true, password auth is enabled. username : String password : String List Load Balancers \u00b6 GET /api/container_services/{container-service-id}/load_balancers OAuth AuthorizationRequired : projects_read load_balancers : Array<LoadBalancer>","title":"Resources"},{"location":"user_api/latest/container_services/resources/#service-resources","text":"","title":"Service Resources"},{"location":"user_api/latest/container_services/resources/#list-ingress-rules","text":"GET /api/container_services/{container-service-id}/ingress_rules OAuth AuthorizationRequired : projects_read ingress_rules : Array<IngressRule>","title":"List Ingress Rules"},{"location":"user_api/latest/container_services/resources/#list-events","text":"GET /api/container_services/{container-service-id}/events OAuth AuthorizationRequired : projects_read event_logs : Array<EventLog>","title":"List Events"},{"location":"user_api/latest/container_services/resources/#list-containers","text":"GET /api/container_services/{container-service-id}/containers OAuth AuthorizationRequired : projects_read containers : Array<Service>","title":"List Containers"},{"location":"user_api/latest/container_services/resources/#list-bastion-containers","text":"GET /api/container_services/{container-service-id}/bastions OAuth AuthorizationRequired : projects_read schema bastions : Array id : Integer name : String status : String node_id : Integer ip_addr : String created_at : DateTime updated_at : DateTime port : Integer pw_auth : Boolean | If true, password auth is enabled. username : String password : String","title":"List Bastion Containers"},{"location":"user_api/latest/container_services/resources/#list-load-balancers","text":"GET /api/container_services/{container-service-id}/load_balancers OAuth AuthorizationRequired : projects_read load_balancers : Array<LoadBalancer>","title":"List Load Balancers"},{"location":"user_api/latest/container_services/ssl/","text":"SSL Certificates \u00b6 Custom SSL Certificates only. Will not return LetsEncrypt certificates. List SSL Certificates \u00b6 GET /api/container_services/{container-service-id}/ssl OAuth AuthorizationRequired : projects_read schema certificates : Array id : Integer cert_serial : String issuer : String subject : String not_before : DateTime not_after : DateTime created_at : DateTime updated_at : DateTime View SSL Certificate \u00b6 GET /api/container_services/{container-service-id}/ssl/{id} OAuth AuthorizationRequired : projects_read schema certificates : Object id : Integer cert_serial : String issuer : String subject : String not_before : DateTime not_after : DateTime created_at : DateTime updated_at : DateTime Create SSL Certificate \u00b6 POST /api/container_services/{container-service-id}/ssl OAuth AuthorizationRequired : projects_write schema certificate : Object ca : String crt : String pkey : String Delete certificate \u00b6 DELETE /api/container_services/{container-service-id}/ssl/{id} OAuth AuthorizationRequired : projects_write","title":"SSL"},{"location":"user_api/latest/container_services/ssl/#ssl-certificates","text":"Custom SSL Certificates only. Will not return LetsEncrypt certificates.","title":"SSL Certificates"},{"location":"user_api/latest/container_services/ssl/#list-ssl-certificates","text":"GET /api/container_services/{container-service-id}/ssl OAuth AuthorizationRequired : projects_read schema certificates : Array id : Integer cert_serial : String issuer : String subject : String not_before : DateTime not_after : DateTime created_at : DateTime updated_at : DateTime","title":"List SSL Certificates"},{"location":"user_api/latest/container_services/ssl/#view-ssl-certificate","text":"GET /api/container_services/{container-service-id}/ssl/{id} OAuth AuthorizationRequired : projects_read schema certificates : Object id : Integer cert_serial : String issuer : String subject : String not_before : DateTime not_after : DateTime created_at : DateTime updated_at : DateTime","title":"View SSL Certificate"},{"location":"user_api/latest/container_services/ssl/#create-ssl-certificate","text":"POST /api/container_services/{container-service-id}/ssl OAuth AuthorizationRequired : projects_write schema certificate : Object ca : String crt : String pkey : String","title":"Create SSL Certificate"},{"location":"user_api/latest/container_services/ssl/#delete-certificate","text":"DELETE /api/container_services/{container-service-id}/ssl/{id} OAuth AuthorizationRequired : projects_write","title":"Delete certificate"},{"location":"user_api/latest/containers/","text":"Containers API \u00b6 View Container \u00b6 GET /api/containers/{id} OAuth AuthorizationRequired : projects_read schema containers : Array id : Integer name : String req_state : String<running,stopped> stats : Object cpu : Decimal mem : Decimal current_state : String<migrating,starting,stopping,working,alert,resource_usage,online,offline> local_ip : String public_ip : String created_at : DateTime updated_at : DateTime ingress_rules : Array ingress_rule : Object id : Integer port : Integer port_nat : Integer proto : String<http,tcp,tls,udp> external_access : Boolean backend_ssl : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> redirect_ssl : Boolean restrict_cf : Boolean | If true, only allow CloudFlare tcp_lb : Boolean created_at : Boolean updated_at : Boolean container_service_id : Integer load_balancer_rule_id : Integer internal_load_balancer_id : Integer load_balanced_rules : Array links : Object domains : String (url) Power Control \u00b6 PUT /api/containers/{container-id}/power/{action} OAuth AuthorizationRequired : projects_write action : String<start,stop,restart,rebuild> Container Logs \u00b6 GET /api/containers/{id}/logs OAuth AuthorizationRequired : projects_read limit : Integer | How many lines to include? period_start : Integer | Log date range (start). As an integer, time since epoch. Default: 1 day ago period_end : Integer | Log date range (end). As an integer, time since epoch. Default: Now Returns an Array of Arrays containing: Timestamp, container name, log entry Example [ [ 1612904254.9995728 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"HTTP Server Listen\\\" logger=http.server address=[::]:3000 protocol=http subUrl= socket=\" ], [ 1612904254.991145 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"Registering plugin\\\" logger=plugins id=input\" ], [ 1612904254.8895183 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"Starting plugin search\\\" logger=plugins\" ] ] Container Processes \u00b6 View processes inside of a container GET /api/containers/{container-id}/container_processes OAuth AuthorizationRequired : projects_read schema Returns an Array of Objects containing: UID : String PID : Integer PPID : Integer C : Integer STIME : String TTY : String TIME : string CMD : String Container Resource Usage \u00b6 Both the time, and date/memory label and format, will be formatted to match your API user\u2019s timezone and locale. CPU Usage \u00b6 GET /api/containers/{container-id}/metrics/cpu OAuth AuthorizationRequired : projects_read stats : Array Example { \"stats\" : [ [ \"2021-03-11T21:55:51.000+00:00\" , 0.22 ] ] } Memory Usage \u00b6 GET /api/containers/{container-id}/metrics/memory OAuth AuthorizationRequired : projects_read stats : Array Example { \"stats\" : [ [ \"2021-03-11T21:55:51.000+00:00\" , 9 ] ] }","title":"Containers"},{"location":"user_api/latest/containers/#containers-api","text":"","title":"Containers API"},{"location":"user_api/latest/containers/#view-container","text":"GET /api/containers/{id} OAuth AuthorizationRequired : projects_read schema containers : Array id : Integer name : String req_state : String<running,stopped> stats : Object cpu : Decimal mem : Decimal current_state : String<migrating,starting,stopping,working,alert,resource_usage,online,offline> local_ip : String public_ip : String created_at : DateTime updated_at : DateTime ingress_rules : Array ingress_rule : Object id : Integer port : Integer port_nat : Integer proto : String<http,tcp,tls,udp> external_access : Boolean backend_ssl : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> redirect_ssl : Boolean restrict_cf : Boolean | If true, only allow CloudFlare tcp_lb : Boolean created_at : Boolean updated_at : Boolean container_service_id : Integer load_balancer_rule_id : Integer internal_load_balancer_id : Integer load_balanced_rules : Array links : Object domains : String (url)","title":"View Container"},{"location":"user_api/latest/containers/#power-control","text":"PUT /api/containers/{container-id}/power/{action} OAuth AuthorizationRequired : projects_write action : String<start,stop,restart,rebuild>","title":"Power Control"},{"location":"user_api/latest/containers/#container-logs","text":"GET /api/containers/{id}/logs OAuth AuthorizationRequired : projects_read limit : Integer | How many lines to include? period_start : Integer | Log date range (start). As an integer, time since epoch. Default: 1 day ago period_end : Integer | Log date range (end). As an integer, time since epoch. Default: Now Returns an Array of Arrays containing: Timestamp, container name, log entry Example [ [ 1612904254.9995728 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"HTTP Server Listen\\\" logger=http.server address=[::]:3000 protocol=http subUrl= socket=\" ], [ 1612904254.991145 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"Registering plugin\\\" logger=plugins id=input\" ], [ 1612904254.8895183 , \"mystifying-poincare61-104\" , \"t=2021-02-09T20:57:34+0000 lvl=info msg=\\\"Starting plugin search\\\" logger=plugins\" ] ]","title":"Container Logs"},{"location":"user_api/latest/containers/#container-processes","text":"View processes inside of a container GET /api/containers/{container-id}/container_processes OAuth AuthorizationRequired : projects_read schema Returns an Array of Objects containing: UID : String PID : Integer PPID : Integer C : Integer STIME : String TTY : String TIME : string CMD : String","title":"Container Processes"},{"location":"user_api/latest/containers/#container-resource-usage","text":"Both the time, and date/memory label and format, will be formatted to match your API user\u2019s timezone and locale.","title":"Container Resource Usage"},{"location":"user_api/latest/containers/#cpu-usage","text":"GET /api/containers/{container-id}/metrics/cpu OAuth AuthorizationRequired : projects_read stats : Array Example { \"stats\" : [ [ \"2021-03-11T21:55:51.000+00:00\" , 0.22 ] ] }","title":"CPU Usage"},{"location":"user_api/latest/containers/#memory-usage","text":"GET /api/containers/{container-id}/metrics/memory OAuth AuthorizationRequired : projects_read stats : Array Example { \"stats\" : [ [ \"2021-03-11T21:55:51.000+00:00\" , 9 ] ] }","title":"Memory Usage"},{"location":"user_api/latest/domains/","text":"Container Domains \u00b6 List all domains \u00b6 GET /api/domains OAuth AuthorizationRequired : projects_read schema domains : Array id : Integer domain : String system_domain : Boolean header_hsts : Boolean created_at : DateTime updated_at : DateTime container_service : Integer lets_encrypt : String<active,pending,inactive> links : Hash container_service : String (url) View domain \u00b6 GET /api/domains/{id} OAuth AuthorizationRequired : projects_read schema domains : Array id : Integer domain : String system_domain : Boolean le_enabled : Boolean ingress_rule_id : Integer force_https : Boolean header_hsts : Boolean created_at : DateTime updated_at : DateTime container_service : Integer lets_encrypt : String<active,pending,inactive> links : Hash container_service : String (url) Create Domain \u00b6 POST /api/domains OAuth AuthorizationRequired : projects_write schema domain : Object domain : String le_enabled : Boolean heder_hsts : Boolean container_service_id : Integer Update Domain \u00b6 PATCH /api/domains/{id} OAuth AuthorizationRequired : projects_write schema domain : Object domain : String le_enabled : Boolean heder_hsts : Boolean container_service_id : Integer Delete Domain \u00b6 DELETE /api/domains/{id} Request Domain Validation \u00b6 POST /api/domains/{id}/verify_dns Manually verify a domain to enable LetsEncrypt. This will happen automatically every 10-15minutes. OAuth AuthorizationRequired : projects_write","title":"Domains"},{"location":"user_api/latest/domains/#container-domains","text":"","title":"Container Domains"},{"location":"user_api/latest/domains/#list-all-domains","text":"GET /api/domains OAuth AuthorizationRequired : projects_read schema domains : Array id : Integer domain : String system_domain : Boolean header_hsts : Boolean created_at : DateTime updated_at : DateTime container_service : Integer lets_encrypt : String<active,pending,inactive> links : Hash container_service : String (url)","title":"List all domains"},{"location":"user_api/latest/domains/#view-domain","text":"GET /api/domains/{id} OAuth AuthorizationRequired : projects_read schema domains : Array id : Integer domain : String system_domain : Boolean le_enabled : Boolean ingress_rule_id : Integer force_https : Boolean header_hsts : Boolean created_at : DateTime updated_at : DateTime container_service : Integer lets_encrypt : String<active,pending,inactive> links : Hash container_service : String (url)","title":"View domain"},{"location":"user_api/latest/domains/#create-domain","text":"POST /api/domains OAuth AuthorizationRequired : projects_write schema domain : Object domain : String le_enabled : Boolean heder_hsts : Boolean container_service_id : Integer","title":"Create Domain"},{"location":"user_api/latest/domains/#update-domain","text":"PATCH /api/domains/{id} OAuth AuthorizationRequired : projects_write schema domain : Object domain : String le_enabled : Boolean heder_hsts : Boolean container_service_id : Integer","title":"Update Domain"},{"location":"user_api/latest/domains/#delete-domain","text":"DELETE /api/domains/{id}","title":"Delete Domain"},{"location":"user_api/latest/domains/#request-domain-validation","text":"POST /api/domains/{id}/verify_dns Manually verify a domain to enable LetsEncrypt. This will happen automatically every 10-15minutes. OAuth AuthorizationRequired : projects_write","title":"Request Domain Validation"},{"location":"user_api/latest/events/","text":"Event Logs API \u00b6 Please see individual resources for their specific endpoint to list events. This is currently only used to view a single event and it\u2019s details. View Event Log \u00b6 GET /api/event_logs/{id} OAuth AuthorizationRequired : projects_read schema event_log : Object id : Integer locale : String status : String notice : Boolean state_reason : String event_code : String description : String created_at : DateTime updated_at : DateTime audit : Object id : Integer ip_addr : String event : String raw_data : String created_at : DateTime updated_at : DateTime user : Object id : Integer name : String event_details : Array id : Integer data : String event_code : String created_at : DateTime updated_at : DateTime","title":"Events"},{"location":"user_api/latest/events/#event-logs-api","text":"Please see individual resources for their specific endpoint to list events. This is currently only used to view a single event and it\u2019s details.","title":"Event Logs API"},{"location":"user_api/latest/events/#view-event-log","text":"GET /api/event_logs/{id} OAuth AuthorizationRequired : projects_read schema event_log : Object id : Integer locale : String status : String notice : Boolean state_reason : String event_code : String description : String created_at : DateTime updated_at : DateTime audit : Object id : Integer ip_addr : String event : String raw_data : String created_at : DateTime updated_at : DateTime user : Object id : Integer name : String event_details : Array id : Integer data : String event_code : String created_at : DateTime updated_at : DateTime","title":"View Event Log"},{"location":"user_api/latest/images/","text":"Container Images \u00b6 List All Images \u00b6 GET /api/container_images OAuth Authorization Required : images_read , public Optional Filter Parameters Name URL Param Owned by your user? ?filter=owned Is Load Balancer? ?filter=isLoadBalancer schema container_images : Array id : Integer active : Boolean is_load_balancer : Boolean can_scale : Boolean command : String | Command execued by container on start container_image_provider_id : Integer description : String domains_block_id : Integer general_block_id : Integer icon_url : String image_url : String is_free : Boolean label : String min_cpu : Decimal | Supports fractional cores labels : Array key : String value : String min_memory : Integer name : String registry_auth : Boolean registry_custom : String registry_image_path : String registry_image_tag : String remote_block_id : Integer role : String | Used in generating variables role_class : String<web, database, cache, dev, misc> ssh_block_id : Integer user_id : Integer created_at : DateTime updated_at : DateTime required_containers : Array<Integer> required_by : Array<Integer container_image_env_params : Array id : Integer name : String label : String param_type : String<static,variable> env_value : String static_value : String updated_at : DateTime created_at : DateTime container_image_settings_params : Array id : Integer name : String label : String param_type : String<password,static> | Password will auto-gen value value : String updated_at : DateTime created_at : DateTime View Container Image \u00b6 GET /api/container_images/{id} OAuth Authorization Required : images_read , public schema container_images : Array id : Integer active : Boolean is_load_balancer : Boolean can_scale : Boolean command : String | Command execued by container on start container_image_provider_id : Integer description : String domains_block_id : Integer general_block_id : Integer icon_url : String image_url : String is_free : Boolean label : String min_cpu : Decimal | Supports fractional cores labels : Array key : String value : String min_memory : Integer name : String registry_auth : Boolean registry_custom : String registry_image_path : String registry_image_tag : String remote_block_id : Integer role : String | Used in generating variables role_class : String<web, database, cache, dev, misc> ssh_block_id : Integer user_id : Integer created_at : DateTime updated_at : DateTime required_containers : Array<Integer> required_by : Array<Integer container_image_env_params : Array id : Integer name : String label : String param_type : String<static,variable> env_value : String static_value : String updated_at : DateTime created_at : DateTime container_image_settings_params : Array id : Integer name : String label : String param_type : String<password,static> | Password will auto-gen value value : String updated_at : DateTime created_at : DateTime Update an image \u00b6 PATCH /api/container_images/{id} OAuth Authorization Required : images_write schema container_image : Object label : String description : String active : Boolean | Available for order? role : String role_class : String can_scale : Boolean min_cpu : Decimal min_memory : Integer container_image_provider_id : Integer registry_auth : Boolean registry_custom : String registry_image_path : String registry_image_tag : String registry_username : String registry_password : String is_free : Boolean (Admin) override_autoremove : Boolean (Admin) Create an image \u00b6 POST /api/container_images OAuth Authorization Required : images_write schema container_image : Object label : String description : String active : Boolean | Available for order? role : String role_class : String can_scale : Boolean min_cpu : Decimal min_memory : Integer container_image_provider_id : Integer registry_auth : Boolean registry_custom : String registry_image_path : String registry_image_tag : String registry_username : String registry_password : String is_free : Boolean (Admin) override_autoremove : Boolean (Admin) env_params_attributes : Array label : String name : String param_type : String<static,variable> env_value : String | When param_type is variable static_value : String | When param_type is static ingress_params_attributes : Array port : Integer proto : String<tcp,udp,tls> backend_ssl : Boolean external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> setting_params_attributes : Array name : String label : String param_type : String<static,variable> value : String volume_attributes : Array label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> Destroy an image \u00b6 OAuth Authorization Required : images_write DELETE /api/container_images/{id}","title":"Overview"},{"location":"user_api/latest/images/#container-images","text":"","title":"Container Images"},{"location":"user_api/latest/images/#list-all-images","text":"GET /api/container_images OAuth Authorization Required : images_read , public Optional Filter Parameters Name URL Param Owned by your user? ?filter=owned Is Load Balancer? ?filter=isLoadBalancer schema container_images : Array id : Integer active : Boolean is_load_balancer : Boolean can_scale : Boolean command : String | Command execued by container on start container_image_provider_id : Integer description : String domains_block_id : Integer general_block_id : Integer icon_url : String image_url : String is_free : Boolean label : String min_cpu : Decimal | Supports fractional cores labels : Array key : String value : String min_memory : Integer name : String registry_auth : Boolean registry_custom : String registry_image_path : String registry_image_tag : String remote_block_id : Integer role : String | Used in generating variables role_class : String<web, database, cache, dev, misc> ssh_block_id : Integer user_id : Integer created_at : DateTime updated_at : DateTime required_containers : Array<Integer> required_by : Array<Integer container_image_env_params : Array id : Integer name : String label : String param_type : String<static,variable> env_value : String static_value : String updated_at : DateTime created_at : DateTime container_image_settings_params : Array id : Integer name : String label : String param_type : String<password,static> | Password will auto-gen value value : String updated_at : DateTime created_at : DateTime","title":"List All Images"},{"location":"user_api/latest/images/#view-container-image","text":"GET /api/container_images/{id} OAuth Authorization Required : images_read , public schema container_images : Array id : Integer active : Boolean is_load_balancer : Boolean can_scale : Boolean command : String | Command execued by container on start container_image_provider_id : Integer description : String domains_block_id : Integer general_block_id : Integer icon_url : String image_url : String is_free : Boolean label : String min_cpu : Decimal | Supports fractional cores labels : Array key : String value : String min_memory : Integer name : String registry_auth : Boolean registry_custom : String registry_image_path : String registry_image_tag : String remote_block_id : Integer role : String | Used in generating variables role_class : String<web, database, cache, dev, misc> ssh_block_id : Integer user_id : Integer created_at : DateTime updated_at : DateTime required_containers : Array<Integer> required_by : Array<Integer container_image_env_params : Array id : Integer name : String label : String param_type : String<static,variable> env_value : String static_value : String updated_at : DateTime created_at : DateTime container_image_settings_params : Array id : Integer name : String label : String param_type : String<password,static> | Password will auto-gen value value : String updated_at : DateTime created_at : DateTime","title":"View Container Image"},{"location":"user_api/latest/images/#update-an-image","text":"PATCH /api/container_images/{id} OAuth Authorization Required : images_write schema container_image : Object label : String description : String active : Boolean | Available for order? role : String role_class : String can_scale : Boolean min_cpu : Decimal min_memory : Integer container_image_provider_id : Integer registry_auth : Boolean registry_custom : String registry_image_path : String registry_image_tag : String registry_username : String registry_password : String is_free : Boolean (Admin) override_autoremove : Boolean (Admin)","title":"Update an image"},{"location":"user_api/latest/images/#create-an-image","text":"POST /api/container_images OAuth Authorization Required : images_write schema container_image : Object label : String description : String active : Boolean | Available for order? role : String role_class : String can_scale : Boolean min_cpu : Decimal min_memory : Integer container_image_provider_id : Integer registry_auth : Boolean registry_custom : String registry_image_path : String registry_image_tag : String registry_username : String registry_password : String is_free : Boolean (Admin) override_autoremove : Boolean (Admin) env_params_attributes : Array label : String name : String param_type : String<static,variable> env_value : String | When param_type is variable static_value : String | When param_type is static ingress_params_attributes : Array port : Integer proto : String<tcp,udp,tls> backend_ssl : Boolean external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> setting_params_attributes : Array name : String label : String param_type : String<static,variable> value : String volume_attributes : Array label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String>","title":"Create an image"},{"location":"user_api/latest/images/#destroy-an-image","text":"OAuth Authorization Required : images_write DELETE /api/container_images/{id}","title":"Destroy an image"},{"location":"user_api/latest/images/collaborations/","text":"Container Image Collaborators \u00b6 List All Collaborators \u00b6 GET /api/container_images/{container-image-id}/collaborators OAuth Authorization Required : images_read Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String View Collaborator \u00b6 GET /api/container_images/{container-image-id}/collaborators/{id} OAuth Authorization Required : images_read Schema collaboration : Object id : Integer image : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Create Collaborator Request \u00b6 POST /api/container_images/{container-image-id}/collaborators OAuth Authorization Required : images_write Schema collaborator : Object user_email : String Remove Collaborator \u00b6 DELETE /api/container_images/{container-image-id}/collaborators/{id} OAuth Authorization Required : images_write","title":"Collaborators"},{"location":"user_api/latest/images/collaborations/#container-image-collaborators","text":"","title":"Container Image Collaborators"},{"location":"user_api/latest/images/collaborations/#list-all-collaborators","text":"GET /api/container_images/{container-image-id}/collaborators OAuth Authorization Required : images_read Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String","title":"List All Collaborators"},{"location":"user_api/latest/images/collaborations/#view-collaborator","text":"GET /api/container_images/{container-image-id}/collaborators/{id} OAuth Authorization Required : images_read Schema collaboration : Object id : Integer image : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaborator"},{"location":"user_api/latest/images/collaborations/#create-collaborator-request","text":"POST /api/container_images/{container-image-id}/collaborators OAuth Authorization Required : images_write Schema collaborator : Object user_email : String","title":"Create Collaborator Request"},{"location":"user_api/latest/images/collaborations/#remove-collaborator","text":"DELETE /api/container_images/{container-image-id}/collaborators/{id} OAuth Authorization Required : images_write","title":"Remove Collaborator"},{"location":"user_api/latest/images/providers/","text":"Image Providers \u00b6 Each container image is associated with a provider object, which holds any authentication details and URL. List All Providers \u00b6 OAuth Authorization Required : images_read GET /api/container_image_providers schema container_image_providers : Array id : Integer name : String hostname : String is_default : Boolean updated_at : DateTime created_at : DateTime View Image Provider \u00b6 Show a single Container Image Provider OAuth Authorization Required : images_read GET /api/container_image_providers/{id} schema container_image_providers : Array id : Integer name : String hostname : String is_default : Boolean updated_at : DateTime created_at : DateTime","title":"Providers"},{"location":"user_api/latest/images/providers/#image-providers","text":"Each container image is associated with a provider object, which holds any authentication details and URL.","title":"Image Providers"},{"location":"user_api/latest/images/providers/#list-all-providers","text":"OAuth Authorization Required : images_read GET /api/container_image_providers schema container_image_providers : Array id : Integer name : String hostname : String is_default : Boolean updated_at : DateTime created_at : DateTime","title":"List All Providers"},{"location":"user_api/latest/images/providers/#view-image-provider","text":"Show a single Container Image Provider OAuth Authorization Required : images_read GET /api/container_image_providers/{id} schema container_image_providers : Array id : Integer name : String hostname : String is_default : Boolean updated_at : DateTime created_at : DateTime","title":"View Image Provider"},{"location":"user_api/latest/images/params/env/","text":"Environmental Params \u00b6 List all environmental parameters \u00b6 GET /api/container_images/{container-image-id}/env_params OAuth Authorization Required : images_read , public schema env_params : Array name : String label : String param_type : String<static,variable> env_value : String | when param_type == variable static_value : String | when param_type == static created_at : DateTime updated_at : DateTime View environmental parameter \u00b6 GET /api/container_images/{container-image-id}/env_params/{id} OAuth Authorization Required : images_read , public schema env_param : Object name : String label : String param_type : String<static,variable> env_value : String | when param_type == variable static_value : String | when param_type == static created_at : DateTime updated_at : DateTime Update an environmental parameter \u00b6 PATCH /api/container_images/{container-image-id}/env_params/{id} OAuth Authorization Required : images_write schema env_param : Object name : String label : String param_type : String<static,variable> env_value : String static_value : String Create an environmental parameter \u00b6 POST /api/container_images/{container-image-id}/env_params OAuth Authorization Required : images_write schema env_param : Object name : String label : String param_type : String<static,variable> env_value : String static_value : String Destroy an env param \u00b6 DELETE /api/container_images/{container-image-id}/env_params/{id} OAuth Authorization Required : images_write","title":"Env"},{"location":"user_api/latest/images/params/env/#environmental-params","text":"","title":"Environmental Params"},{"location":"user_api/latest/images/params/env/#list-all-environmental-parameters","text":"GET /api/container_images/{container-image-id}/env_params OAuth Authorization Required : images_read , public schema env_params : Array name : String label : String param_type : String<static,variable> env_value : String | when param_type == variable static_value : String | when param_type == static created_at : DateTime updated_at : DateTime","title":"List all environmental parameters"},{"location":"user_api/latest/images/params/env/#view-environmental-parameter","text":"GET /api/container_images/{container-image-id}/env_params/{id} OAuth Authorization Required : images_read , public schema env_param : Object name : String label : String param_type : String<static,variable> env_value : String | when param_type == variable static_value : String | when param_type == static created_at : DateTime updated_at : DateTime","title":"View environmental parameter"},{"location":"user_api/latest/images/params/env/#update-an-environmental-parameter","text":"PATCH /api/container_images/{container-image-id}/env_params/{id} OAuth Authorization Required : images_write schema env_param : Object name : String label : String param_type : String<static,variable> env_value : String static_value : String","title":"Update an environmental parameter"},{"location":"user_api/latest/images/params/env/#create-an-environmental-parameter","text":"POST /api/container_images/{container-image-id}/env_params OAuth Authorization Required : images_write schema env_param : Object name : String label : String param_type : String<static,variable> env_value : String static_value : String","title":"Create an environmental parameter"},{"location":"user_api/latest/images/params/env/#destroy-an-env-param","text":"DELETE /api/container_images/{container-image-id}/env_params/{id} OAuth Authorization Required : images_write","title":"Destroy an env param"},{"location":"user_api/latest/images/params/ingress/","text":"Ingress Params \u00b6 List all ingress params for a given image \u00b6 GET /api/container_images/{container-image-id}/ingress_params OAuth Authorization Required : images_read , public schema ingress_params : Array port : Integer proto : String<tcp,udp,tls> backend_ssl : Boolean external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> tcp_lb : Boolean updated_at : DateTime created_at : DateTime load_balancer_id : Integer internal_load_balancer_id : Integer View a single ingress param \u00b6 GET /api/container_images/{container-image-id}/ingress_params/{id} OAuth Authorization Required : images_read , public schema ingress_param : Object port : Integer proto : String<tcp,udp,tls> backend_ssl : Boolean external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> tcp_lb : Boolean updated_at : DateTime created_at : DateTime load_balancer_id : Integer internal_load_balancer_id : Integer Update an ingress param \u00b6 PATCH /api/container_images/{container-image-id}/ingress_params/{id} OAuth Authorization Required : images_write schema ingress_param : Object port : Integer proto : String<tcp,udp,tls> external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> | Ensure your backend supports the PROXY protocol before enabling this. backend_ssl : Boolean Create an ingress param \u00b6 POST /api/container_images/{container-image-id}/ingress_params OAuth Authorization Required : images_write schema ingress_param : Object port : Integer proto : String<tcp,udp,tls> external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> | Ensure your backend supports the PROXY protocol before enabling this. backend_ssl : Boolean Delete an ingress param \u00b6 DELETE /api/container_images/{container-image-id}/ingress_params/{id} OAuth Authorization Required : images_write","title":"Ingress"},{"location":"user_api/latest/images/params/ingress/#ingress-params","text":"","title":"Ingress Params"},{"location":"user_api/latest/images/params/ingress/#list-all-ingress-params-for-a-given-image","text":"GET /api/container_images/{container-image-id}/ingress_params OAuth Authorization Required : images_read , public schema ingress_params : Array port : Integer proto : String<tcp,udp,tls> backend_ssl : Boolean external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> tcp_lb : Boolean updated_at : DateTime created_at : DateTime load_balancer_id : Integer internal_load_balancer_id : Integer","title":"List all ingress params for a given image"},{"location":"user_api/latest/images/params/ingress/#view-a-single-ingress-param","text":"GET /api/container_images/{container-image-id}/ingress_params/{id} OAuth Authorization Required : images_read , public schema ingress_param : Object port : Integer proto : String<tcp,udp,tls> backend_ssl : Boolean external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> tcp_lb : Boolean updated_at : DateTime created_at : DateTime load_balancer_id : Integer internal_load_balancer_id : Integer","title":"View a single ingress param"},{"location":"user_api/latest/images/params/ingress/#update-an-ingress-param","text":"PATCH /api/container_images/{container-image-id}/ingress_params/{id} OAuth Authorization Required : images_write schema ingress_param : Object port : Integer proto : String<tcp,udp,tls> external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> | Ensure your backend supports the PROXY protocol before enabling this. backend_ssl : Boolean","title":"Update an ingress param"},{"location":"user_api/latest/images/params/ingress/#create-an-ingress-param","text":"POST /api/container_images/{container-image-id}/ingress_params OAuth Authorization Required : images_write schema ingress_param : Object port : Integer proto : String<tcp,udp,tls> external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> | Ensure your backend supports the PROXY protocol before enabling this. backend_ssl : Boolean","title":"Create an ingress param"},{"location":"user_api/latest/images/params/ingress/#delete-an-ingress-param","text":"DELETE /api/container_images/{container-image-id}/ingress_params/{id} OAuth Authorization Required : images_write","title":"Delete an ingress param"},{"location":"user_api/latest/images/params/relationships/","text":"Image Relationships \u00b6 List all image relationships \u00b6 GET /api/container_images/{container-image-id}/image_relationships OAuth Authorization Required : images_read , public schema image_relationships : Array container_image_id : Integer requires_container_id : Integer created_at : DateTime updated_at : DateTime Show a container image relationship \u00b6 GET /api/container_images/{container-image-id}/image_relationships/{id} OAuth Authorization Required : images_read , public schema image_relationship : Object container_image_id : Integer requires_container_id : Integer created_at : DateTime Update a container image relationship \u00b6 PATCH /api/container_images/{container-image-id}/image_relationships/{id} OAuth Authorization Required : images_write schema image_relationship : Object requires_container_id : Integer Create a container image relationship \u00b6 POST /api/container_images/{container-image-id}/image_relationships OAuth Authorization Required : images_write schema image_relationship : Object requires_container_id : Integer Delete a container image relationship \u00b6 DELETE /api/container_images/{container-image-id}/image_relationships/{id} OAuth Authorization Required : images_write","title":"Relationships"},{"location":"user_api/latest/images/params/relationships/#image-relationships","text":"","title":"Image Relationships"},{"location":"user_api/latest/images/params/relationships/#list-all-image-relationships","text":"GET /api/container_images/{container-image-id}/image_relationships OAuth Authorization Required : images_read , public schema image_relationships : Array container_image_id : Integer requires_container_id : Integer created_at : DateTime updated_at : DateTime","title":"List all image relationships"},{"location":"user_api/latest/images/params/relationships/#show-a-container-image-relationship","text":"GET /api/container_images/{container-image-id}/image_relationships/{id} OAuth Authorization Required : images_read , public schema image_relationship : Object container_image_id : Integer requires_container_id : Integer created_at : DateTime","title":"Show a container image relationship"},{"location":"user_api/latest/images/params/relationships/#update-a-container-image-relationship","text":"PATCH /api/container_images/{container-image-id}/image_relationships/{id} OAuth Authorization Required : images_write schema image_relationship : Object requires_container_id : Integer","title":"Update a container image relationship"},{"location":"user_api/latest/images/params/relationships/#create-a-container-image-relationship","text":"POST /api/container_images/{container-image-id}/image_relationships OAuth Authorization Required : images_write schema image_relationship : Object requires_container_id : Integer","title":"Create a container image relationship"},{"location":"user_api/latest/images/params/relationships/#delete-a-container-image-relationship","text":"DELETE /api/container_images/{container-image-id}/image_relationships/{id} OAuth Authorization Required : images_write","title":"Delete a container image relationship"},{"location":"user_api/latest/images/params/settings/","text":"Setting Params \u00b6 List all image settings \u00b6 GET /api/container_images/{container-image-id}/setting_params OAuth Authorization Required : images_read , public setting_params : Array id : Integer name : String label : String param_type : String<password,static> value : String created_at : DateTime updated_at : DateTime View a single setting \u00b6 GET /api/container_images/{container-image-id}/setting_params/{id} OAuth Authorization Required : images_read , public setting_param : Object id : Integer name : String label : String param_type : String<password,static> value : String created_at : DateTime updated_at : DateTime Update a setting \u00b6 PATCH /api/container_images/{container-image-id}/setting_params/{id} OAuth Authorization Required : images_write setting_param : Object label : String name : String param_type : String<password,static> value : String Create a setting \u00b6 POST /api/container_images/{container-image-id}/setting_params OAuth Authorization Required : images_write setting_param : Object label : String name : String param_type : String<password,static> value : String Delete a setting \u00b6 DELETE /api/container_images/{container-image-id}/setting_params/{id} OAuth Authorization Required : images_write","title":"Settings"},{"location":"user_api/latest/images/params/settings/#setting-params","text":"","title":"Setting Params"},{"location":"user_api/latest/images/params/settings/#list-all-image-settings","text":"GET /api/container_images/{container-image-id}/setting_params OAuth Authorization Required : images_read , public setting_params : Array id : Integer name : String label : String param_type : String<password,static> value : String created_at : DateTime updated_at : DateTime","title":"List all image settings"},{"location":"user_api/latest/images/params/settings/#view-a-single-setting","text":"GET /api/container_images/{container-image-id}/setting_params/{id} OAuth Authorization Required : images_read , public setting_param : Object id : Integer name : String label : String param_type : String<password,static> value : String created_at : DateTime updated_at : DateTime","title":"View a single setting"},{"location":"user_api/latest/images/params/settings/#update-a-setting","text":"PATCH /api/container_images/{container-image-id}/setting_params/{id} OAuth Authorization Required : images_write setting_param : Object label : String name : String param_type : String<password,static> value : String","title":"Update a setting"},{"location":"user_api/latest/images/params/settings/#create-a-setting","text":"POST /api/container_images/{container-image-id}/setting_params OAuth Authorization Required : images_write setting_param : Object label : String name : String param_type : String<password,static> value : String","title":"Create a setting"},{"location":"user_api/latest/images/params/settings/#delete-a-setting","text":"DELETE /api/container_images/{container-image-id}/setting_params/{id} OAuth Authorization Required : images_write","title":"Delete a setting"},{"location":"user_api/latest/images/params/volumes/","text":"Volume Settings \u00b6 List all volumes \u00b6 GET /api/container_images/{container-image-id}/volume_params OAuth Authorization Required : images_read , public schema volume_params : Array id : Integer label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> updated_at : DateTime created_at : DateTime View a single volume \u00b6 GET /api/container_images/{container-image-id}/volume_params/{id} OAuth Authorization Required : images_read , public schema volume_params : Object id : Integer label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> updated_at : DateTime created_at : DateTime Update a volume \u00b6 PATCH /api/container_images/{container-image-id}/volume_params/{id} OAuth Authorization Required : images_write schema volume_params : Object label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> Create a volume \u00b6 POST /api/container_images/{container-image-id}/volume_params OAuth Authorization Required : images_write schema volume_params : Object label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> Delete a volume \u00b6 DELETE /api/container_images/{container-image-id}/volume_params/{id} OAuth Authorization Required : images_write","title":"Volumes"},{"location":"user_api/latest/images/params/volumes/#volume-settings","text":"","title":"Volume Settings"},{"location":"user_api/latest/images/params/volumes/#list-all-volumes","text":"GET /api/container_images/{container-image-id}/volume_params OAuth Authorization Required : images_read , public schema volume_params : Array id : Integer label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> updated_at : DateTime created_at : DateTime","title":"List all volumes"},{"location":"user_api/latest/images/params/volumes/#view-a-single-volume","text":"GET /api/container_images/{container-image-id}/volume_params/{id} OAuth Authorization Required : images_read , public schema volume_params : Object id : Integer label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> updated_at : DateTime created_at : DateTime","title":"View a single volume"},{"location":"user_api/latest/images/params/volumes/#update-a-volume","text":"PATCH /api/container_images/{container-image-id}/volume_params/{id} OAuth Authorization Required : images_write schema volume_params : Object label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String>","title":"Update a volume"},{"location":"user_api/latest/images/params/volumes/#create-a-volume","text":"POST /api/container_images/{container-image-id}/volume_params OAuth Authorization Required : images_write schema volume_params : Object label : String mount_path : String enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String>","title":"Create a volume"},{"location":"user_api/latest/images/params/volumes/#delete-a-volume","text":"DELETE /api/container_images/{container-image-id}/volume_params/{id} OAuth Authorization Required : images_write","title":"Delete a volume"},{"location":"user_api/latest/load_balancers/","text":"Load Balancers API \u00b6 List your load balancers \u00b6 GET /api/load_balancers OAuth AuthorizationRequired : projects_read ?? abstract \u201cschema\u201d * load_balancers : Array * id : Integer * name : String * label : String * public_ip : String * created_at : DateTime * updated_at : DateTime View Load Balancer \u00b6 GET /api/load_balancers/{id} OAuth AuthorizationRequired : projects_read ?? abstract \u201cschema\u201d * load_balancer : Object * id : Integer * name : String * label : String * public_ip : String * created_at : DateTime * updated_at : DateTime","title":"Load Balancers"},{"location":"user_api/latest/load_balancers/#load-balancers-api","text":"","title":"Load Balancers API"},{"location":"user_api/latest/load_balancers/#list-your-load-balancers","text":"GET /api/load_balancers OAuth AuthorizationRequired : projects_read ?? abstract \u201cschema\u201d * load_balancers : Array * id : Integer * name : String * label : String * public_ip : String * created_at : DateTime * updated_at : DateTime","title":"List your load balancers"},{"location":"user_api/latest/load_balancers/#view-load-balancer","text":"GET /api/load_balancers/{id} OAuth AuthorizationRequired : projects_read ?? abstract \u201cschema\u201d * load_balancer : Object * id : Integer * name : String * label : String * public_ip : String * created_at : DateTime * updated_at : DateTime","title":"View Load Balancer"},{"location":"user_api/latest/locations/","text":"Locations API \u00b6 List Locations \u00b6 GET /api/locations OAuth AuthorizationRequired : project_read schema locations : Array id : Integer name : String regions : Array id : Integer name : String Show Location \u00b6 GET /api/locations/{id} OAuth AuthorizationRequired : project_read schema location : Object id : Integer name : String regions : Array id : Integer name : String","title":"Locations"},{"location":"user_api/latest/locations/#locations-api","text":"","title":"Locations API"},{"location":"user_api/latest/locations/#list-locations","text":"GET /api/locations OAuth AuthorizationRequired : project_read schema locations : Array id : Integer name : String regions : Array id : Integer name : String","title":"List Locations"},{"location":"user_api/latest/locations/#show-location","text":"GET /api/locations/{id} OAuth AuthorizationRequired : project_read schema location : Object id : Integer name : String regions : Array id : Integer name : String","title":"Show Location"},{"location":"user_api/latest/network/","text":"Network Ingress \u00b6 View Ingress Rule \u00b6 GET /api/networks/ingress_rules/{id} OAuth AuthorizationRequired : projects_read schema ingress_rule : Object id : Integer port : Integer port_nat : Integer proto : String<http,tcp,tls,udp> external_access : Boolean backend_ssl : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> redirect_ssl : Boolean restrict_cf : Boolean | If true, only allow CloudFlare tcp_lb : Boolean created_at : Boolean updated_at : Boolean container_service_id : Integer load_balancer_rule_id : Integer internal_load_balancer_id : Integer load_balanced_rules : Array links : Object domains : String (url) Update Ingress Rule \u00b6 PATCH /api/networks/ingress_rules/{id} OAuth AuthorizationRequired : projects_write schema ingress_rule : Object proto : String<http,tcp,tls,udp> external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> backend_ssl : String port : Integer restrict_cf : Boolean | If true, only allow CloudFlare tcp_lb : Boolean Toggle NAT \u00b6 This is a helper method to toggle external access to an ingress rule. You may also edit the ingress rule and specify external_access . POST /api/networks/ingress_rules/{id}/toggle_nat OAuth AuthorizationRequired : projects_write Create Ingress Rule \u00b6 POST /api/networks/ingress_rules OAuth AuthorizationRequired : projects_write schema ingress_rule : Object container_service_id : Integer | ID of Container Service, not container. proto : String<http,tcp,tls,udp> external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> backend_ssl : String port : Integer restrict_cf : Boolean | If true, only allow CloudFlare tcp_lb : Boolean Delete Ingress Rule \u00b6 DELETE /api/networks/ingress_rules/{id} OAuth AuthorizationRequired : projects_write List Domains \u00b6 Find domains associated with this ingress rule GET /api/networks/ingress_rules/{id}/domains OAuth AuthorizationRequired : projects_read schema domains : Array<Domain>","title":"Ingress Rules"},{"location":"user_api/latest/network/#network-ingress","text":"","title":"Network Ingress"},{"location":"user_api/latest/network/#view-ingress-rule","text":"GET /api/networks/ingress_rules/{id} OAuth AuthorizationRequired : projects_read schema ingress_rule : Object id : Integer port : Integer port_nat : Integer proto : String<http,tcp,tls,udp> external_access : Boolean backend_ssl : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> redirect_ssl : Boolean restrict_cf : Boolean | If true, only allow CloudFlare tcp_lb : Boolean created_at : Boolean updated_at : Boolean container_service_id : Integer load_balancer_rule_id : Integer internal_load_balancer_id : Integer load_balanced_rules : Array links : Object domains : String (url)","title":"View Ingress Rule"},{"location":"user_api/latest/network/#update-ingress-rule","text":"PATCH /api/networks/ingress_rules/{id} OAuth AuthorizationRequired : projects_write schema ingress_rule : Object proto : String<http,tcp,tls,udp> external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> backend_ssl : String port : Integer restrict_cf : Boolean | If true, only allow CloudFlare tcp_lb : Boolean","title":"Update Ingress Rule"},{"location":"user_api/latest/network/#toggle-nat","text":"This is a helper method to toggle external access to an ingress rule. You may also edit the ingress rule and specify external_access . POST /api/networks/ingress_rules/{id}/toggle_nat OAuth AuthorizationRequired : projects_write","title":"Toggle NAT"},{"location":"user_api/latest/network/#create-ingress-rule","text":"POST /api/networks/ingress_rules OAuth AuthorizationRequired : projects_write schema ingress_rule : Object container_service_id : Integer | ID of Container Service, not container. proto : String<http,tcp,tls,udp> external_access : Boolean tcp_proxy_opt : String<none,send-proxy,send-proxy-v2,send-proxy-v2-ssl,send-proxy-v2-ssl-cn> backend_ssl : String port : Integer restrict_cf : Boolean | If true, only allow CloudFlare tcp_lb : Boolean","title":"Create Ingress Rule"},{"location":"user_api/latest/network/#delete-ingress-rule","text":"DELETE /api/networks/ingress_rules/{id} OAuth AuthorizationRequired : projects_write","title":"Delete Ingress Rule"},{"location":"user_api/latest/network/#list-domains","text":"Find domains associated with this ingress rule GET /api/networks/ingress_rules/{id}/domains OAuth AuthorizationRequired : projects_read schema domains : Array<Domain>","title":"List Domains"},{"location":"user_api/latest/orders/","text":"Orders API \u00b6 List all orders \u00b6 GET /api/orders OAuth AuthorizationRequired : order_read schema orders : Array id : UUID status : String<open,pending,awaiting_payment,processing,cancelled,failed,completed project : Object id : Integer name : String created_at : DateTime updated_at : DateTime Get a single order \u00b6 GET /api/orders/{id} OAuth AuthorizationRequired : order_read schema orders : Object id : UUID status : String<open,pending,awaiting_payment,processing,cancelled,failed,completed project : Object id : Integer name : String created_at : DateTime updated_at : DateTime Create a new order \u00b6 POST /api/orders OAuth AuthorizationRequired : order_write schema order : Object project_name : String skip_ssh : Boolean location_id : Integer project_id : Integer | Only if adding to existing project containers : Array image_id : Integer domains : Array<String> | provide an optional list of domains you want added after the order is provisioned. resources : Object package_id : Integer params : Array key : String value : String","title":"Orders"},{"location":"user_api/latest/orders/#orders-api","text":"","title":"Orders API"},{"location":"user_api/latest/orders/#list-all-orders","text":"GET /api/orders OAuth AuthorizationRequired : order_read schema orders : Array id : UUID status : String<open,pending,awaiting_payment,processing,cancelled,failed,completed project : Object id : Integer name : String created_at : DateTime updated_at : DateTime","title":"List all orders"},{"location":"user_api/latest/orders/#get-a-single-order","text":"GET /api/orders/{id} OAuth AuthorizationRequired : order_read schema orders : Object id : UUID status : String<open,pending,awaiting_payment,processing,cancelled,failed,completed project : Object id : Integer name : String created_at : DateTime updated_at : DateTime","title":"Get a single order"},{"location":"user_api/latest/orders/#create-a-new-order","text":"POST /api/orders OAuth AuthorizationRequired : order_write schema order : Object project_name : String skip_ssh : Boolean location_id : Integer project_id : Integer | Only if adding to existing project containers : Array image_id : Integer domains : Array<String> | provide an optional list of domains you want added after the order is provisioned. resources : Object package_id : Integer params : Array key : String value : String","title":"Create a new order"},{"location":"user_api/latest/products/","text":"Products API \u00b6 Returns the available products and pricing for your current user List all available products \u00b6 GET /api/products OAuth AuthorizationRequired : profile_read schema products : Array id : Integer name : String price : String cpu : Decimal term : String<hour,month,year> memory : Integer bandwidth : Integer storage : Integer ipaddr : Integer backup : Integer swap : Integer region : Integer","title":"Products"},{"location":"user_api/latest/products/#products-api","text":"Returns the available products and pricing for your current user","title":"Products API"},{"location":"user_api/latest/products/#list-all-available-products","text":"GET /api/products OAuth AuthorizationRequired : profile_read schema products : Array id : Integer name : String price : String cpu : Decimal term : String<hour,month,year> memory : Integer bandwidth : Integer storage : Integer ipaddr : Integer backup : Integer swap : Integer region : Integer","title":"List all available products"},{"location":"user_api/latest/projects/","text":"Projects API \u00b6 List Projects \u00b6 GET /api/projects OAuth AuthorizationRequired : projects_read schema projects : Array id : Integer name : String skip_ssh : Boolean current_state : String<working,alert,ok,deleting> created_at : DateTime updated_at : DateTime container_image_ids : Array<Integer> links : Hash services : String (url) container_images : String (url) bastions : String (url) metadata : Hash icons : Array image_names : Array View Project \u00b6 GET /api/projects/{id} OAuth AuthorizationRequired : projects_read schema project : Object id : Integer name : String skip_ssh : Boolean current_state : String<working,alert,ok,deleting> created_at : DateTime updated_at : DateTime container_image_ids : Array<Integer> links : Hash services : String (url) container_images : String (url) bastions : String (url) metadata : Hash icons : Array image_names : Array Update Project \u00b6 PATCH /api/projects/{id} OAuth AuthorizationRequired : projects_write schema project : Object name : String","title":"Overview"},{"location":"user_api/latest/projects/#projects-api","text":"","title":"Projects API"},{"location":"user_api/latest/projects/#list-projects","text":"GET /api/projects OAuth AuthorizationRequired : projects_read schema projects : Array id : Integer name : String skip_ssh : Boolean current_state : String<working,alert,ok,deleting> created_at : DateTime updated_at : DateTime container_image_ids : Array<Integer> links : Hash services : String (url) container_images : String (url) bastions : String (url) metadata : Hash icons : Array image_names : Array","title":"List Projects"},{"location":"user_api/latest/projects/#view-project","text":"GET /api/projects/{id} OAuth AuthorizationRequired : projects_read schema project : Object id : Integer name : String skip_ssh : Boolean current_state : String<working,alert,ok,deleting> created_at : DateTime updated_at : DateTime container_image_ids : Array<Integer> links : Hash services : String (url) container_images : String (url) bastions : String (url) metadata : Hash icons : Array image_names : Array","title":"View Project"},{"location":"user_api/latest/projects/#update-project","text":"PATCH /api/projects/{id} OAuth AuthorizationRequired : projects_write schema project : Object name : String","title":"Update Project"},{"location":"user_api/latest/projects/collaborations/","text":"Projects Collaborators \u00b6 List All Collaborators \u00b6 GET /api/projects/{project-id}/collaborators OAuth AuthorizationRequired : projects_read Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String View Collaborator \u00b6 GET /api/projects/{project-id}/collaborators/{id} OAuth AuthorizationRequired : projects_read Schema collaboration : Object id : Integer project : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Create Collaborator Request \u00b6 POST /api/projects/{project-id}/collaborators OAuth AuthorizationRequired : projects_write Schema collaborator : Object user_email : String Remove Collaborator \u00b6 DELETE /api/projects/{project-id}/collaborators/{id} OAuth AuthorizationRequired : projects_write","title":"Collaborators"},{"location":"user_api/latest/projects/collaborations/#projects-collaborators","text":"","title":"Projects Collaborators"},{"location":"user_api/latest/projects/collaborations/#list-all-collaborators","text":"GET /api/projects/{project-id}/collaborators OAuth AuthorizationRequired : projects_read Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String","title":"List All Collaborators"},{"location":"user_api/latest/projects/collaborations/#view-collaborator","text":"GET /api/projects/{project-id}/collaborators/{id} OAuth AuthorizationRequired : projects_read Schema collaboration : Object id : Integer project : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaborator"},{"location":"user_api/latest/projects/collaborations/#create-collaborator-request","text":"POST /api/projects/{project-id}/collaborators OAuth AuthorizationRequired : projects_write Schema collaborator : Object user_email : String","title":"Create Collaborator Request"},{"location":"user_api/latest/projects/collaborations/#remove-collaborator","text":"DELETE /api/projects/{project-id}/collaborators/{id} OAuth AuthorizationRequired : projects_write","title":"Remove Collaborator"},{"location":"user_api/latest/projects/resources/","text":"Project Resources \u00b6 Bastion \u00b6 List Bastions \u00b6 SSH/SFTP Containers GET /api/projects/{project-id}/bastions OAuth AuthorizationRequired : projects_read schema bastions : Array id : Integer name : String status : String node_id : Integer ip_addr : String created_at : DateTime updated_at : DateTime port : Integer pw_auth : Boolean | If true, password auth is enabled. username : String password : String Reset Bastion Password \u00b6 POST /api/projects/{project-id}/bastions/{id}/reset_password OAuth AuthorizationRequired : projects_write Containers \u00b6 GET /api/projects/{project-id}/containers OAuth AuthorizationRequired : projects_read schema containers : Array<Container> Events \u00b6 GET /api/projects/{project-id}/events OAuth AuthorizationRequired : projects_read schema event_log : Array id : Integer locale : String status : String notice : Boolean state_reason : String event_code : String description : String created_at : DateTime updated_at : DateTime audit : Object id : Integer ip_addr : String event : String raw_data : String created_at : DateTime updated_at : DateTime user : Object id : Integer name : String Images \u00b6 GET /api/project/{project-id}/images OAuth AuthorizationRequired : projects_read schema container_images : Array<ContainerImage> Services \u00b6 GET /api/projects/{project-id}/services OAuth AuthorizationRequired : projects_read schema container_services : Array<ContainerService> container_images : Array<ContainerImage>","title":"Resources"},{"location":"user_api/latest/projects/resources/#project-resources","text":"","title":"Project Resources"},{"location":"user_api/latest/projects/resources/#bastion","text":"","title":"Bastion"},{"location":"user_api/latest/projects/resources/#list-bastions","text":"SSH/SFTP Containers GET /api/projects/{project-id}/bastions OAuth AuthorizationRequired : projects_read schema bastions : Array id : Integer name : String status : String node_id : Integer ip_addr : String created_at : DateTime updated_at : DateTime port : Integer pw_auth : Boolean | If true, password auth is enabled. username : String password : String","title":"List Bastions"},{"location":"user_api/latest/projects/resources/#reset-bastion-password","text":"POST /api/projects/{project-id}/bastions/{id}/reset_password OAuth AuthorizationRequired : projects_write","title":"Reset Bastion Password"},{"location":"user_api/latest/projects/resources/#containers","text":"GET /api/projects/{project-id}/containers OAuth AuthorizationRequired : projects_read schema containers : Array<Container>","title":"Containers"},{"location":"user_api/latest/projects/resources/#events","text":"GET /api/projects/{project-id}/events OAuth AuthorizationRequired : projects_read schema event_log : Array id : Integer locale : String status : String notice : Boolean state_reason : String event_code : String description : String created_at : DateTime updated_at : DateTime audit : Object id : Integer ip_addr : String event : String raw_data : String created_at : DateTime updated_at : DateTime user : Object id : Integer name : String","title":"Events"},{"location":"user_api/latest/projects/resources/#images","text":"GET /api/project/{project-id}/images OAuth AuthorizationRequired : projects_read schema container_images : Array<ContainerImage>","title":"Images"},{"location":"user_api/latest/projects/resources/#services","text":"GET /api/projects/{project-id}/services OAuth AuthorizationRequired : projects_read schema container_services : Array<ContainerService> container_images : Array<ContainerImage>","title":"Services"},{"location":"user_api/latest/subscriptions/","text":"Subscriptions API \u00b6 List all your subscriptions \u00b6 GET /api/subscriptions OAuth AuthorizationRequired : profile_read You can also view a subscription by passing it\u2019s external_id as the id , and adding the query param ?find_by_external_id=true to your request. schema subscriptions : Array id : Integer label : String external_id : String active : Boolean run_rate : Decimal created_at : DateTime updated_at : DateTime subscription_products : Array id : Integer external_id : String start_on : DateTime active : Boolean phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String kind : String resource_kind : String created_at : DateTime updated_at : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer billing_resource : Object id : Integer billing_plan_id : Integer external_id : String container : Object id : Integer name : String label : String load_balancer_id : Integer status : String cpu : Decimal memory : Integer created_at : DateTime updated_at : DateTime container_image : Object id : Integer label : String description : String image_url : String deployment : Object id : Integer name : String status : String created_at : DateTime updated_at : DateTime service : Object id : Integer name : String label : String created_at : DateTime updated_at : DateTime region : Object id : Integer name : String node : Object id : Integer label : String hostname : String primary_ip : String public_ip : String user : Object id : Integer full_name : String email : String external_id : String View a subscription GET /api/subscriptions/{id} OAuth AuthorizationRequired : profile_read schema subscriptions : Array id : Integer label : String external_id : String active : Boolean run_rate : Decimal created_at : DateTime updated_at : DateTime subscription_products : Array id : Integer external_id : String start_on : DateTime active : Boolean phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String kind : String resource_kind : String created_at : DateTime updated_at : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer billing_resource : Object id : Integer billing_plan_id : Integer external_id : String container : Object id : Integer name : String label : String load_balancer_id : Integer status : String cpu : Decimal memory : Integer created_at : DateTime updated_at : DateTime container_image : Object id : Integer label : String description : String image_url : String deployment : Object id : Integer name : String status : String created_at : DateTime updated_at : DateTime service : Object id : Integer name : String label : String created_at : DateTime updated_at : DateTime region : Object id : Integer name : String node : Object id : Integer label : String hostname : String primary_ip : String public_ip : String user : Object id : Integer full_name : String email : String external_id : String","title":"Overview"},{"location":"user_api/latest/subscriptions/#subscriptions-api","text":"","title":"Subscriptions API"},{"location":"user_api/latest/subscriptions/#list-all-your-subscriptions","text":"GET /api/subscriptions OAuth AuthorizationRequired : profile_read You can also view a subscription by passing it\u2019s external_id as the id , and adding the query param ?find_by_external_id=true to your request. schema subscriptions : Array id : Integer label : String external_id : String active : Boolean run_rate : Decimal created_at : DateTime updated_at : DateTime subscription_products : Array id : Integer external_id : String start_on : DateTime active : Boolean phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String kind : String resource_kind : String created_at : DateTime updated_at : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer billing_resource : Object id : Integer billing_plan_id : Integer external_id : String container : Object id : Integer name : String label : String load_balancer_id : Integer status : String cpu : Decimal memory : Integer created_at : DateTime updated_at : DateTime container_image : Object id : Integer label : String description : String image_url : String deployment : Object id : Integer name : String status : String created_at : DateTime updated_at : DateTime service : Object id : Integer name : String label : String created_at : DateTime updated_at : DateTime region : Object id : Integer name : String node : Object id : Integer label : String hostname : String primary_ip : String public_ip : String user : Object id : Integer full_name : String email : String external_id : String View a subscription GET /api/subscriptions/{id} OAuth AuthorizationRequired : profile_read schema subscriptions : Array id : Integer label : String external_id : String active : Boolean run_rate : Decimal created_at : DateTime updated_at : DateTime subscription_products : Array id : Integer external_id : String start_on : DateTime active : Boolean phase_type : String created_at : DateTime updated_at : DateTime product : Object id : Integer label : String kind : String resource_kind : String created_at : DateTime updated_at : DateTime package : Object id : Integer cpu : Decimal memory : Integer storage : Integer bandwidth : Integer local_disk : Integer memory_swap : Integer memory_swappiness : Integer billing_resource : Object id : Integer billing_plan_id : Integer external_id : String container : Object id : Integer name : String label : String load_balancer_id : Integer status : String cpu : Decimal memory : Integer created_at : DateTime updated_at : DateTime container_image : Object id : Integer label : String description : String image_url : String deployment : Object id : Integer name : String status : String created_at : DateTime updated_at : DateTime service : Object id : Integer name : String label : String created_at : DateTime updated_at : DateTime region : Object id : Integer name : String node : Object id : Integer label : String hostname : String primary_ip : String public_ip : String user : Object id : Integer full_name : String email : String external_id : String","title":"List all your subscriptions"},{"location":"user_api/latest/subscriptions/billing_events/","text":"Billing Events API \u00b6 List Events \u00b6 GET /api/subscriptions/{subscription-id}/billing_events OAuth AuthorizationRequired : profile_read schema billing_events : Array id : Integer from_status : Boolean to_status : Boolean from_phase : String<trial,discount,final> to_phase : String<trial,discount,final> from_resource_qty : Integer to_resource_qty : Integer created_at : DateTime updated_at : DateTime subscription : Object<Subscription> source_product : Object<Product> destination_product : Object<Product> View Event \u00b6 GET /api/subscriptions/{subscription-id}/billing_events/{id} OAuth AuthorizationRequired : profile_read schema billing_event : Object id : Integer from_status : Boolean to_status : Boolean from_phase : String<trial,discount,final> to_phase : String<trial,discount,final> from_resource_qty : Integer to_resource_qty : Integer created_at : DateTime updated_at : DateTime subscription : Object<Subscription> source_product : Object<Product> destination_product : Object<Product>","title":"Billing Events"},{"location":"user_api/latest/subscriptions/billing_events/#billing-events-api","text":"","title":"Billing Events API"},{"location":"user_api/latest/subscriptions/billing_events/#list-events","text":"GET /api/subscriptions/{subscription-id}/billing_events OAuth AuthorizationRequired : profile_read schema billing_events : Array id : Integer from_status : Boolean to_status : Boolean from_phase : String<trial,discount,final> to_phase : String<trial,discount,final> from_resource_qty : Integer to_resource_qty : Integer created_at : DateTime updated_at : DateTime subscription : Object<Subscription> source_product : Object<Product> destination_product : Object<Product>","title":"List Events"},{"location":"user_api/latest/subscriptions/billing_events/#view-event","text":"GET /api/subscriptions/{subscription-id}/billing_events/{id} OAuth AuthorizationRequired : profile_read schema billing_event : Object id : Integer from_status : Boolean to_status : Boolean from_phase : String<trial,discount,final> to_phase : String<trial,discount,final> from_resource_qty : Integer to_resource_qty : Integer created_at : DateTime updated_at : DateTime subscription : Object<Subscription> source_product : Object<Product> destination_product : Object<Product>","title":"View Event"},{"location":"user_api/latest/subscriptions/usage/","text":"Usage API \u00b6 List all usages \u00b6 GET /api/subscriptions/#{subscription-id}/billing_usage OAuth AuthorizationRequired : profile_read schema billing_usages : Array id : Integer period_start : DateTime period_end : DateTime external_id : String rate : Decimal qty : Decimal total : Decimal processed : Boolean processed_on : DateTime created_at : DateTime updated_at : DateTime product : Object<Product> user : Object id : Integer full_name : String email : String external_id : String View Usage Item \u00b6 GET /api/subscriptions/#{subscription-id}/billing_usage/{id} OAuth AuthorizationRequired : profile_read schema billing_usage : Object id : Integer period_start : DateTime period_end : DateTime external_id : String rate : Decimal qty : Decimal total : Decimal processed : Boolean processed_on : DateTime created_at : DateTime updated_at : DateTime product : Object<Product> user : Object id : Integer full_name : String email : String external_id : String","title":"Usage"},{"location":"user_api/latest/subscriptions/usage/#usage-api","text":"","title":"Usage API"},{"location":"user_api/latest/subscriptions/usage/#list-all-usages","text":"GET /api/subscriptions/#{subscription-id}/billing_usage OAuth AuthorizationRequired : profile_read schema billing_usages : Array id : Integer period_start : DateTime period_end : DateTime external_id : String rate : Decimal qty : Decimal total : Decimal processed : Boolean processed_on : DateTime created_at : DateTime updated_at : DateTime product : Object<Product> user : Object id : Integer full_name : String email : String external_id : String","title":"List all usages"},{"location":"user_api/latest/subscriptions/usage/#view-usage-item","text":"GET /api/subscriptions/#{subscription-id}/billing_usage/{id} OAuth AuthorizationRequired : profile_read schema billing_usage : Object id : Integer period_start : DateTime period_end : DateTime external_id : String rate : Decimal qty : Decimal total : Decimal processed : Boolean processed_on : DateTime created_at : DateTime updated_at : DateTime product : Object<Product> user : Object id : Integer full_name : String email : String external_id : String","title":"View Usage Item"},{"location":"user_api/latest/user/","text":"User API \u00b6 View your user account \u00b6 GET /api/users OAuth AuthorizationRequired : profile_read schema user : Object id : Integer fname : String lname : String email : String phone : String address1 : String address2 : String city : String company_name : String country : String timezone : String currency : Object code : String symbol : String c_sftp_pass : Boolean - Enable SFTP Auth on all new projects. zip : String vat : String state : String locale : String created_at : DateTime updated_at : DateTime billing_plan : Object id : Integer name : String services : Object projects : Integer containers : Integer container_services : Integer container_images : Integer container_registries : Integer dns_zones : Integer quota : Object ``: Object current : Integer quota : Integer is_over : Boolean available : Integer unprocessed_usage : Decimal | The amount the user has accrued, but not yet transferred to the billing system for billing. Example { \"user\" : { \"id\" : 1 , \"fname\" : \"John\" , \"lname\" : \"Doe\" , \"email\" : \"john@example.com\" , \"phone\" : null , \"address1\" : null , \"address2\" : null , \"city\" : null , \"company_name\" : null , \"country\" : \"US\" , \"timezone\" : \"America/Los_Angeles\" , \"currency\" : { \"code\" : \"USD\" , \"symbol\" : \"$\" }, \"zip\" : null , \"vat\" : null , \"state\" : null , \"locale\" : \"en\" , \"created_at\" : \"2019-04-04T07:36:50.637Z\" , \"updated_at\" : \"2019-09-19T19:16:07.155Z\" , \"billing_plan\" : { \"id\" : 1 , \"name\" : \"default\" }, \"services\" : { \"projects\" : 0 , \"containers\" : 0 , \"container_services\" : 0 , \"container_images\" : 1 , \"container_registries\" : 0 , \"dns_zones\" : 0 }, \"quota\" : { \"containers\" : { \"current\" : 0 , \"quota\" : 250 , \"is_over\" : false , \"available\" : 250 }, \"cr\" : { \"current\" : 0 , \"quota\" : 20 , \"is_over\" : false , \"available\" : 20 }, \"dns_zones\" : { \"current\" : 0 , \"quota\" : 250 , \"is_over\" : false , \"available\" : 250 } }, \"unprocessed_usage\" : 0.0 } } Update your user account \u00b6 PATCH /api/users OAuth AuthorizationRequired : profile_update schema user : Object fname : String lname : String email : String locale : String | locale code (example: en ) city : String state : String zip : String c_sftp_pass : Boolean country : String | Should be in the 2 digit format, e.g. US, CA, NL, etc. address1 : String address2 : String company_name : String phone : String currency : String merge_labels : Object Create New User \u00b6 POST /api/users OAuth AuthorizationRequired : register This is a special endpoint for use in conjunction with our embeddable interface. Users are not expected to be able to login directly after signup. Only available using the register scope. This will automatically generate api credentials This will not send an email confirmation If no email is provided, or if the email is already in use, this will generate a unique email address schema user : Object fname : String (required) lname : String (required) email : String locale : String | locale code (example: en ) city : String state : String zip : String c_sftp_pass : Boolean country : String | Should be in the 2 digit format, e.g. US, CA, NL, etc. address1 : String address2 : String company_name : String phone : String currency : String merge_labels : Object provider_server : String (required) | The url or unique server name of the provider\u2019s server. This is used to scope the username. provider_username : String (required) | the user\u2019s username on the server. Example { \"user\" : { \"fname\" : \"string\" , \"lname\" : \"string\" , \"email\" : \"string\" , \"locale\" : \"string\" , \"api\" : { \"username\" : \"string\" , \"password\" : \"string\" }, \"labels\" : { \"key\" : \"value\" , \"other_key\" : { \"key\" : \"value\" } } } }","title":"Overview"},{"location":"user_api/latest/user/#user-api","text":"","title":"User API"},{"location":"user_api/latest/user/#view-your-user-account","text":"GET /api/users OAuth AuthorizationRequired : profile_read schema user : Object id : Integer fname : String lname : String email : String phone : String address1 : String address2 : String city : String company_name : String country : String timezone : String currency : Object code : String symbol : String c_sftp_pass : Boolean - Enable SFTP Auth on all new projects. zip : String vat : String state : String locale : String created_at : DateTime updated_at : DateTime billing_plan : Object id : Integer name : String services : Object projects : Integer containers : Integer container_services : Integer container_images : Integer container_registries : Integer dns_zones : Integer quota : Object ``: Object current : Integer quota : Integer is_over : Boolean available : Integer unprocessed_usage : Decimal | The amount the user has accrued, but not yet transferred to the billing system for billing. Example { \"user\" : { \"id\" : 1 , \"fname\" : \"John\" , \"lname\" : \"Doe\" , \"email\" : \"john@example.com\" , \"phone\" : null , \"address1\" : null , \"address2\" : null , \"city\" : null , \"company_name\" : null , \"country\" : \"US\" , \"timezone\" : \"America/Los_Angeles\" , \"currency\" : { \"code\" : \"USD\" , \"symbol\" : \"$\" }, \"zip\" : null , \"vat\" : null , \"state\" : null , \"locale\" : \"en\" , \"created_at\" : \"2019-04-04T07:36:50.637Z\" , \"updated_at\" : \"2019-09-19T19:16:07.155Z\" , \"billing_plan\" : { \"id\" : 1 , \"name\" : \"default\" }, \"services\" : { \"projects\" : 0 , \"containers\" : 0 , \"container_services\" : 0 , \"container_images\" : 1 , \"container_registries\" : 0 , \"dns_zones\" : 0 }, \"quota\" : { \"containers\" : { \"current\" : 0 , \"quota\" : 250 , \"is_over\" : false , \"available\" : 250 }, \"cr\" : { \"current\" : 0 , \"quota\" : 20 , \"is_over\" : false , \"available\" : 20 }, \"dns_zones\" : { \"current\" : 0 , \"quota\" : 250 , \"is_over\" : false , \"available\" : 250 } }, \"unprocessed_usage\" : 0.0 } }","title":"View your user account"},{"location":"user_api/latest/user/#update-your-user-account","text":"PATCH /api/users OAuth AuthorizationRequired : profile_update schema user : Object fname : String lname : String email : String locale : String | locale code (example: en ) city : String state : String zip : String c_sftp_pass : Boolean country : String | Should be in the 2 digit format, e.g. US, CA, NL, etc. address1 : String address2 : String company_name : String phone : String currency : String merge_labels : Object","title":"Update your user account"},{"location":"user_api/latest/user/#create-new-user","text":"POST /api/users OAuth AuthorizationRequired : register This is a special endpoint for use in conjunction with our embeddable interface. Users are not expected to be able to login directly after signup. Only available using the register scope. This will automatically generate api credentials This will not send an email confirmation If no email is provided, or if the email is already in use, this will generate a unique email address schema user : Object fname : String (required) lname : String (required) email : String locale : String | locale code (example: en ) city : String state : String zip : String c_sftp_pass : Boolean country : String | Should be in the 2 digit format, e.g. US, CA, NL, etc. address1 : String address2 : String company_name : String phone : String currency : String merge_labels : Object provider_server : String (required) | The url or unique server name of the provider\u2019s server. This is used to scope the username. provider_username : String (required) | the user\u2019s username on the server. Example { \"user\" : { \"fname\" : \"string\" , \"lname\" : \"string\" , \"email\" : \"string\" , \"locale\" : \"string\" , \"api\" : { \"username\" : \"string\" , \"password\" : \"string\" }, \"labels\" : { \"key\" : \"value\" , \"other_key\" : { \"key\" : \"value\" } } } }","title":"Create New User"},{"location":"user_api/latest/user/ssh/","text":"SSH Key API \u00b6 List all SSH Keys \u00b6 GET /api/users/ssh_keys OAuth AuthorizationRequired : profile_read schema ssh_keys : Array id : Integer label : String created_at : DateTime updated_at : DateTime View SSH Keys \u00b6 GET /api/users/ssh_keys/{id} OAuth AuthorizationRequired : profile_read schema ssh_key : Object id : Integer label : String created_at : DateTime updated_at : DateTime Create SSH Key \u00b6 POST /api/users/ssh_keys OAuth AuthorizationRequired : profile_update schema ssh_key : Object pubkey : String Delete SSH Key \u00b6 DELETE /api/users/ssh_keys/{id} OAuth AuthorizationRequired : profile_update","title":"SSH Keys"},{"location":"user_api/latest/user/ssh/#ssh-key-api","text":"","title":"SSH Key API"},{"location":"user_api/latest/user/ssh/#list-all-ssh-keys","text":"GET /api/users/ssh_keys OAuth AuthorizationRequired : profile_read schema ssh_keys : Array id : Integer label : String created_at : DateTime updated_at : DateTime","title":"List all SSH Keys"},{"location":"user_api/latest/user/ssh/#view-ssh-keys","text":"GET /api/users/ssh_keys/{id} OAuth AuthorizationRequired : profile_read schema ssh_key : Object id : Integer label : String created_at : DateTime updated_at : DateTime","title":"View SSH Keys"},{"location":"user_api/latest/user/ssh/#create-ssh-key","text":"POST /api/users/ssh_keys OAuth AuthorizationRequired : profile_update schema ssh_key : Object pubkey : String","title":"Create SSH Key"},{"location":"user_api/latest/user/ssh/#delete-ssh-key","text":"DELETE /api/users/ssh_keys/{id} OAuth AuthorizationRequired : profile_update","title":"Delete SSH Key"},{"location":"user_api/latest/volumes/","text":"Volumes API \u00b6 List all volumes \u00b6 GET /api/volumes OAuth AuthorizationRequired : projects_read schema volumes : Array id : Integer name : String label : String container_path : String region_id : Integer container_service_id : Integer to_trash : Boolean trash_after : DateTime size : Decimal usage : Decimal usage_checked : DateTime trashed_by_id : Integer detached_at : DateTime subscription_id : Integer enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> updated_at : DateTime created_at : DateTime View Volume \u00b6 GET /api/volumes/{id} OAuth AuthorizationRequired : projects_read schema volume : Object id : Integer name : String label : String container_path : String region_id : Integer container_service_id : Integer to_trash : Boolean trash_after : DateTime size : Decimal usage : Decimal usage_checked : DateTime trashed_by_id : Integer detached_at : DateTime subscription_id : Integer enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> updated_at : DateTime created_at : DateTime","title":"Overview"},{"location":"user_api/latest/volumes/#volumes-api","text":"","title":"Volumes API"},{"location":"user_api/latest/volumes/#list-all-volumes","text":"GET /api/volumes OAuth AuthorizationRequired : projects_read schema volumes : Array id : Integer name : String label : String container_path : String region_id : Integer container_service_id : Integer to_trash : Boolean trash_after : DateTime size : Decimal usage : Decimal usage_checked : DateTime trashed_by_id : Integer detached_at : DateTime subscription_id : Integer enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> updated_at : DateTime created_at : DateTime","title":"List all volumes"},{"location":"user_api/latest/volumes/#view-volume","text":"GET /api/volumes/{id} OAuth AuthorizationRequired : projects_read schema volume : Object id : Integer name : String label : String container_path : String region_id : Integer container_service_id : Integer to_trash : Boolean trash_after : DateTime size : Decimal usage : Decimal usage_checked : DateTime trashed_by_id : Integer detached_at : DateTime subscription_id : Integer enable_sftp : Boolean borg_enabled : Boolean borg_freq : String borg_strategy : String<file,mysql> borg_keep_hourly : Integer borg_keep_daily : Integer borg_keep_weekly : Integer borg_keep_monthly : Integer borg_keep_annually : Integer borg_pre_backup : Array<String> borg_post_backup : Array<String> borg_pre_restore : Array<String> borg_post_restore : Array<String> borg_rollback : Array<String> updated_at : DateTime created_at : DateTime","title":"View Volume"},{"location":"user_api/latest/volumes/backup/","text":"Backups API \u00b6 List all backups \u00b6 GET /api/volumes/{volume-id}/backups OAuth AuthorizationRequired : projects_read schema name : String usage : Integer | Size on disk (deduplicated) size : Integer | Expanded total size archives : Array<String> Create a backup \u00b6 POST /volumes/{volume-id}/backups OAuth AuthorizationRequired : projects_write schema name : String | Name of backup. Must be at least 3 characters long, and should not include spaces. Restore a backup \u00b6 POST /volumes/{volume-id}/restore OAuth AuthorizationRequired : projects_write schema name : String | Name of backup to restore","title":"Backups"},{"location":"user_api/latest/volumes/backup/#backups-api","text":"","title":"Backups API"},{"location":"user_api/latest/volumes/backup/#list-all-backups","text":"GET /api/volumes/{volume-id}/backups OAuth AuthorizationRequired : projects_read schema name : String usage : Integer | Size on disk (deduplicated) size : Integer | Expanded total size archives : Array<String>","title":"List all backups"},{"location":"user_api/latest/volumes/backup/#create-a-backup","text":"POST /volumes/{volume-id}/backups OAuth AuthorizationRequired : projects_write schema name : String | Name of backup. Must be at least 3 characters long, and should not include spaces.","title":"Create a backup"},{"location":"user_api/latest/volumes/backup/#restore-a-backup","text":"POST /volumes/{volume-id}/restore OAuth AuthorizationRequired : projects_write schema name : String | Name of backup to restore","title":"Restore a backup"},{"location":"user_api/latest/zones/","text":"DNS Zones \u00b6 List all zones \u00b6 GET /api/zones OAuth AuthorizationRequired : dns_read schema zones : Array id : Integer name : String created_at : DateTime updated_at : DateTime View zone \u00b6 GET /api/zones/{id} OAuth AuthorizationRequired : dns_read schema zone : id : Integer name : String records : Object A : Array ... created_at : DateTime updated_at : DateTime Example { \"zone\" : { \"id\" : 2 , \"name\" : \"mytestdomain.net\" , \"created_at\" : \"2019-08-26T17:22:39.333Z\" , \"updated_at\" : \"2019-08-26T17:22:39.333Z\" , \"records\" : { \"A\" : [], \"AAAA\" : [], \"CAA\" : [], \"CNAME\" : [], \"DS\" : [], \"HINFO\" : [], \"MX\" : [], \"NAPTR\" : [], \"NS\" : [ { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"NS\" , \"name\" : \"mytestdomain.net\" , \"hostname\" : \"ns1.auto-dns.com\" }, { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"NS\" , \"name\" : \"mytestdomain.net\" , \"hostname\" : \"ns2.auto-dns.com\" }, { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"NS\" , \"name\" : \"mytestdomain.net\" , \"hostname\" : \"ns3.autodns.nl\" }, { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"NS\" , \"name\" : \"mytestdomain.net\" , \"hostname\" : \"ns4.autodns.nl\" } ], \"PTR\" : [], \"SRV\" : [], \"SOA\" : [ { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"SOA\" , \"refresh\" : 43200 , \"retry\" : 7200 , \"expire\" : 1209600 , \"email\" : \"dns@usr.cloud\" , \"default\" : 86400 } ], \"SSHFP\" : [], \"TLSA\" : [], \"TXT\" : [] } } }","title":"Overview"},{"location":"user_api/latest/zones/#dns-zones","text":"","title":"DNS Zones"},{"location":"user_api/latest/zones/#list-all-zones","text":"GET /api/zones OAuth AuthorizationRequired : dns_read schema zones : Array id : Integer name : String created_at : DateTime updated_at : DateTime","title":"List all zones"},{"location":"user_api/latest/zones/#view-zone","text":"GET /api/zones/{id} OAuth AuthorizationRequired : dns_read schema zone : id : Integer name : String records : Object A : Array ... created_at : DateTime updated_at : DateTime Example { \"zone\" : { \"id\" : 2 , \"name\" : \"mytestdomain.net\" , \"created_at\" : \"2019-08-26T17:22:39.333Z\" , \"updated_at\" : \"2019-08-26T17:22:39.333Z\" , \"records\" : { \"A\" : [], \"AAAA\" : [], \"CAA\" : [], \"CNAME\" : [], \"DS\" : [], \"HINFO\" : [], \"MX\" : [], \"NAPTR\" : [], \"NS\" : [ { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"NS\" , \"name\" : \"mytestdomain.net\" , \"hostname\" : \"ns1.auto-dns.com\" }, { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"NS\" , \"name\" : \"mytestdomain.net\" , \"hostname\" : \"ns2.auto-dns.com\" }, { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"NS\" , \"name\" : \"mytestdomain.net\" , \"hostname\" : \"ns3.autodns.nl\" }, { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"NS\" , \"name\" : \"mytestdomain.net\" , \"hostname\" : \"ns4.autodns.nl\" } ], \"PTR\" : [], \"SRV\" : [], \"SOA\" : [ { \"ttl\" : 86400 , \"zone_id\" : \"mytestdomain.net\" , \"type\" : \"SOA\" , \"refresh\" : 43200 , \"retry\" : 7200 , \"expire\" : 1209600 , \"email\" : \"dns@usr.cloud\" , \"default\" : 86400 } ], \"SSHFP\" : [], \"TLSA\" : [], \"TXT\" : [] } } }","title":"View zone"},{"location":"user_api/latest/zones/collaborations/","text":"DNS Zone Collaborator Collaborators \u00b6 List All Collaborators \u00b6 GET /api/zones/{zone-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String View Collaborator \u00b6 GET /api/zones/{zone-id}/collaborators/{id} Schema collaboration : Object id : Integer zone : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String Create Collaborator Request \u00b6 POST /api/zones/{zone-id}/collaborators Schema collaborator : Object user_email : String Remove Collaborator \u00b6 DELETE /api/zones/{zone-id}/collaborators/{id}","title":"Collaborators"},{"location":"user_api/latest/zones/collaborations/#dns-zone-collaborator-collaborators","text":"","title":"DNS Zone Collaborator Collaborators"},{"location":"user_api/latest/zones/collaborations/#list-all-collaborators","text":"GET /api/zones/{zone-id}/collaborators Schema collaborations : Array id : Integer resource_owner : Object id : Integer email : String full_name : String","title":"List All Collaborators"},{"location":"user_api/latest/zones/collaborations/#view-collaborator","text":"GET /api/zones/{zone-id}/collaborators/{id} Schema collaboration : Object id : Integer zone : Object id : Integer name : String resource_owner : Object id : Integer email : String full_name : String","title":"View Collaborator"},{"location":"user_api/latest/zones/collaborations/#create-collaborator-request","text":"POST /api/zones/{zone-id}/collaborators Schema collaborator : Object user_email : String","title":"Create Collaborator Request"},{"location":"user_api/latest/zones/collaborations/#remove-collaborator","text":"DELETE /api/zones/{zone-id}/collaborators/{id}","title":"Remove Collaborator"},{"location":"user_guide/","text":"User Guide \u00b6 Welcome to the end-user guide for ComputeStacks! Frequently Asked Questions \u00b6 How do I access my container? You may access your projects private network and files through our SSH/SFTP container. ( learn more ) Depending on your use case, you may also enable public access directly to your container by editing the ingress rule. What if the image I want isn\u2019t available? If you\u2019re looking for a specific image, we suggest you reach out to your service provider for help in getting that added to ComputeStacks. Additionally, if you\u2019re comfortable building your own images, please refer to our Building Images documentation. How do I send mail from my website? Please see our how to send mail guide. Getting Help \u00b6 If you\u2019re a customer of ComputeStacks, you may contact us through our normal support channels. If you\u2019re a customer of one of our providers, please contact your hosting provider through their normal support system.","title":"Overview"},{"location":"user_guide/#user-guide","text":"Welcome to the end-user guide for ComputeStacks!","title":"User Guide"},{"location":"user_guide/#frequently-asked-questions","text":"How do I access my container? You may access your projects private network and files through our SSH/SFTP container. ( learn more ) Depending on your use case, you may also enable public access directly to your container by editing the ingress rule. What if the image I want isn\u2019t available? If you\u2019re looking for a specific image, we suggest you reach out to your service provider for help in getting that added to ComputeStacks. Additionally, if you\u2019re comfortable building your own images, please refer to our Building Images documentation. How do I send mail from my website? Please see our how to send mail guide.","title":"Frequently Asked Questions"},{"location":"user_guide/#getting-help","text":"If you\u2019re a customer of ComputeStacks, you may contact us through our normal support channels. If you\u2019re a customer of one of our providers, please contact your hosting provider through their normal support system.","title":"Getting Help"},{"location":"user_guide/backups/","text":"Backup System \u00b6 Included in ComputeStacks, is a powerful backup solution that allows for both automated and on-demand backups of your volumes. Key Features \u00b6 De-Duplication of stored data Encrypted Built-in MySQL agent for low-impact, point in time snapshots. Control how often backups are taken, and how many copies to keep 1-click restore Configuring Backups \u00b6 Backups are configured on a per-volume basis, and not per-container. It is primarily for this reason we recommend using a single volume with your container. Backups Enabled Enable or Disable backups Schedule The cron syntax is a powerful way of defining how often a particular job should run. Using this, you can fully customize when your backup jobs are performed. We also include some helpful shortcuts, which we recommend for most users: @hourly @daily (or @midnight) @weekly @monthly @yearly (or @annually) For advanced customization, here is the full syntax: * * * * * * | | | | | | | | | | | +-- Year (range: 1900-3000) (optional field) | | | | +---- Day of the Week (range: 0-6, 0 standing for Sunday) | | | +------ Month of the Year (range: 1-12, 1 standing for Jan) | | +-------- Day of the Month (range: 1-31) | +---------- Hour (range: 0-23) +------------ Minute (range: 0-59) Note: The maximum frequency is every 15 minutes for file-based volumes, and hourly for everything else. Data Type The default is Files , which will just perform a file-level snapshot. Choosing another option will use a specific recipe for that data type. Retention Settings Each option corresponds to a backup slot that will be filled. However, if only 1 backup exists that meets multiple retention slots, then only 1 backup will be kept. For example, if you have a Retention setting of 1 Hourly, and 1 Daily, and your Schedule is @hourly , then at the end of the day you will have 2 backups. 1 Hourly, and 1 Daily. If, for example, had a Schedule of @daily , you would only have 1 backup. Custom Hooks Tell ComputeStacks to run scripts inside your container during certain points of the backup & restore process. You must ensure that your script exits with code 0 , otherwise we will assume the script failed. It's also important that you wrap your scripts in `bash` or `sh`. For example: /bin/bash /path/to/script /bin/bash -c \"whoami\" Note: For all of our Data Types , we already configure snapshots before a restore is performed. This allows us to recover from a failed restore.","title":"Backups"},{"location":"user_guide/backups/#backup-system","text":"Included in ComputeStacks, is a powerful backup solution that allows for both automated and on-demand backups of your volumes.","title":"Backup System"},{"location":"user_guide/backups/#key-features","text":"De-Duplication of stored data Encrypted Built-in MySQL agent for low-impact, point in time snapshots. Control how often backups are taken, and how many copies to keep 1-click restore","title":"Key Features"},{"location":"user_guide/backups/#configuring-backups","text":"Backups are configured on a per-volume basis, and not per-container. It is primarily for this reason we recommend using a single volume with your container. Backups Enabled Enable or Disable backups Schedule The cron syntax is a powerful way of defining how often a particular job should run. Using this, you can fully customize when your backup jobs are performed. We also include some helpful shortcuts, which we recommend for most users: @hourly @daily (or @midnight) @weekly @monthly @yearly (or @annually) For advanced customization, here is the full syntax: * * * * * * | | | | | | | | | | | +-- Year (range: 1900-3000) (optional field) | | | | +---- Day of the Week (range: 0-6, 0 standing for Sunday) | | | +------ Month of the Year (range: 1-12, 1 standing for Jan) | | +-------- Day of the Month (range: 1-31) | +---------- Hour (range: 0-23) +------------ Minute (range: 0-59) Note: The maximum frequency is every 15 minutes for file-based volumes, and hourly for everything else. Data Type The default is Files , which will just perform a file-level snapshot. Choosing another option will use a specific recipe for that data type. Retention Settings Each option corresponds to a backup slot that will be filled. However, if only 1 backup exists that meets multiple retention slots, then only 1 backup will be kept. For example, if you have a Retention setting of 1 Hourly, and 1 Daily, and your Schedule is @hourly , then at the end of the day you will have 2 backups. 1 Hourly, and 1 Daily. If, for example, had a Schedule of @daily , you would only have 1 backup. Custom Hooks Tell ComputeStacks to run scripts inside your container during certain points of the backup & restore process. You must ensure that your script exits with code 0 , otherwise we will assume the script failed. It's also important that you wrap your scripts in `bash` or `sh`. For example: /bin/bash /path/to/script /bin/bash -c \"whoami\" Note: For all of our Data Types , we already configure snapshots before a restore is performed. This allows us to recover from a failed restore.","title":"Configuring Backups"},{"location":"user_guide/developer-tools/","text":"Developer Tools \u00b6 Automating and extending functionality \u00b6 We offer a full REST API, our current documentation is available here . Metadata Service \u00b6 To aid in building complex container setups, ComputeStacks provides an easy metadata service to running containers. This allows any running container to authenticate with the ComputeStacks API and access realtime information about all the running services and containers in their project. Here is an example curl request that can be run from any container: curl -H \"Content-Type: application/json\" -H \"Authorization: Bearer ${ METADATA_AUTH } \" $METADATA_URL Example Response { \"current_service_id\" : 449 , \"project\" : { \"id\" : 271 , \"name\" : \"test\" }, \"services\" : [ { \"id\" : 449 , \"name\" : \"elated-newton271\" , \"label\" : \"elated-newton271\" , \"created_at\" : \"2020-01-09T23:29:24.161Z\" , \"updated_at\" : \"2020-01-09T23:29:32.946Z\" , \"domains\" : [ \"elated-newton271217.a.cs.local\" ], \"image\" : { \"id\" : 131 , \"label\" : \"nginx\" , \"role\" : \"nginx\" , \"category\" : \"web\" , \"tags\" : [] }, \"containers\" : [ { \"id\" : 465 , \"name\" : \"elated-newton271-480\" , \"ip\" : \"10.100.0.116\" } ], \"ingress_rules\" : [ { \"proto\" : \"http\" , \"port\" : 80 , \"external_access\" : true , \"backend_ssl\" : false , \"tcp_proxy_opt\" : \"none\" , \"nat\" : null } ], \"settings\" : [ { \"id\" : 448 , \"name\" : \"some_param\" , \"label\" : \"My Param\" , \"param_type\" : \"static\" , \"decrypted_value\" : \"my param\" , \"created_at\" : \"2020-01-09T22:16:32.600Z\" , \"updated_at\" : \"2020-01-09T22:16:32.600Z\" } ] } ] } Authentication and Single Sign On (SSO) \u00b6 ComputeStacks includes an OAuth2 authentication system which allows you to build custom applications that allow endusers to authenticate directly with ComputeStacks. More information is available in our API Documentation","title":"Developer Tools"},{"location":"user_guide/developer-tools/#developer-tools","text":"","title":"Developer Tools"},{"location":"user_guide/developer-tools/#automating-and-extending-functionality","text":"We offer a full REST API, our current documentation is available here .","title":"Automating and extending functionality"},{"location":"user_guide/developer-tools/#metadata-service","text":"To aid in building complex container setups, ComputeStacks provides an easy metadata service to running containers. This allows any running container to authenticate with the ComputeStacks API and access realtime information about all the running services and containers in their project. Here is an example curl request that can be run from any container: curl -H \"Content-Type: application/json\" -H \"Authorization: Bearer ${ METADATA_AUTH } \" $METADATA_URL Example Response { \"current_service_id\" : 449 , \"project\" : { \"id\" : 271 , \"name\" : \"test\" }, \"services\" : [ { \"id\" : 449 , \"name\" : \"elated-newton271\" , \"label\" : \"elated-newton271\" , \"created_at\" : \"2020-01-09T23:29:24.161Z\" , \"updated_at\" : \"2020-01-09T23:29:32.946Z\" , \"domains\" : [ \"elated-newton271217.a.cs.local\" ], \"image\" : { \"id\" : 131 , \"label\" : \"nginx\" , \"role\" : \"nginx\" , \"category\" : \"web\" , \"tags\" : [] }, \"containers\" : [ { \"id\" : 465 , \"name\" : \"elated-newton271-480\" , \"ip\" : \"10.100.0.116\" } ], \"ingress_rules\" : [ { \"proto\" : \"http\" , \"port\" : 80 , \"external_access\" : true , \"backend_ssl\" : false , \"tcp_proxy_opt\" : \"none\" , \"nat\" : null } ], \"settings\" : [ { \"id\" : 448 , \"name\" : \"some_param\" , \"label\" : \"My Param\" , \"param_type\" : \"static\" , \"decrypted_value\" : \"my param\" , \"created_at\" : \"2020-01-09T22:16:32.600Z\" , \"updated_at\" : \"2020-01-09T22:16:32.600Z\" } ] } ] }","title":"Metadata Service"},{"location":"user_guide/developer-tools/#authentication-and-single-sign-on-sso","text":"ComputeStacks includes an OAuth2 authentication system which allows you to build custom applications that allow endusers to authenticate directly with ComputeStacks. More information is available in our API Documentation","title":"Authentication and Single Sign On (SSO)"},{"location":"user_guide/container_images/elastic-search/","text":"ElasticSearch with Wordpress \u00b6 This guide specifically covers integrating ElasticSearch for Wordpress, however many of the procedures can be applied to any existing application. Our ElasticSearch implementation was specifically designed to work with Wordpress, ElasticPress , and include support for auto-suggesting search results. We run nginx as a secure frontend for our ElasticSearch service in order to provide both password authentication, and secure read-only access for auto-suggest results. Installation \u00b6 Installation of ElasticSearch is as easy and choosing the service during the order process in ComputeStacks. All of the initial configuration will be handled automatically. Configure Wordpress \u00b6 Install ElasticPress from the plugin section in wp-admin and activate it. Skip past the hosted options and choose self host and enter your ElasticSearch details. (Replace [password] with your elastic search password) If you\u2019re using our full standalone controller, then you will need to find the password from your service overview page and manually type in the url: https://admin:[password]@[your-url] The last step is to setup auto-suggest (optional). The first thing you will need to do is find the name of your elastic search index. This is dynamically generated based on the domain name of your wordpress site, so you will need to update this if you ever change your url. Under ElasticPress, click Index Health . Listed in the upper left-hand corner will be your index name. Now, navigate to Settings in ElasticPress and expand the auto-suggest section and enable auto-suggest, and add your URL, which will be in the form of: https://your-url/autosuggest/[indexName]","title":"ElasticSearch"},{"location":"user_guide/container_images/elastic-search/#elasticsearch-with-wordpress","text":"This guide specifically covers integrating ElasticSearch for Wordpress, however many of the procedures can be applied to any existing application. Our ElasticSearch implementation was specifically designed to work with Wordpress, ElasticPress , and include support for auto-suggesting search results. We run nginx as a secure frontend for our ElasticSearch service in order to provide both password authentication, and secure read-only access for auto-suggest results.","title":"ElasticSearch with Wordpress"},{"location":"user_guide/container_images/elastic-search/#installation","text":"Installation of ElasticSearch is as easy and choosing the service during the order process in ComputeStacks. All of the initial configuration will be handled automatically.","title":"Installation"},{"location":"user_guide/container_images/elastic-search/#configure-wordpress","text":"Install ElasticPress from the plugin section in wp-admin and activate it. Skip past the hosted options and choose self host and enter your ElasticSearch details. (Replace [password] with your elastic search password) If you\u2019re using our full standalone controller, then you will need to find the password from your service overview page and manually type in the url: https://admin:[password]@[your-url] The last step is to setup auto-suggest (optional). The first thing you will need to do is find the name of your elastic search index. This is dynamically generated based on the domain name of your wordpress site, so you will need to update this if you ever change your url. Under ElasticPress, click Index Health . Listed in the upper left-hand corner will be your index name. Now, navigate to Settings in ElasticPress and expand the auto-suggest section and enable auto-suggest, and add your URL, which will be in the form of: https://your-url/autosuggest/[indexName]","title":"Configure Wordpress"},{"location":"user_guide/container_images/redis/","text":"Redis Guide \u00b6 Redis is a very fast, lightweight, single-threaded key-value store. While it\u2019s typically used as an in-memory cache, it\u2019s also capable of acting as a persistent data store for your application. Within the ComputeStacks environment, the default configuration makes a few opinionated decisions on your behalf, however it\u2019s easy to create your own custom redis image for your unique situation. Key Features of the default Redis Configuration \u00b6 In-memory only, no disk snapshots Password protected TLS encryption when connecting to redis externally (outside the project) In order to use TLS with PHP, you must be using php v7.2+ , and phpredis v5.0+ . Connecting to Redis \u00b6 Inside the project \u00b6 Connecting to redis from an application inside the same project will work just like normal. Simply enter the private IP address of the redis container, add the authentication password, and connect. The port will be the default 6379 . External Connections \u00b6 Connecting from outside your redis project will require a few additional steps. Depending on your providers setup, you may already have your redis container exposed to the world. To verify that, navigate to your redis service and look at the ingress rules. You want to see a number under Public Port , and the protocol should be tcp+tls -> tcp . The protocol just means that the global load balancer is performing tls termination for you, and passing the un-encrypted tcp connection back to redis (redis does not natively support tls) . If you don\u2019t have a public port, or the protocol does not say tls , you will want to edit the ingress rule and perform the following steps: Check Enable External Access? Set the Protocol to TCP+TLS . View Public Connection Details Controller Example Connecting Your Application In your application, you will want to use the following URL in your app: tls://<my-domain> . If your application requires the port be included in the URI string, then you can add :<public-port> to that. You will also want to add the redis password provided by ComputeStacks. Example PHP connection <?php echo \"<h1>Redis Test Connection</h1>\" ; echo '<strong>Current PHP version: ' . phpversion () . \"</strong>\" ; echo \"<hr>\" ; echo \"Connection Result: \" ; $redis = new Redis (); $redis -> connect ( 'tls://url' , port ); $redis -> auth ( 'password' ); echo $redis -> ping ( \"It works!\" ); Video Demos \u00b6 (VIDEO) Adding Redis to Wordpress","title":"Redis"},{"location":"user_guide/container_images/redis/#redis-guide","text":"Redis is a very fast, lightweight, single-threaded key-value store. While it\u2019s typically used as an in-memory cache, it\u2019s also capable of acting as a persistent data store for your application. Within the ComputeStacks environment, the default configuration makes a few opinionated decisions on your behalf, however it\u2019s easy to create your own custom redis image for your unique situation.","title":"Redis Guide"},{"location":"user_guide/container_images/redis/#key-features-of-the-default-redis-configuration","text":"In-memory only, no disk snapshots Password protected TLS encryption when connecting to redis externally (outside the project) In order to use TLS with PHP, you must be using php v7.2+ , and phpredis v5.0+ .","title":"Key Features of the default Redis Configuration"},{"location":"user_guide/container_images/redis/#connecting-to-redis","text":"","title":"Connecting to Redis"},{"location":"user_guide/container_images/redis/#inside-the-project","text":"Connecting to redis from an application inside the same project will work just like normal. Simply enter the private IP address of the redis container, add the authentication password, and connect. The port will be the default 6379 .","title":"Inside the project"},{"location":"user_guide/container_images/redis/#external-connections","text":"Connecting from outside your redis project will require a few additional steps. Depending on your providers setup, you may already have your redis container exposed to the world. To verify that, navigate to your redis service and look at the ingress rules. You want to see a number under Public Port , and the protocol should be tcp+tls -> tcp . The protocol just means that the global load balancer is performing tls termination for you, and passing the un-encrypted tcp connection back to redis (redis does not natively support tls) . If you don\u2019t have a public port, or the protocol does not say tls , you will want to edit the ingress rule and perform the following steps: Check Enable External Access? Set the Protocol to TCP+TLS .","title":"External Connections"},{"location":"user_guide/container_images/redis/#video-demos","text":"(VIDEO) Adding Redis to Wordpress","title":"Video Demos"},{"location":"user_guide/container_images/whmcs/","text":"Running WHMCS on ComputeStacks \u00b6 Using our provided image , it\u2019s easy to deploy and manage WHMCS on ComputeStacks. Our image is based on our php7.3-litespeed image which includes support for cron. Key Facts: All files are stored in /var/www/html Cron is managed here: /var/www/html/crontab Simply add your changes here and restart the container to activate them The document root for this container will be /var/www/html/whmcs/whmcs-public . This layout allows you to make the recommended modifications to WHMCS by moving templates_c , downloads , and attachments , outside of the public directory. Complete Installation \u00b6 After launching for the first time, the container will automatically create the database and install WHMCS to the directory structure listed above. To finalize the process, you will need to complete the last steps by using the WHMCS web installer. Navigate to your site\u2019s URL and follow the steps they list. Config Option Value Database Host This will be the private IP Address of the database container that would have been added during the initial order Database Name This will be the name of the WHMCS service without the dash. For example, if your WHMCS service was friendly-newton3 , the dbname would be friendlynewton3 . Database Port 3306 Database Username root Database Password This will be visible under the database service in ComputeStacks. Next Steps \u00b6 Please review the WHMCS Further Security Steps","title":"WHMCS"},{"location":"user_guide/container_images/whmcs/#running-whmcs-on-computestacks","text":"Using our provided image , it\u2019s easy to deploy and manage WHMCS on ComputeStacks. Our image is based on our php7.3-litespeed image which includes support for cron. Key Facts: All files are stored in /var/www/html Cron is managed here: /var/www/html/crontab Simply add your changes here and restart the container to activate them The document root for this container will be /var/www/html/whmcs/whmcs-public . This layout allows you to make the recommended modifications to WHMCS by moving templates_c , downloads , and attachments , outside of the public directory.","title":"Running WHMCS on ComputeStacks"},{"location":"user_guide/container_images/whmcs/#complete-installation","text":"After launching for the first time, the container will automatically create the database and install WHMCS to the directory structure listed above. To finalize the process, you will need to complete the last steps by using the WHMCS web installer. Navigate to your site\u2019s URL and follow the steps they list. Config Option Value Database Host This will be the private IP Address of the database container that would have been added during the initial order Database Name This will be the name of the WHMCS service without the dash. For example, if your WHMCS service was friendly-newton3 , the dbname would be friendlynewton3 . Database Port 3306 Database Username root Database Password This will be visible under the database service in ComputeStacks.","title":"Complete Installation"},{"location":"user_guide/container_images/whmcs/#next-steps","text":"Please review the WHMCS Further Security Steps","title":"Next Steps"},{"location":"user_guide/container_images/wordpress/","text":"Wordpress \u00b6 ComputeStacks offers an Open LiteSpeed based container image, designed to offer compatibility with common .htaccess directives, while offering exceptional performance . Caching Plugin \u00b6 Litespeed has developed their own caching plugin , which we highly recommend you use. We have found stability issues with other popular wordpress plugins. The Litespeed plugin has full support for adding a Redis cache. Sending Mail \u00b6 Beginning with our php7.4 image, we now include a built-in MTA to allow wordpress to send mail without any kind of additional plugin . However, by default this is disabled. To activate mail, find an SMTP provider of your choice such as Postmark, SendInBlue, Sendgrid, or Mailgun, and edit your wordpres service and add the following environmental variables: Name Required Value Default SMTP_SERVER Yes IP or Hostname of the SMTP server null SMTP_PASSWORD Yes SMTP Password null SMTP_USERNAME Yes Username null SMTP_PORT Yes smtp port null PM_STREAM No Postmark Message Stream ID null Please see our guide to sending mail . WP CLI \u00b6 wp is installed and ready to use via our SSH container.","title":"Overview"},{"location":"user_guide/container_images/wordpress/#wordpress","text":"ComputeStacks offers an Open LiteSpeed based container image, designed to offer compatibility with common .htaccess directives, while offering exceptional performance .","title":"Wordpress"},{"location":"user_guide/container_images/wordpress/#caching-plugin","text":"Litespeed has developed their own caching plugin , which we highly recommend you use. We have found stability issues with other popular wordpress plugins. The Litespeed plugin has full support for adding a Redis cache.","title":"Caching Plugin"},{"location":"user_guide/container_images/wordpress/#sending-mail","text":"Beginning with our php7.4 image, we now include a built-in MTA to allow wordpress to send mail without any kind of additional plugin . However, by default this is disabled. To activate mail, find an SMTP provider of your choice such as Postmark, SendInBlue, Sendgrid, or Mailgun, and edit your wordpres service and add the following environmental variables: Name Required Value Default SMTP_SERVER Yes IP or Hostname of the SMTP server null SMTP_PASSWORD Yes SMTP Password null SMTP_USERNAME Yes Username null SMTP_PORT Yes smtp port null PM_STREAM No Postmark Message Stream ID null Please see our guide to sending mail .","title":"Sending Mail"},{"location":"user_guide/container_images/wordpress/#wp-cli","text":"wp is installed and ready to use via our SSH container.","title":"WP CLI"},{"location":"user_guide/container_images/wordpress_apache/","text":"Migrate from Apache to LiteSpeed \u00b6 Our default Wordpress installation now uses the Open LiteSpeed . This guide will aid in your transition to our new image. Due to changes in the volume structure between the images, a normal upgrade is not possible. Instead, this guide will walk you through migrating your data from your old container, to your new litespeed-based wordpress container. Overview \u00b6 Before migrating to the new image, be sure to understand a few important changes: The webserver will be moved from Apache to OpenLiteSpeed . While all widely used .htaccess directives are supported, you may find that some lesser-used rules may not function. Please consult the Open Litespeed documentation if you find that your site is not behaving as expected. Caching: We recommend that you use Litespeed\u2019s own Wordpress caching plugin . This is designed to work best with the Open Litespeed web server and will be the most stable for your site. The Litespeed caching plugin supports many common caching techniques including page caching, css/js minification and optimization, image optimization, and object caching through redis or memcached. However, we have had success using the W3T Caching plugin with browser caching disabled (this is handled by Litespeed). You will find that there is now a web administrator. You can use this to make configuration changes to the litespeed webserver; these changes are persisted on a separate volume attached to your container. Preflight \u00b6 If you\u2019re using horizontal scaling, scale your service back to 1 container. Take a backup of both your database and wordpress containers. If you have any caching plugins enabled, clear their cache and disable them. Migration \u00b6 The migration process is fairly simple, and involves creating a new wordpress & database container with the litespeed image and migrating your wordpress data over. Create a new Wordpress Litespeed container and it\u2019s associated MariaDB 10.3 container. Stop both the existing Wordpress container, and the new wordpress container. Migrate Database \u00b6 Perform a mysql dump on your existing database, and migrate it to the new database container. Migrate wordpress data \u00b6 Before Moving Data Locate and take note of the SFTP Volume Paths under the SFTP/SSH credentials section within ComputeStacks. The new container should be in the form of: /home/sftpuser/apps/<service-name>/wordpress The old container should be in the form of: /home/sftpuser/apps/<service-name>/Wordpress There is a difference in folder structure between the new and old wordpress containers. Be sure that when you\u2019re copying files, you\u2019re copying from the website root of one site to another. In the following examples, we are assuming that the web root of both containers are: NEW: /home/sftpuser/apps/<service-name>/wordpress/html/wordpress/ OLD: /home/sftpuser/apps/<service-name>/Wordpress/ Perform Migration SSH Into the SFTP Container of the NEW Wordpress container you just created. Delete the default wordpress installation rm -rf /home/sftpuser/apps/<service-name>/wordpress/html/wordpress/ Now determine if this SFTP container is also in use by old wordpress site by trying to cd to the SFTP volume path of the OLD wordpress container. IF that exists, proceed to 2(a), otherwise use 2(b). (A) Local rsync: old site to new volume Data is available in the same SFTP/SSH container rsync -aP /home/sftpuser/apps/<old-service-name>/Wordpress/ /home/sftpuser/apps/<new-service-name>/wordpress/html/wordpress/ (B) Remote rsync: old site to new volume For this, you will need the IP, port, and password of the old sftp container. rsync -e 'ssh -p <port-of-old-sftp-container>' -aP sftpuser@<ip-of-old-sftp-container>:/home/sftpuser/apps/<old-service-name>/Wordpress/ /home/sftpuser/apps/<new-service-name>/wordpress/html/wordpress/ Modify wp-config.php using vim or nano and update the IP address & password of the database. The database name should be the same. Adjust file permissions of the new wordpress site cd /home/sftpuser/apps/<new-service-name>/wordpress/html/wordpress/ \\ find . -type d -exec chmod 755 {} \\; find . -type f -exec chmod 644 {} \\; Start the new wordpress container Edit the domain in the project and point the domain to the new service & ingress rule (port 80). Verify your site is working and re-enable caching (preferably with the the Litespeed Caching Plugin ) (optional) Scale out horizontally (optional) Delete the old wordpress apache container and the old database container Troubleshooting \u00b6 The site does not load, or displays a blank white page This may be caused by incorrect file/folder permissions that Litespeed requires. You can quickly reset everything by running the following commands from the SFTP container: cd ~/apps/new-litespeed-container/webroot/ find . -type d -exec chmod 755 {} \\; find . -type f -exec chmod 644 {} \\; Note: Both find commands may take some time to run depending on how many files & folders you have in your site.","title":"Apache to LiteSpeed"},{"location":"user_guide/container_images/wordpress_apache/#migrate-from-apache-to-litespeed","text":"Our default Wordpress installation now uses the Open LiteSpeed . This guide will aid in your transition to our new image. Due to changes in the volume structure between the images, a normal upgrade is not possible. Instead, this guide will walk you through migrating your data from your old container, to your new litespeed-based wordpress container.","title":"Migrate from Apache to LiteSpeed"},{"location":"user_guide/container_images/wordpress_apache/#overview","text":"Before migrating to the new image, be sure to understand a few important changes: The webserver will be moved from Apache to OpenLiteSpeed . While all widely used .htaccess directives are supported, you may find that some lesser-used rules may not function. Please consult the Open Litespeed documentation if you find that your site is not behaving as expected. Caching: We recommend that you use Litespeed\u2019s own Wordpress caching plugin . This is designed to work best with the Open Litespeed web server and will be the most stable for your site. The Litespeed caching plugin supports many common caching techniques including page caching, css/js minification and optimization, image optimization, and object caching through redis or memcached. However, we have had success using the W3T Caching plugin with browser caching disabled (this is handled by Litespeed). You will find that there is now a web administrator. You can use this to make configuration changes to the litespeed webserver; these changes are persisted on a separate volume attached to your container.","title":"Overview"},{"location":"user_guide/container_images/wordpress_apache/#preflight","text":"If you\u2019re using horizontal scaling, scale your service back to 1 container. Take a backup of both your database and wordpress containers. If you have any caching plugins enabled, clear their cache and disable them.","title":"Preflight"},{"location":"user_guide/container_images/wordpress_apache/#migration","text":"The migration process is fairly simple, and involves creating a new wordpress & database container with the litespeed image and migrating your wordpress data over. Create a new Wordpress Litespeed container and it\u2019s associated MariaDB 10.3 container. Stop both the existing Wordpress container, and the new wordpress container.","title":"Migration"},{"location":"user_guide/container_images/wordpress_apache/#migrate-database","text":"Perform a mysql dump on your existing database, and migrate it to the new database container.","title":"Migrate Database"},{"location":"user_guide/container_images/wordpress_apache/#migrate-wordpress-data","text":"","title":"Migrate wordpress data"},{"location":"user_guide/container_images/wordpress_apache/#troubleshooting","text":"The site does not load, or displays a blank white page This may be caused by incorrect file/folder permissions that Litespeed requires. You can quickly reset everything by running the following commands from the SFTP container: cd ~/apps/new-litespeed-container/webroot/ find . -type d -exec chmod 755 {} \\; find . -type f -exec chmod 644 {} \\; Note: Both find commands may take some time to run depending on how many files & folders you have in your site.","title":"Troubleshooting"},{"location":"user_guide/core-concepts/mail/","text":"How to send mail \u00b6 By default, most of our images do not include any kind of MTA. This means the default phpmailer, or sendmail, will not function. However, beginning with our php7.4-based images, we now include postfix that can be configured to relay mail to your SMTP provider of choice. This means you no longer need to configure SMTP in your app, or install a wordpress plugin. You can learn more by viewing our php image on github: github.com/ComputeStacks/cs-docker-php/tree/main/7.4-litespeed Example SMTP services: Postmark Sendinblue","title":"Sending Mail"},{"location":"user_guide/core-concepts/mail/#how-to-send-mail","text":"By default, most of our images do not include any kind of MTA. This means the default phpmailer, or sendmail, will not function. However, beginning with our php7.4-based images, we now include postfix that can be configured to relay mail to your SMTP provider of choice. This means you no longer need to configure SMTP in your app, or install a wordpress plugin. You can learn more by viewing our php image on github: github.com/ComputeStacks/cs-docker-php/tree/main/7.4-litespeed Example SMTP services: Postmark Sendinblue","title":"How to send mail"},{"location":"user_guide/core-concepts/ssh/","text":"Connecting to your container \u00b6 Overview \u00b6 Unlike a traditional hosting environment, ssh & sftp access is not available directly for containers. To be able to offer this convenience, we deploy a special ssh container inside your project. Finding your login details \u00b6 To view the connection details, you will navigate to your Container Service and look for the section titled \u201cSFTP & SSH Details\u201d. If you just deployed your service, you may have to wait for a few minutes for this to appear. Be sure to take note of the volume path below your credentials. You will need to drill into that directory to find your files. You can use either an SFTP client like Transmit, or connect directly via SSH. If you connect via SSH, you will find many of the most common tools such as: git, vim, npm, wpcli, and compose. You may also use this SSH container as your bastion portal to your other containers within that deployment.","title":"SSH & File Access"},{"location":"user_guide/core-concepts/ssh/#connecting-to-your-container","text":"","title":"Connecting to your container"},{"location":"user_guide/core-concepts/ssh/#overview","text":"Unlike a traditional hosting environment, ssh & sftp access is not available directly for containers. To be able to offer this convenience, we deploy a special ssh container inside your project.","title":"Overview"},{"location":"user_guide/core-concepts/ssh/#finding-your-login-details","text":"To view the connection details, you will navigate to your Container Service and look for the section titled \u201cSFTP & SSH Details\u201d. If you just deployed your service, you may have to wait for a few minutes for this to appear. Be sure to take note of the volume path below your credentials. You will need to drill into that directory to find your files. You can use either an SFTP client like Transmit, or connect directly via SSH. If you connect via SSH, you will find many of the most common tools such as: git, vim, npm, wpcli, and compose. You may also use this SSH container as your bastion portal to your other containers within that deployment.","title":"Finding your login details"},{"location":"user_guide/how-to/building-images/","text":"Building Images for ComputeStacks \u00b6 Before you start \u00b6 Docker Installation \u00b6 These examples require that you have access to a local installation of Docker. How do I install docker? If you don\u2019t already have it installed, you can install it from: Download Docker for Mac Download Docker for Windows Download Docker for Linux: Docker for Centos Docker for Debian Docker for Fedora Docker for Ubuntu Understand Container Registries \u00b6 The first step in building your docker container is choosing a place to store your image. This is how ComputeStacks will access the finished image and deploy it on the cluster. You can use popular options like Docker Hub , GitHub , or Gitlab , or you can use the built-in Container Registry that\u2019s included with ComputeStacks. To use ComputeStacks, login to your account and navigate to Container Registry . Click \u2018New Registry\u2019 if you don\u2019t already have one and give it a friendly name. A container registry can hold an unlimited number of images, so you only need one. However, if you\u2019re working with multiple people, you may want to create a registry per-project so you can selectively give access to the developers who need to push images. Once your registry is created, make note of the registry url and the username , and password. On your local instance of docker, open a command prompt and enter docker login <registry-url> . Make use of our Metadata service \u00b6 When building multi-container services, you can leverage our Metadata service to automate the configuration step of your application. For example, in our Elasticsearch image, we bundle a nginx container to provide an auth layer in front of ElasticSearch. We use the metadata service to discover the ElasticSearch instances and reconfigure the nginx load balancer automatically. External Resources \u00b6 Here are some great external resources to review: ComputeStacks docker image library Dockerfile reference Bitnami docker images Recommended Best Practices \u00b6 Don\u2019t reinvent the wheel Try to use well-maintained images as the foundation for your custom image. Enable SFTP Access To enable SFTP access to your container, you will need to ensure file permissions are set correctly. For this to work, you will need the match the UID/GID of the user in your container, with the user of the SFTP/SSH container. Here is an example from a Dockerfile for our PHP image: RUN usermod -u 1001 www-data \\ && groupmod -g 1001 www-data You will also need to make sure you run chown -R on any files added to the container during the build process. This can be done as another RUN command, or as part of your entrypoint script. You may also want to rest all file/folder permissions with something like this: find . -type d -exec chmod 755 {} \\; find . -type f -exec chmod 644 {} \\; Don\u2019t hardcode configuration Do not hard code any database credentials, or other configuration that requires up front knowledge of the environment. Instead, make all the options configurable as ENV variables that are accessible to an entrypoint script that can configure your application at run time. See our Wordpress image as an example. Our entrypoint script takes the database settings from the environment, and configures the wordpress database settings. Adjust your webserver to retrieve the real IP of your visitors Your application will sit behind the ComputeStacks load balancer. This means your application will not have direct access to the real remote address of the visitor. In order to access that data, you will need to read the header X-Forwarded-For . Prevent SSL \u2018Too many redirects\u2019 error By default, most images are configured to listen on port 80 with the global load balancer performing SSL offloading on your behalf. In this situation, your app may not realize that the user is connected over SSL and try to redirect them to 443 . In this scenario, you will most likely have a redirect error. To accurately determine the protocol that the user is connecting over, you should look for the HTTP_X_FORWARDED_PROTO header being sent by our load balancer. Additionally, if you would like to also secure the connection between the application and our load balancer, you can optionally enable the Backend SSL setting in the appropriate ingress rule. For example, in our Wordpress image, we use: <?php if ( isset ( $_SERVER [ 'HTTP_X_FORWARDED_PROTO' ]) && $_SERVER [ 'HTTP_X_FORWARDED_PROTO' ] === 'https' ) { $_SERVER [ 'HTTPS' ] = 'on' ; } Persist your data in volumes By default, all docker containers are stateless. This means that the data within the container can go away at any time. To avoid losing data, it\u2019s important you define Volumes within ComputeStacks. ComputeStacks has no awareness of your Dockerfile, therefore volumes defined in your Dockerfile will have no effect. You must define them in ComputeStacks. Test your image! Be sure to test your image thoroughly before pushing to ComputeStacks. While we offer a lot of insight and data into your running container, the iterative process of resolving issues will be much faster locally then within the ComputeStacks environment. Define Your Image \u00b6 Now that you\u2019ve built, tested, and pushed, your image, it\u2019s time to configure it in ComputeStacks. Add your image \u00b6 You have two options when creating your image in ComputeStacks. If you\u2019re using our built-in container registry, then you can navigate to your regsitry and click the tag you want to use. This will take you to the new image page with the registry details pre-filled out. To create an image hosted elsewhere, create a new image directly from the image section and enter the details. Enable Scaling Does your image support horizontal scaling? If so, check this box and you\u2019ll be able to scale the app once it\u2019s deployed. On this screen you will notice a Command setting: This is how you can pass parameters directly to process running within the container. Here are some examples of how to use that setting: MySQL & MariaDB, we set the following command: --max_allowed_packet=268435456 . For Redis, we enable password authentication by referencing the password setting : /bin/sh -c redis-server --requirepass password is the name of a setting we defined for this image. see below . Use /bin/sh when overriding the command If you\u2019re trying to override the command itself and not just pass extra parameters, enclose your command with /bin/sh -c . Configure Parameters \u00b6 Here are two examples from our Wordpress service: Settings This is the heart of your container configuration. You will define user-supplied settings, or dynamically generated strings, with this section. You can reference the result of these as variables in both the command setting, or in environmental settings , for both this container, and any container that references this container. Volumes This is where you define persistent storage for containers. Enable SFTP will ensure you can SFTP into your image and access the files remotely. Environmental Variables These will be passed directly to the image as -e params. You have two choices: Static : Whatever you type will be passed to the container Variables : Dynamically generate the value Ingress Rules This tells ComputeStacks how to route traffic to your container. Port : What port is the container listening on? Protocol : Define the protocol. For HTTP/S, all external traffic will be routed from 80/443, to the port defined in the first step. TCP/TLS will be assigned a random port. Enable External Access : Setting this to true will enable external access either through our load balancer, or a NAT rule on the host. Load Balancer Options TCP Proxy Options : In general, this should always be disabled, otherwise you could break communication with your app. If your application specifically supports the send-proxy option, you can configure it here. ( learn more ) Cloudflare : This is only available when editing the ingress rule on a running service. This allows you to restrict access to your service to only Cloudflare. ( learn more ) Enable TCP LoadBalancing : If true, traffic will be routed through the global load balancer. You must enable this if you plan to use ComputeStacks to manage domain names and SSL Certificates. Otherwise, you will need to configure that directly in your container. Persistent Storage (Volumes) Any data changed or created by your container can be lost at any time, so it\u2019s important create volumes to persist your data. In addition to defining your volumes, you may also configure our integrated backup tool. ( learn more ) We recommend only 1 volume per container, however we recognize that sometimes that is not feasible. For example, we use 2 volumes in our OpenLiteSpeed based images . The primary reason we recommend using a single volume is to ensure that when backups are performed, they\u2019re getting a consistent point in time snapshot of your data.","title":"Building Images"},{"location":"user_guide/how-to/building-images/#building-images-for-computestacks","text":"","title":"Building Images for ComputeStacks"},{"location":"user_guide/how-to/building-images/#before-you-start","text":"","title":"Before you start"},{"location":"user_guide/how-to/building-images/#docker-installation","text":"These examples require that you have access to a local installation of Docker. How do I install docker? If you don\u2019t already have it installed, you can install it from: Download Docker for Mac Download Docker for Windows Download Docker for Linux: Docker for Centos Docker for Debian Docker for Fedora Docker for Ubuntu","title":"Docker Installation"},{"location":"user_guide/how-to/building-images/#understand-container-registries","text":"The first step in building your docker container is choosing a place to store your image. This is how ComputeStacks will access the finished image and deploy it on the cluster. You can use popular options like Docker Hub , GitHub , or Gitlab , or you can use the built-in Container Registry that\u2019s included with ComputeStacks. To use ComputeStacks, login to your account and navigate to Container Registry . Click \u2018New Registry\u2019 if you don\u2019t already have one and give it a friendly name. A container registry can hold an unlimited number of images, so you only need one. However, if you\u2019re working with multiple people, you may want to create a registry per-project so you can selectively give access to the developers who need to push images. Once your registry is created, make note of the registry url and the username , and password. On your local instance of docker, open a command prompt and enter docker login <registry-url> .","title":"Understand Container Registries"},{"location":"user_guide/how-to/building-images/#make-use-of-our-metadata-service","text":"When building multi-container services, you can leverage our Metadata service to automate the configuration step of your application. For example, in our Elasticsearch image, we bundle a nginx container to provide an auth layer in front of ElasticSearch. We use the metadata service to discover the ElasticSearch instances and reconfigure the nginx load balancer automatically.","title":"Make use of our Metadata service"},{"location":"user_guide/how-to/building-images/#external-resources","text":"Here are some great external resources to review: ComputeStacks docker image library Dockerfile reference Bitnami docker images","title":"External Resources"},{"location":"user_guide/how-to/building-images/#recommended-best-practices","text":"Don\u2019t reinvent the wheel Try to use well-maintained images as the foundation for your custom image. Enable SFTP Access To enable SFTP access to your container, you will need to ensure file permissions are set correctly. For this to work, you will need the match the UID/GID of the user in your container, with the user of the SFTP/SSH container. Here is an example from a Dockerfile for our PHP image: RUN usermod -u 1001 www-data \\ && groupmod -g 1001 www-data You will also need to make sure you run chown -R on any files added to the container during the build process. This can be done as another RUN command, or as part of your entrypoint script. You may also want to rest all file/folder permissions with something like this: find . -type d -exec chmod 755 {} \\; find . -type f -exec chmod 644 {} \\; Don\u2019t hardcode configuration Do not hard code any database credentials, or other configuration that requires up front knowledge of the environment. Instead, make all the options configurable as ENV variables that are accessible to an entrypoint script that can configure your application at run time. See our Wordpress image as an example. Our entrypoint script takes the database settings from the environment, and configures the wordpress database settings. Adjust your webserver to retrieve the real IP of your visitors Your application will sit behind the ComputeStacks load balancer. This means your application will not have direct access to the real remote address of the visitor. In order to access that data, you will need to read the header X-Forwarded-For . Prevent SSL \u2018Too many redirects\u2019 error By default, most images are configured to listen on port 80 with the global load balancer performing SSL offloading on your behalf. In this situation, your app may not realize that the user is connected over SSL and try to redirect them to 443 . In this scenario, you will most likely have a redirect error. To accurately determine the protocol that the user is connecting over, you should look for the HTTP_X_FORWARDED_PROTO header being sent by our load balancer. Additionally, if you would like to also secure the connection between the application and our load balancer, you can optionally enable the Backend SSL setting in the appropriate ingress rule. For example, in our Wordpress image, we use: <?php if ( isset ( $_SERVER [ 'HTTP_X_FORWARDED_PROTO' ]) && $_SERVER [ 'HTTP_X_FORWARDED_PROTO' ] === 'https' ) { $_SERVER [ 'HTTPS' ] = 'on' ; } Persist your data in volumes By default, all docker containers are stateless. This means that the data within the container can go away at any time. To avoid losing data, it\u2019s important you define Volumes within ComputeStacks. ComputeStacks has no awareness of your Dockerfile, therefore volumes defined in your Dockerfile will have no effect. You must define them in ComputeStacks. Test your image! Be sure to test your image thoroughly before pushing to ComputeStacks. While we offer a lot of insight and data into your running container, the iterative process of resolving issues will be much faster locally then within the ComputeStacks environment.","title":"Recommended Best Practices"},{"location":"user_guide/how-to/building-images/#define-your-image","text":"Now that you\u2019ve built, tested, and pushed, your image, it\u2019s time to configure it in ComputeStacks.","title":"Define Your Image"},{"location":"user_guide/how-to/building-images/#add-your-image","text":"You have two options when creating your image in ComputeStacks. If you\u2019re using our built-in container registry, then you can navigate to your regsitry and click the tag you want to use. This will take you to the new image page with the registry details pre-filled out. To create an image hosted elsewhere, create a new image directly from the image section and enter the details. Enable Scaling Does your image support horizontal scaling? If so, check this box and you\u2019ll be able to scale the app once it\u2019s deployed. On this screen you will notice a Command setting: This is how you can pass parameters directly to process running within the container. Here are some examples of how to use that setting: MySQL & MariaDB, we set the following command: --max_allowed_packet=268435456 . For Redis, we enable password authentication by referencing the password setting : /bin/sh -c redis-server --requirepass password is the name of a setting we defined for this image. see below . Use /bin/sh when overriding the command If you\u2019re trying to override the command itself and not just pass extra parameters, enclose your command with /bin/sh -c .","title":"Add your image"},{"location":"user_guide/how-to/building-images/#configure-parameters","text":"Here are two examples from our Wordpress service:","title":"Configure Parameters"},{"location":"user_guide/how-to/clone-project/","text":"How to clone a project \u00b6 Currently, there is no automated way of cloning a project. This feature is on our roadmap, but for now the process is manual. Consider Images Instead This guide is really designed for one-off situations. If you think you will ever have to do this more than once, I highly recommend you create custom docker images instead. Back Up Your Data! Before performing any of these steps, backup all your data (including databases)! We will be deleting files programmatically and it\u2019s possible to accidentally paste a command into the wrong server! This guide will walk you through cloning a project, while making use of the tools provided by ComputeStacks. We will be using command line tools, however you can also perform many of these steps by using an FTP client (SFTP protocol) and phpMyAdmin. In our example, we are using a standard wordpress site, and many of our commands below will include names and IP addresses that are unique to our project. Please be sure to update them according to your project. Overview \u00b6 Here is an overview of the steps we will be performing: Creating a new project with identical containers Syncing data from the old wordpress site to the new one Taking a mysql backup and restoring it in the new database container Changing the domain in wordpress Create New Project \u00b6 Our first step is to create a new project with wordpress and MariaDB. If you were also using redis, you would add that container now. When choosing packages, I recommend sticking with similar plans, or greater. Otherwise you may run into performance issues when importing the site data. Once the project is started, navigate to the newly created project and turn off the wordpress container . Sync Data \u00b6 To make things easier, I recommend keeping two browser tabs open: 1 on the new project, and 1 on the old project. You will need to navigate to the SFTP detail page for each project and make note of the IP address, port, directory path, and ssh password. ssh into the old project\u2019s ssh container and dump the database How do I find the database name? The database name will be the machine name of the service, without any dashes. You can either look at the wp-config.php file for the database name, or most likely it will be the only non-system database in mysql. In that case, you can just look at all databases with: Note The -p flag below will prompt for the password, so you won\u2019t be able to copy-paste the entire command into your terminal. mysql -h 10 .10.123.10 -u root -p show databases ; exit ssh -p 15000 sftpuser@100.100.100.100 cd ~/apps/boring-blackwell52/wordpress/html mysqldump -u root -p mydatabase > mydatabase.sql ssh into the new project\u2019s ssh container and wipe out the existing wordpress site. Save DB settings Before wiping out the default wordpress installation on the new container, I recommend copy/pasting the database configuration from the wp-config.php into a local text editor. We will need to change the old wp-config.php file to match the new one later one. wp-config.php <?php /** The name of the database for WordPress */ define ( 'DB_NAME' , 'boringbohr55' ); /** MySQL database username */ define ( 'DB_USER' , 'root' ); /** MySQL database password */ define ( 'DB_PASSWORD' , '4x1QlUf8w9XCWa' ); /** MySQL hostname */ define ( 'DB_HOST' , '10.10.50.23' ); ssh -p 16000 sftpuser@100.100.100.100 cd ~/apps/boring-bohr55/wordpress/html && rm -rf wordpress/* Copy data from the old container to the new one. Where do I find the directory paths used in your example? If you navigate to the login/setup page of your service (where the SFTP details are stored) , you will see a section called SFTP Volume Paths . rsync -e 'ssh -p 15000' -aP sftpuser@100.100.100.100:/home/sftpuser/apps/boring-blackwell52/wordpress/html/wordpress/ wordpress/ scp -P 15000 sftpuser@100.100.100.100:/home/sftpuser/apps/boring-blackwell52/wordpress/html/mydatabase.sql . Import database See the tip in (1) on how to find the database name. Reset New Database The new database will be pre-populated with a fresh wordpress install. Lets wipe that out. mysql -h 10 .10.50.23 -u root -p drop database new-database ; create database new-database ; exit Import database With a fresh database, lets import our data. cd ~/apps/boring-bohr55/wordpress/html mysql -u root -p new-database < mydatabase.sql Update wp-config.php \u00b6 Update the newly-migrated wordpress site\u2019s wp-config.php with the new database configuration. If you saved the settings into your text editor from step (2), you can simply copy/paste them back. Update the wordpress domain \u00b6 Installed on our ssh containers is the wp-cli . We will use that to programmatically change our domain name. Here is an example: cd ~/apps/boring-bohr55/wordpress/html/wordpress wp search-replace 'myoldwordpress-site.com' 'my-new-website.com' Tip for moving from www to non-www. If your old site had a domain in the form of www.example.com and you\u2019re moving to newsite.com , then run the search-replace function twice, but start with the www one. wp search-replace ` www.example.com ` ` newsite.com ` wp search-replace ` example.com ` ` newsite.com `","title":"Cloning Projects"},{"location":"user_guide/how-to/clone-project/#how-to-clone-a-project","text":"Currently, there is no automated way of cloning a project. This feature is on our roadmap, but for now the process is manual. Consider Images Instead This guide is really designed for one-off situations. If you think you will ever have to do this more than once, I highly recommend you create custom docker images instead. Back Up Your Data! Before performing any of these steps, backup all your data (including databases)! We will be deleting files programmatically and it\u2019s possible to accidentally paste a command into the wrong server! This guide will walk you through cloning a project, while making use of the tools provided by ComputeStacks. We will be using command line tools, however you can also perform many of these steps by using an FTP client (SFTP protocol) and phpMyAdmin. In our example, we are using a standard wordpress site, and many of our commands below will include names and IP addresses that are unique to our project. Please be sure to update them according to your project.","title":"How to clone a project"},{"location":"user_guide/how-to/clone-project/#overview","text":"Here is an overview of the steps we will be performing: Creating a new project with identical containers Syncing data from the old wordpress site to the new one Taking a mysql backup and restoring it in the new database container Changing the domain in wordpress","title":"Overview"},{"location":"user_guide/how-to/clone-project/#create-new-project","text":"Our first step is to create a new project with wordpress and MariaDB. If you were also using redis, you would add that container now. When choosing packages, I recommend sticking with similar plans, or greater. Otherwise you may run into performance issues when importing the site data. Once the project is started, navigate to the newly created project and turn off the wordpress container .","title":"Create New Project"},{"location":"user_guide/how-to/clone-project/#sync-data","text":"To make things easier, I recommend keeping two browser tabs open: 1 on the new project, and 1 on the old project. You will need to navigate to the SFTP detail page for each project and make note of the IP address, port, directory path, and ssh password. ssh into the old project\u2019s ssh container and dump the database How do I find the database name? The database name will be the machine name of the service, without any dashes. You can either look at the wp-config.php file for the database name, or most likely it will be the only non-system database in mysql. In that case, you can just look at all databases with: Note The -p flag below will prompt for the password, so you won\u2019t be able to copy-paste the entire command into your terminal. mysql -h 10 .10.123.10 -u root -p show databases ; exit ssh -p 15000 sftpuser@100.100.100.100 cd ~/apps/boring-blackwell52/wordpress/html mysqldump -u root -p mydatabase > mydatabase.sql ssh into the new project\u2019s ssh container and wipe out the existing wordpress site. Save DB settings Before wiping out the default wordpress installation on the new container, I recommend copy/pasting the database configuration from the wp-config.php into a local text editor. We will need to change the old wp-config.php file to match the new one later one. wp-config.php <?php /** The name of the database for WordPress */ define ( 'DB_NAME' , 'boringbohr55' ); /** MySQL database username */ define ( 'DB_USER' , 'root' ); /** MySQL database password */ define ( 'DB_PASSWORD' , '4x1QlUf8w9XCWa' ); /** MySQL hostname */ define ( 'DB_HOST' , '10.10.50.23' ); ssh -p 16000 sftpuser@100.100.100.100 cd ~/apps/boring-bohr55/wordpress/html && rm -rf wordpress/* Copy data from the old container to the new one. Where do I find the directory paths used in your example? If you navigate to the login/setup page of your service (where the SFTP details are stored) , you will see a section called SFTP Volume Paths . rsync -e 'ssh -p 15000' -aP sftpuser@100.100.100.100:/home/sftpuser/apps/boring-blackwell52/wordpress/html/wordpress/ wordpress/ scp -P 15000 sftpuser@100.100.100.100:/home/sftpuser/apps/boring-blackwell52/wordpress/html/mydatabase.sql . Import database See the tip in (1) on how to find the database name. Reset New Database The new database will be pre-populated with a fresh wordpress install. Lets wipe that out. mysql -h 10 .10.50.23 -u root -p drop database new-database ; create database new-database ; exit Import database With a fresh database, lets import our data. cd ~/apps/boring-bohr55/wordpress/html mysql -u root -p new-database < mydatabase.sql","title":"Sync Data"},{"location":"user_guide/how-to/clone-project/#update-wp-configphp","text":"Update the newly-migrated wordpress site\u2019s wp-config.php with the new database configuration. If you saved the settings into your text editor from step (2), you can simply copy/paste them back.","title":"Update wp-config.php"},{"location":"user_guide/how-to/clone-project/#update-the-wordpress-domain","text":"Installed on our ssh containers is the wp-cli . We will use that to programmatically change our domain name. Here is an example: cd ~/apps/boring-bohr55/wordpress/html/wordpress wp search-replace 'myoldwordpress-site.com' 'my-new-website.com' Tip for moving from www to non-www. If your old site had a domain in the form of www.example.com and you\u2019re moving to newsite.com , then run the search-replace function twice, but start with the www one. wp search-replace ` www.example.com ` ` newsite.com ` wp search-replace ` example.com ` ` newsite.com `","title":"Update the wordpress domain"},{"location":"user_guide/how-to/moving/","text":"How to migrate an existing application \u00b6 Overview \u00b6 When onboarding a new application to ComputeStacks, there are two directions you can go: Traditional containerized application deployment process. \u00b6 This is typically used by developers, or users with container experience. The application will be packaged into the container itself and will not enable SFTP access to the container. This allows for versioned containers and integration with build pipelines (CI). Traditional FTP/SFTP setup \u00b6 This would be the legacy web hosting model where the user will login using their FTP/SFTP application of choice. All of our current marketplace images (Wordpress, PHP, Magento, etc) follow this model. We have a standardized image without any application data stored in the container. You will upload their application to the volume using the SSH/SFTP container attached to their project. This guide will focus on #2: Migrating a custom application from a traditional hosting environment, while maintaining the SFTP access they\u2019re used to. Throughout this application, we will be using a demo php/mysql application as our example. Survey Existing Application \u00b6 Our first step is to survey their existing application and determine which containers we will need, and if we need to build anything for their application. In general, our goal is to reuse existing images that we already have built, and make modifications using the existing tools (e.g. htaccess , cron jobs ), rather than build a custom image that we then need to maintain. Identify Data Persistence Requirements \u00b6 What kind of data is being stored, and where is being stored currently? If the application is expecting data to be persisted outside of a standard directory structure, we may need to build a custom image. With ComputeStacks, you can have as many volumes as you want. However, our backup system will backup each volume separately, so we recommend trying to keep each image to only a single volume to ensure a consistent backup. Required Services \u00b6 Containers in general expect there to be only a single running process. If this application has multiple services running, then we may need to create custom images and break out each service into their own service. Here are some common examples of dependent services that we need to deploy. Mail How does the application deal with mail? Many php applications rely on sendmail being available, however our container images do not directly support sending mail and many providers specifically block outbound mail from their platform. We recommend using a commercial service for sending mail. This provides a better experience for your users (better email deliverability), less support requests, and less work for your support team since they won\u2019t have to deal with outbound spam. Here are a few providers we recommend: Postmark , Sendgrid , AmazonSES . You can optionally use an SMTP container like MailHog to process mail. Redis Redis is very easy to add to your application with ComputeStacks, simply choose it from the store. One thing to note is that our image does not persist data, it is configured as an in-memory store only. If the application requires redis to persist data through restarts, you will want to create your own and add a volume to it. Cron Jobs Our PHP images do run the cron daemon inside the same container. This makes it easy to migrate existing web applications over. When you SFTP or SSH into your container, you will see a file in the root of the volume called crontab. Add your cronjobs here and restart the container for them to be installed. Inside of the container the full path will be /var/www/html/crontab and not /home/sftpuser/apps/<service-name>/webroot/crontab . Identify Configuration Strategy \u00b6 Each application will configuration differently, but they can generally be drilled down to two different strategies: Configuration Files, and Environmental Parameters. When migrating your application to ComputeStacks, review the configuration files and see how they expect configuration data to be passed to it. In our example, the developer is using Environmental Parameters stored in a .env file, so that is how we will proceed. Configuration Files With configuration files, all the database parameters, session keys, etc., are stored in plain text files on the volume. This is how, for example, Wordpress manages their configuration. Environmental Parameters With environmental parameters, the configuration files will reference the environment for the value. This is the preferred method of configuration because it means your application can easily be moved to a different environment, without having to modify any files. Launching Containers \u00b6 For this example, create a new project with: MariaDB 10.4, PHP 7.3 with OpenLiteSpeed, Redis, and phpMyAdmin. MariaDB 10.4 \u00b6 Once you launch the container, we will need to manually create the database and import their database backup. On the main project page that lists all the containers in your project, click login on the MariaDB container. This will provide you your link to phpMyAdmin and the root password. I recommend matching the new database collation to the existing database you\u2019re importing. If you look at the database export and find one of the CREATE TABLE statements, you should see at the end the line COLLATE= . Try to match that in phpMyAdmin. After creating the database, navigate to the Import tab and upload your database dump. PHP & OpenLiteSpeed \u00b6 Our PHP 7.3 container, which is powered by OpenLiteSpeed, comes with a great web administrator. We will use this to make final configuration changes to the container. However, first we need to upload our application. Using either SFTP or rsync, move the application to the volume. Below is an example using rsync to upload our application to our example container jovial-poitras82 . Importing data and setting up the webserver In this example we are using the ip 1.1.1.1 and port 29656 . You need to change these to the values listed for your specific application in ComputeStacks! # Step 1: is the clear out the sample application included in the container ssh -p 29656 sftpuser@1.1.1.1 rm ~/apps/jovial-poitras82/webroot/html/default/index.php rm ~/apps/jovial-poitras82/webroot/html/default/info.php exit # Step 2: is to rsync the files cd /path/to/my/app rsync -e 'ssh -p 29656' -aP . sftpuser@1.1.1.1:apps/jovial-poitras82/webroot/html/default/ Reset File Permissions The third step is to reset file permissions. Regardless of how you got the files onto the server, most likely the folder/file permissions are incorrect and will result in a 403 FORBIDDEN error page. # Step 1: SSH back into the ssh container ssh -p 29656 sftpuser@1.1.1.1 # Step 2: Navigate to the root of the application cd ~/apps/jovial-poitras82/webroot/html/default # Step 3: Reset folder permissions find . -type d -exec chmod 755 {} \\; # Step 4: Reset file permissions (Note: Depending on how many files you have, this can take several minutes) find . -type f -exec chmod 644 {} \\; # Step 5: Review the application specific recommendations for file/folder permissions and adjust accordingly. # Step 6: Although not always required, if you still see 403 forbidden errors, you may need to restart the container. Once it\u2019s deployed, navigate to the main service page and locate the web administrator URL and password. The password will be labeled Litespeed Password , and the URL will be the one routed to port 7080 . Click that and login. The default configuration for our PHP 7.3 Litespeed image expects the application to live in /var/www/html/default, however symfony uses a different application structure where the index lives below the public/ directory, so we will need to adjust the default vhost. Login to the web administrator and navigate to Virtual Hosts and click on Default to view the default virtual host. Click the edit button in the top right corner of the first section (Base) to edit the section. Ensure that the Virtual Host Root is /var/www/html/default . Click the General tab and edit the first box (Also General). Set the Document Root to $VH_ROOT/public. Click the icon to save your changes. Now we need to reload the webserver. You can do this by restarting the container, or issuing a graceful restart in the web administrator. Click the server name below the word \u2018OpenLiteSpeed\u2019 in the upper left-hand corner. Choose graceful restart. Configuring container to link to other required containers As stated previously, we will be using environmental parameters to pass configuration data to our application. Back in the ComputeStacks interface, navigate to the service overview page, click on the gear icon and choose Environment. Here you will see a list of the existing environmental parameters, click the icon to add a new one. We will be creating the following environmental parameters for our service: DATABASE_URL In our example, this is in the form: mysql://username:password@ip-address/databasename . Our username will be root, and the ip address will be the direct local IP of the mariadb container. APP_SECRET APP_ENV MAILER_URL In our example, this is in the form: smtp://username:password@mailserver MAILER_FROM MAILER_TEST After you have added all the environmental parameters, you will need to issue a rebuild of your container.","title":"Migrating Existing Application"},{"location":"user_guide/how-to/moving/#how-to-migrate-an-existing-application","text":"","title":"How to migrate an existing application"},{"location":"user_guide/how-to/moving/#overview","text":"When onboarding a new application to ComputeStacks, there are two directions you can go:","title":"Overview"},{"location":"user_guide/how-to/moving/#traditional-containerized-application-deployment-process","text":"This is typically used by developers, or users with container experience. The application will be packaged into the container itself and will not enable SFTP access to the container. This allows for versioned containers and integration with build pipelines (CI).","title":"Traditional containerized application deployment process."},{"location":"user_guide/how-to/moving/#traditional-ftpsftp-setup","text":"This would be the legacy web hosting model where the user will login using their FTP/SFTP application of choice. All of our current marketplace images (Wordpress, PHP, Magento, etc) follow this model. We have a standardized image without any application data stored in the container. You will upload their application to the volume using the SSH/SFTP container attached to their project. This guide will focus on #2: Migrating a custom application from a traditional hosting environment, while maintaining the SFTP access they\u2019re used to. Throughout this application, we will be using a demo php/mysql application as our example.","title":"Traditional FTP/SFTP setup"},{"location":"user_guide/how-to/moving/#survey-existing-application","text":"Our first step is to survey their existing application and determine which containers we will need, and if we need to build anything for their application. In general, our goal is to reuse existing images that we already have built, and make modifications using the existing tools (e.g. htaccess , cron jobs ), rather than build a custom image that we then need to maintain.","title":"Survey Existing Application"},{"location":"user_guide/how-to/moving/#identify-data-persistence-requirements","text":"What kind of data is being stored, and where is being stored currently? If the application is expecting data to be persisted outside of a standard directory structure, we may need to build a custom image. With ComputeStacks, you can have as many volumes as you want. However, our backup system will backup each volume separately, so we recommend trying to keep each image to only a single volume to ensure a consistent backup.","title":"Identify Data Persistence Requirements"},{"location":"user_guide/how-to/moving/#required-services","text":"Containers in general expect there to be only a single running process. If this application has multiple services running, then we may need to create custom images and break out each service into their own service. Here are some common examples of dependent services that we need to deploy.","title":"Required Services"},{"location":"user_guide/how-to/moving/#identify-configuration-strategy","text":"Each application will configuration differently, but they can generally be drilled down to two different strategies: Configuration Files, and Environmental Parameters. When migrating your application to ComputeStacks, review the configuration files and see how they expect configuration data to be passed to it. In our example, the developer is using Environmental Parameters stored in a .env file, so that is how we will proceed.","title":"Identify Configuration Strategy"},{"location":"user_guide/how-to/moving/#launching-containers","text":"For this example, create a new project with: MariaDB 10.4, PHP 7.3 with OpenLiteSpeed, Redis, and phpMyAdmin.","title":"Launching Containers"},{"location":"user_guide/how-to/moving/#mariadb-104","text":"Once you launch the container, we will need to manually create the database and import their database backup. On the main project page that lists all the containers in your project, click login on the MariaDB container. This will provide you your link to phpMyAdmin and the root password. I recommend matching the new database collation to the existing database you\u2019re importing. If you look at the database export and find one of the CREATE TABLE statements, you should see at the end the line COLLATE= . Try to match that in phpMyAdmin. After creating the database, navigate to the Import tab and upload your database dump.","title":"MariaDB 10.4"},{"location":"user_guide/how-to/moving/#php-openlitespeed","text":"Our PHP 7.3 container, which is powered by OpenLiteSpeed, comes with a great web administrator. We will use this to make final configuration changes to the container. However, first we need to upload our application. Using either SFTP or rsync, move the application to the volume. Below is an example using rsync to upload our application to our example container jovial-poitras82 . Importing data and setting up the webserver In this example we are using the ip 1.1.1.1 and port 29656 . You need to change these to the values listed for your specific application in ComputeStacks! # Step 1: is the clear out the sample application included in the container ssh -p 29656 sftpuser@1.1.1.1 rm ~/apps/jovial-poitras82/webroot/html/default/index.php rm ~/apps/jovial-poitras82/webroot/html/default/info.php exit # Step 2: is to rsync the files cd /path/to/my/app rsync -e 'ssh -p 29656' -aP . sftpuser@1.1.1.1:apps/jovial-poitras82/webroot/html/default/ Reset File Permissions The third step is to reset file permissions. Regardless of how you got the files onto the server, most likely the folder/file permissions are incorrect and will result in a 403 FORBIDDEN error page. # Step 1: SSH back into the ssh container ssh -p 29656 sftpuser@1.1.1.1 # Step 2: Navigate to the root of the application cd ~/apps/jovial-poitras82/webroot/html/default # Step 3: Reset folder permissions find . -type d -exec chmod 755 {} \\; # Step 4: Reset file permissions (Note: Depending on how many files you have, this can take several minutes) find . -type f -exec chmod 644 {} \\; # Step 5: Review the application specific recommendations for file/folder permissions and adjust accordingly. # Step 6: Although not always required, if you still see 403 forbidden errors, you may need to restart the container. Once it\u2019s deployed, navigate to the main service page and locate the web administrator URL and password. The password will be labeled Litespeed Password , and the URL will be the one routed to port 7080 . Click that and login. The default configuration for our PHP 7.3 Litespeed image expects the application to live in /var/www/html/default, however symfony uses a different application structure where the index lives below the public/ directory, so we will need to adjust the default vhost. Login to the web administrator and navigate to Virtual Hosts and click on Default to view the default virtual host. Click the edit button in the top right corner of the first section (Base) to edit the section. Ensure that the Virtual Host Root is /var/www/html/default . Click the General tab and edit the first box (Also General). Set the Document Root to $VH_ROOT/public. Click the icon to save your changes. Now we need to reload the webserver. You can do this by restarting the container, or issuing a graceful restart in the web administrator. Click the server name below the word \u2018OpenLiteSpeed\u2019 in the upper left-hand corner. Choose graceful restart.","title":"PHP &amp; OpenLiteSpeed"},{"location":"user_guide/third-party/cloudflare/","text":"Integrating Cloudflare with ComputeStacks \u00b6 ComputeStacks offers a number of integration points to enable seamless integration with Cloudflare. Real IP \u00b6 We automatically accept the real visitor IP header from cloudflare and pass that along to your application as our standard real ip header. (see tip about real IP here ). CloudFlare Access & Restricting Traffic \u00b6 You can block all external traffic to your site, and only allow traffic originating from Cloudflare. This offers a number advantages for Cloudflare enabled sites: Ensure malicious users are not bypassing Cloudflare\u2019s WAF When paired with Cloudflare access , provide a safe way of blocking access to unauthenticated users. Ensure users are not bypassing your Cloudflare cache and increasing your bandwidth costs","title":"Cloudflare"},{"location":"user_guide/third-party/cloudflare/#integrating-cloudflare-with-computestacks","text":"ComputeStacks offers a number of integration points to enable seamless integration with Cloudflare.","title":"Integrating Cloudflare with ComputeStacks"},{"location":"user_guide/third-party/cloudflare/#real-ip","text":"We automatically accept the real visitor IP header from cloudflare and pass that along to your application as our standard real ip header. (see tip about real IP here ).","title":"Real IP"},{"location":"user_guide/third-party/cloudflare/#cloudflare-access-restricting-traffic","text":"You can block all external traffic to your site, and only allow traffic originating from Cloudflare. This offers a number advantages for Cloudflare enabled sites: Ensure malicious users are not bypassing Cloudflare\u2019s WAF When paired with Cloudflare access , provide a safe way of blocking access to unauthenticated users. Ensure users are not bypassing your Cloudflare cache and increasing your bandwidth costs","title":"CloudFlare Access &amp; Restricting Traffic"}]}